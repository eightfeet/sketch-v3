import{m as O,r as l,u as $,w as B,R as u,a as P,Q as k}from"./index-6d4ac582.js";import{u as w}from"./useDocumentTitle-40ef9602.js";const d="adm-floating-bubble",F={axis:"y",defaultOffset:{x:0,y:0}},j=E=>{const t=O(F,E),m=l.useRef(null),y=l.useRef(null),[R,C]=l.useState(t.offset===void 0?t.defaultOffset:t.offset);l.useEffect(()=>{t.offset!==void 0&&g.start({x:t.offset.x,y:t.offset.y})},[t.offset]);const[{x:i,y:f,opacity:D},g]=$(()=>({x:R.x,y:R.y,opacity:1})),N=w(e=>{var n;let p=e.offset[0],b=e.offset[1];if(e.last&&t.magnetic){const v=m.current,h=y.current;if(!v||!h)return;const c=v.getBoundingClientRect(),r=h.getBoundingClientRect();if(t.magnetic==="x"){const s=i.goal-i.get(),o=r.left+s-c.left,a=c.right-(r.right+s);a<=o?p+=a:p-=o}else if(t.magnetic==="y"){const s=f.goal-f.get(),o=r.top+s-c.top,a=c.bottom-(r.bottom+s);a<=o?b+=a:b-=o}}const x={x:p,y:b};t.offset===void 0?g.start(x):C(x),(n=t.onOffsetChange)===null||n===void 0||n.call(t,x),g.start({opacity:e.active?.8:1})},{axis:t.axis==="xy"?void 0:t.axis,pointer:{touch:!0},filterTaps:!0,bounds:m,from:()=>[i.get(),f.get()]});return B(t,u.createElement("div",{className:d},u.createElement("div",{className:`${d}-boundary-outer`},u.createElement("div",{className:`${d}-boundary`,ref:m})),u.createElement(P.div,Object.assign({},N(),{style:{opacity:D,transform:k([i,f],(e,n)=>`translate(${e}px, ${n}px)`)},onClick:t.onClick,className:`${d}-button`,ref:y}),t.children)))};export{j as F};
