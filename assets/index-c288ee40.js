import{r as c,w as Q,R as v,c as A,F as Qt,m as U,G as en,u as Be,H as tn,I as nn,M as Ve,a as ve,J as rn,K as We,N as ht,D as sn,j as a,b as an}from"./index-55d55bd3.js";import{_ as vt,l as on,m as cn,n as ln,o as un,p as Qe,f as oe,a as dn,B as fn,I as mn,b as He,q as hn,v as vn,w as gn,u as gt,d as ge,r as pe,P as pn,c as bn,S as yn,x as G,R as _n}from"./bundle-250dbbba.js";import{b as q,d as pt,a as xn}from"./duration-190b4d7c.js";import{d as wn,c as kn,C as En,e as Nn,_ as bt,f as yt,g as W,h as Cn,u as Sn,F as fe,N as jn,S as Rn}from"./SelectedList-42802907.js";function Mn(t){var e=c.useRef(0),n=vt(c.useState(t),2),r=n[0],i=n[1],s=c.useCallback(function(l){cancelAnimationFrame(e.current),e.current=requestAnimationFrame(function(){i(l)})},[]);return on(function(){cancelAnimationFrame(e.current)}),[r,s]}var _t=function(){if(typeof Map<"u")return Map;function t(e,n){var r=-1;return e.some(function(i,s){return i[0]===n?(r=s,!0):!1}),r}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(n){var r=t(this.__entries__,n),i=this.__entries__[r];return i&&i[1]},e.prototype.set=function(n,r){var i=t(this.__entries__,n);~i?this.__entries__[i][1]=r:this.__entries__.push([n,r])},e.prototype.delete=function(n){var r=this.__entries__,i=t(r,n);~i&&r.splice(i,1)},e.prototype.has=function(n){return!!~t(this.__entries__,n)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(n,r){r===void 0&&(r=null);for(var i=0,s=this.__entries__;i<s.length;i++){var l=s[i];n.call(r,l[1],l[0])}},e}()}(),ze=typeof window<"u"&&typeof document<"u"&&window.document===document,be=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),$n=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(be):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)}}(),In=2;function On(t,e){var n=!1,r=!1,i=0;function s(){n&&(n=!1,t()),r&&o()}function l(){$n(s)}function o(){var f=Date.now();if(n){if(f-i<In)return;r=!0}else n=!0,r=!1,setTimeout(l,e);i=f}return o}var Tn=20,Ln=["top","right","bottom","left","width","height","size","weight"],An=typeof MutationObserver<"u",Pn=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=On(this.refresh.bind(this),Tn)}return t.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},t.prototype.removeObserver=function(e){var n=this.observers_,r=n.indexOf(e);~r&&n.splice(r,1),!n.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},t.prototype.updateObservers_=function(){var e=this.observers_.filter(function(n){return n.gatherActive(),n.hasActive()});return e.forEach(function(n){return n.broadcastActive()}),e.length>0},t.prototype.connect_=function(){!ze||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),An?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){!ze||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(e){var n=e.propertyName,r=n===void 0?"":n,i=Ln.some(function(s){return!!~r.indexOf(s)});i&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),xt=function(t,e){for(var n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];Object.defineProperty(t,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return t},K=function(t){var e=t&&t.ownerDocument&&t.ownerDocument.defaultView;return e||be},wt=ke(0,0,0,0);function ye(t){return parseFloat(t)||0}function et(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce(function(r,i){var s=t["border-"+i+"-width"];return r+ye(s)},0)}function zn(t){for(var e=["top","right","bottom","left"],n={},r=0,i=e;r<i.length;r++){var s=i[r],l=t["padding-"+s];n[s]=ye(l)}return n}function Dn(t){var e=t.getBBox();return ke(0,0,e.width,e.height)}function Fn(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return wt;var r=K(t).getComputedStyle(t),i=zn(r),s=i.left+i.right,l=i.top+i.bottom,o=ye(r.width),f=ye(r.height);if(r.boxSizing==="border-box"&&(Math.round(o+s)!==e&&(o-=et(r,"left","right")+s),Math.round(f+l)!==n&&(f-=et(r,"top","bottom")+l)),!Vn(t)){var u=Math.round(o+s)-e,m=Math.round(f+l)-n;Math.abs(u)!==1&&(o-=u),Math.abs(m)!==1&&(f-=m)}return ke(i.left,i.top,o,f)}var Bn=function(){return typeof SVGGraphicsElement<"u"?function(t){return t instanceof K(t).SVGGraphicsElement}:function(t){return t instanceof K(t).SVGElement&&typeof t.getBBox=="function"}}();function Vn(t){return t===K(t).document.documentElement}function Wn(t){return ze?Bn(t)?Dn(t):Fn(t):wt}function Hn(t){var e=t.x,n=t.y,r=t.width,i=t.height,s=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,l=Object.create(s.prototype);return xt(l,{x:e,y:n,width:r,height:i,top:n,right:e+r,bottom:i+n,left:e}),l}function ke(t,e,n,r){return{x:t,y:e,width:n,height:r}}var qn=function(){function t(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=ke(0,0,0,0),this.target=e}return t.prototype.isActive=function(){var e=Wn(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},t}(),Gn=function(){function t(e,n){var r=Hn(n);xt(this,{target:e,contentRect:r})}return t}(),Xn=function(){function t(e,n,r){if(this.activeObservations_=[],this.observations_=new _t,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=n,this.callbackCtx_=r}return t.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof K(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)||(n.set(e,new qn(e)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof K(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)&&(n.delete(e),n.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(n){n.isActive()&&e.activeObservations_.push(n)})},t.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,n=this.activeObservations_.map(function(r){return new Gn(r.target,r.broadcastRect())});this.callback_.call(e,n,e),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),kt=typeof WeakMap<"u"?new WeakMap:new _t,Et=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=Pn.getInstance(),r=new Xn(e,n,this);kt.set(this,r)}return t}();["observe","unobserve","disconnect"].forEach(function(t){Et.prototype[t]=function(){var e;return(e=kt.get(this))[t].apply(e,arguments)}});var Zn=function(){return typeof be.ResizeObserver<"u"?be.ResizeObserver:Et}(),Un=cn(c.useLayoutEffect);const Yn=Un;var Kn=ln?Yn:un;const Jn=Kn;function tt(t){var e=vt(Mn(function(){var i=Qe(t);return i?{width:i.clientWidth,height:i.clientHeight}:void 0}),2),n=e[0],r=e[1];return Jn(function(){var i=Qe(t);if(i){var s=new Zn(function(l){l.forEach(function(o){var f=o.target,u=f.clientWidth,m=f.clientHeight;r({width:u,height:m})})});return s.observe(i),function(){s.disconnect()}}},[],t),n}function Qn(t){return c.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},t,{style:Object.assign({verticalAlign:"-0.125em"},t.style),className:["antd-mobile-icon",t.className].filter(Boolean).join(" ")}),c.createElement("g",{id:"EditSOutline-EditSOutline",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},c.createElement("g",{id:"EditSOutline-编组"},c.createElement("rect",{id:"EditSOutline-矩形",fill:"#FFFFFF",opacity:0,x:0,y:0,width:48,height:48}),c.createElement("path",{d:"M39.1558113,6.84476948 L39.1547876,6.84478452 C41.6150708,9.30533949 41.6150708,13.2945216 39.1547875,15.7550568 L14.2175882,40.6933641 C14.0205351,40.8899288 13.7535085,41 13.475183,41 L7.10015653,41 C5.94027729,41 5.00000168,40.0596889 5.00000168,38.8997532 L5.00000168,32.525535 C4.9995034,32.2468348 5.1098075,31.9793647 5.30661943,31.7820434 L30.2469685,6.84477025 C32.707296,4.38507671 36.6954838,4.38507671 39.1558113,6.84476948 Z M41.5764707,38 C41.8588237,38 42,38.1333332 42,38.4000001 L42,40.5999999 C42,40.8666668 41.8588237,41 41.5764707,41 L24.4235293,41 C24.1411763,41 24,40.8666668 24,40.5999999 L24,38.4000001 C24,38.1333332 24.1411763,38 24.4235293,38 L41.5764707,38 Z M28.172,13.371 L8.2730898,33.272167 C8.19433904,33.3510089 8.15023081,33.4579141 8.15023081,33.5693515 L8.15023081,37.4317018 C8.15023081,37.663779 8.33819467,37.8517506 8.57026108,37.8517506 L12.4303379,37.8517506 C12.5419214,37.8517506 12.6488431,37.8069757 12.7275092,37.7278363 L32.628,17.827 L28.172,13.371 Z M41.5555549,31 C41.8518518,31 42,31.1333332 42,31.4000001 L42,33.5999999 C42,33.8666668 41.8518518,34 41.5555549,34 L32.4444451,34 C32.1481482,34 32,33.8666668 32,33.5999999 L32,31.4000001 C32,31.1333332 32.1481482,31 32.4444451,31 L41.5555549,31 Z M32.607562,8.94503104 L32.4721022,9.07104573 L30.371,11.172 L34.827,15.628 L36.9275554,13.5288315 C38.1074041,12.3492947 38.1631188,10.4544078 37.0546144,9.20757614 L36.9286053,9.07316031 L36.9286254,9.07104573 C35.7488554,7.89144977 33.8540626,7.83619529 32.607562,8.94503104 Z",id:"EditSOutline-形状结合",fill:"currentColor",fillRule:"nonzero"}))))}const nt="adm-safe-area",Nt=t=>Q(t,v.createElement("div",{className:A(nt,`${nt}-position-${t.position}`)})),_e=Object.assign({},Qt),{version:er,render:tr,unmountComponentAtNode:nr}=_e;let Ee;try{Number((er||"").split(".")[0])>=18&&_e.createRoot&&(Ee=_e.createRoot)}catch{}function rt(t){const{__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:e}=_e;e&&typeof e=="object"&&(e.usingClientEntryPoint=t)}const xe="__antd_mobile_root__";function rr(t,e){tr(t,e)}function ir(t,e){rt(!0);const n=e[xe]||Ee(e);rt(!1),n.render(t),e[xe]=n}function sr(t,e){if(Ee){ir(t,e);return}rr(t,e)}function ar(t){return nr(t)}function or(t){return oe(this,void 0,void 0,function*(){return Promise.resolve().then(()=>{var e;(e=t[xe])===null||e===void 0||e.unmount(),delete t[xe]})})}function cr(t){return Ee?or(t):ar(t)}function lr(t){const e=document.createElement("div");document.body.appendChild(e);function n(){cr(e)&&e.parentNode&&e.parentNode.removeChild(e)}return sr(t,e),n}function qe(t){const e=v.forwardRef((i,s)=>{const[l,o]=c.useState(!1),f=c.useRef(!1),[u,m]=c.useState(t),d=c.useRef(0);c.useEffect(()=>{f.current?b():o(!0)},[]);function h(){var x,g;f.current=!0,o(!1),(g=(x=u.props).onClose)===null||g===void 0||g.call(x)}function b(){var x,g;r(),(g=(x=u.props).afterClose)===null||g===void 0||g.call(x)}return c.useImperativeHandle(s,()=>({close:h,replace:x=>{var g,w;d.current++,(w=(g=u.props).afterClose)===null||w===void 0||w.call(g),m(x)}})),v.cloneElement(u,Object.assign(Object.assign({},u.props),{key:d.current,visible:l,onClose:h,afterClose:b}))}),n=v.createRef(),r=lr(v.createElement(e,{ref:n}));return{close:()=>oe(this,void 0,void 0,function*(){var i;n.current?(i=n.current)===null||i===void 0||i.close():r()}),replace:i=>{var s;(s=n.current)===null||s===void 0||s.replace(i)}}}const it="adm-auto-center",st=t=>Q(t,v.createElement("div",{className:it},v.createElement("div",{className:`${it}-content`},t.children)));function at(t,e,n){return t*e*n/(e+n*t)}function ot(t,e,n,r,i=.15){return i===0?q(t,e,n):t<e?-at(e-t,r,i)+e:t>n?+at(t-n,r,i)+n:t}const ee="adm-center-popup",ur=Object.assign(Object.assign({},wn),{getContainer:null}),dr=t=>{const e=U(ur,t),n=en(),r=Be({scale:e.visible?1:.8,opacity:e.visible?1:0,config:{mass:1.2,tension:200,friction:25,clamp:!0},onRest:()=>{var m,d;n.current||(s(e.visible),e.visible?(m=e.afterShow)===null||m===void 0||m.call(e):(d=e.afterClose)===null||d===void 0||d.call(e))}}),[i,s]=c.useState(e.visible);dn(()=>{e.visible&&s(!0)},[e.visible]);const l=c.useRef(null);tn(l,e.disableBodyScroll&&i);const o=kn(i&&e.visible),f=v.createElement("div",{className:A(`${ee}-body`,e.bodyClassName),style:e.bodyStyle},e.children),u=nn(e.stopPropagation,Q(e,v.createElement("div",{className:ee,style:{display:i?void 0:"none",pointerEvents:i?void 0:"none"}},e.mask&&v.createElement(Ve,{visible:o,forceRender:e.forceRender,destroyOnClose:e.destroyOnClose,onMaskClick:m=>{var d,h;(d=e.onMaskClick)===null||d===void 0||d.call(e,m),e.closeOnMaskClick&&((h=e.onClose)===null||h===void 0||h.call(e))},style:e.maskStyle,className:A(`${ee}-mask`,e.maskClassName),disableBodyScroll:!1,stopPropagation:e.stopPropagation}),v.createElement("div",{className:`${ee}-wrap`,role:e.role,"aria-label":e["aria-label"]},v.createElement(ve.div,{style:r,ref:l},e.showCloseButton&&v.createElement("a",{className:A(`${ee}-close`,"adm-plain-anchor"),onClick:()=>{var m;(m=e.onClose)===null||m===void 0||m.call(e)}},v.createElement(En,null)),f)))));return v.createElement(rn,{active:i,forceRender:e.forceRender,destroyOnClose:e.destroyOnClose},We(e.getContainer,u))};const fr=t=>{const{action:e}=t;return Q(t.action,v.createElement(fn,{key:e.key,onClick:t.onAction,className:A("adm-dialog-button",{"adm-dialog-button-bold":e.bold}),fill:"none",shape:"rectangular",block:!0,color:e.danger?"danger":"primary",loading:"auto",disabled:e.disabled},e.text))},mr={actions:[],closeOnAction:!1,closeOnMaskClick:!1,getContainer:null},Ct=t=>{const e=U(mr,t),n=v.createElement(v.Fragment,null,!!e.image&&v.createElement("div",{className:V("image-container")},v.createElement(mn,{src:e.image,alt:"dialog header image",width:"100%"})),!!e.header&&v.createElement("div",{className:V("header")},v.createElement(st,null,e.header)),!!e.title&&v.createElement("div",{className:V("title")},e.title),v.createElement("div",{className:A(V("content"),!e.content&&V("content-empty"))},typeof e.content=="string"?v.createElement(st,null,e.content):e.content),v.createElement("div",{className:V("footer")},e.actions.map((r,i)=>{const s=Array.isArray(r)?r:[r];return v.createElement("div",{className:V("action-row"),key:i},s.map((l,o)=>v.createElement(fr,{key:l.key,action:l,onAction:()=>oe(void 0,void 0,void 0,function*(){var f,u,m;yield Promise.all([(f=l.onClick)===null||f===void 0?void 0:f.call(l),(u=e.onAction)===null||u===void 0?void 0:u.call(e,l,o)]),e.closeOnAction&&((m=e.onClose)===null||m===void 0||m.call(e))})})))})));return v.createElement(dr,{className:A(V(),e.className),style:e.style,afterClose:e.afterClose,afterShow:e.afterShow,onMaskClick:e.closeOnMaskClick?()=>{var r;(r=e.onClose)===null||r===void 0||r.call(e)}:void 0,visible:e.visible,getContainer:e.getContainer,bodyStyle:e.bodyStyle,bodyClassName:A(V("body"),e.image&&V("with-image"),e.bodyClassName),maskStyle:e.maskStyle,maskClassName:e.maskClassName,stopPropagation:e.stopPropagation,disableBodyScroll:e.disableBodyScroll,destroyOnClose:e.destroyOnClose,forceRender:e.forceRender,role:"dialog","aria-label":e["aria-label"]},n)};function V(t=""){return"adm-dialog"+(t&&"-")+t}const De=new Set;function Ge(t){const e=qe(v.createElement(Ct,Object.assign({},t,{afterClose:()=>{var n;De.delete(e.close),(n=t.afterClose)===null||n===void 0||n.call(t)}})));return De.add(e.close),e}function hr(t){const e={confirmText:ht().locale.Dialog.ok},n=U(e,t);return new Promise(r=>{Ge(Object.assign(Object.assign({},n),{closeOnAction:!0,actions:[{key:"confirm",text:n.confirmText}],onAction:n.onConfirm,onClose:()=>{var i;(i=n.onClose)===null||i===void 0||i.call(n),r()}}))})}const vr={confirmText:"确认",cancelText:"取消"};function gr(t){const{locale:e}=ht(),n=U(vr,{confirmText:e.common.confirm,cancelText:e.common.cancel},t);return new Promise(r=>{Ge(Object.assign(Object.assign({},n),{closeOnAction:!0,onClose:()=>{var i;(i=n.onClose)===null||i===void 0||i.call(n),r(!1)},actions:[[{key:"cancel",text:n.cancelText,onClick:()=>oe(this,void 0,void 0,function*(){var i;yield(i=n.onCancel)===null||i===void 0?void 0:i.call(n),r(!1)})},{key:"confirm",text:n.confirmText,bold:!0,onClick:()=>oe(this,void 0,void 0,function*(){var i;yield(i=n.onConfirm)===null||i===void 0?void 0:i.call(n),r(!0)})}]]}))})}function pr(){De.forEach(t=>{t()})}const br=He(Ct,{show:Ge,alert:hr,confirm:gr,clear:pr});function yr(t,e){return t.reduce((n,r)=>Math.abs(n-e)<Math.abs(r-e)?n:r)}const _r=hn([vn,gn]),je=()=>[1,0,0,1,0,0],ct=t=>t[4],lt=t=>t[5],te=t=>t[0],ne=(t,e,n)=>St([1,0,0,1,e,n],t),xr=(t,e,n=e)=>St([e,0,0,n,0,0],t),wr=(t,[e,n])=>[t[0]*e+t[2]*n+t[4],t[1]*e+t[3]*n+t[5]],St=(t,e)=>[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]],Re="adm-image-viewer",jt=t=>{const{dragLockRef:e,maxZoom:n}=t,r=c.useRef(null),i=c.useRef(null),[{matrix:s},l]=Be(()=>({matrix:je(),config:{tension:200}})),o=tt(r),f=tt(i),u=c.useRef(!1),m=(d,h,b=!1)=>{if(!o||!f)return d;const x=-o.width/2,g=-o.height/2,w=-f.width/2,E=-f.height/2,_=te(d),y=_*f.width,N=_*f.height,[$,I]=wr(d,[w,E]);if(h==="translate"){let O=$,L=I;if(y>o.width){const D=x-(y-o.width),T=x;O=b?q($,D,T):ot($,D,T,_*50)}else O=-y/2;if(N>o.height){const D=g-(N-o.height),T=g;L=b?q(I,D,T):ot(I,D,T,_*50)}else L=-N/2;return ne(d,O-$,L-I)}if(h==="scale"&&b){const[O,L]=[y>o.width?q($,x-(y-o.width),x):-y/2,N>o.height?q(I,g-(N-o.height),g):-N/2];return ne(d,O-$,L-I)}return d};return _r({onDrag:d=>{if(d.first)return;if(d.pinching)return d.cancel();if(d.tap&&d.elapsedTime>0&&d.elapsedTime<1e3){t.onTap();return}const h=te(s.get());if(e&&(e.current=h!==1),!u.current&&h<=1)l.start({matrix:je()});else{const b=s.get(),x=[d.offset[0]-ct(b),d.offset[1]-lt(b)],g=ne(b,...d.last?[x[0]+d.velocity[0]*d.direction[0]*200,x[1]+d.velocity[1]*d.direction[1]*200]:x);l.start({matrix:m(g,"translate",d.last),immediate:!d.last})}},onPinch:d=>{var h;u.current=!d.last;const[b]=d.offset;if(b<0)return;let x;n==="auto"?x=o&&f?Math.max(o.height/f.height,o.width/f.width):1:x=n;const g=d.last?q(b,1,x):b;if((h=t.onZoomChange)===null||h===void 0||h.call(t,g),d.last&&g<=1)l.start({matrix:je()}),e&&(e.current=!1);else{if(!o)return;const w=s.get(),E=te(w),_=d.origin[0]-o.width/2,y=d.origin[1]-o.height/2;let N=ne(w,-_,-y);N=xr(N,g/E),N=ne(N,_,y),l.start({matrix:m(N,"scale",d.last),immediate:!d.last}),e&&(e.current=!0)}}},{target:r,drag:{from:()=>[ct(s.get()),lt(s.get())],pointer:{touch:!0}},pinch:{from:()=>[te(s.get()),0],pointer:{touch:!0}}}),v.createElement("div",{className:`${Re}-slide`,onPointerMove:d=>{te(s.get())!==1&&d.stopPropagation()}},v.createElement("div",{className:`${Re}-control`,ref:r},v.createElement(ve.div,{className:`${Re}-image-wrapper`,style:{matrix:s}},v.createElement("img",{ref:i,src:t.image,draggable:!1,alt:t.image}))))},Me="adm-image-viewer",kr=c.forwardRef((t,e)=>{const n=window.innerWidth+Nn(16),[{x:r},i]=Be(()=>({x:t.defaultIndex*n,config:{tension:250,clamp:!0}})),s=t.images.length;function l(u,m=!1){var d;const h=q(u,0,s-1);(d=t.onIndexChange)===null||d===void 0||d.call(t,h),i.start({x:h*n,immediate:m})}c.useImperativeHandle(e,()=>({swipeTo:l}));const o=c.useRef(!1),f=gt(u=>{if(o.current)return;const[m]=u.offset;if(u.last){const d=Math.floor(m/n),h=d+1,b=Math.min(u.velocity[0]*2e3,n)*u.direction[0];l(q(Math.round((m+b)/n),d,h))}else i.start({x:m,immediate:!0})},{transform:([u,m])=>[-u,m],from:()=>[r.get(),0],bounds:()=>({left:0,right:(s-1)*n}),rubberband:!0,axis:"x",pointer:{touch:!0}});return v.createElement("div",Object.assign({className:`${Me}-slides`},f()),v.createElement(ve.div,{className:`${Me}-indicator`},r.to(u=>`${q(Math.round(u/n),0,s-1)+1} / ${s}`)),v.createElement(ve.div,{className:`${Me}-slides-inner`,style:{x:r.to(u=>-u)}},t.images.map((u,m)=>v.createElement(jt,{key:m,image:u,onTap:t.onTap,maxZoom:t.maxZoom,onZoomChange:d=>{if(d!==1){const h=Math.round(r.get()/n);i.start({x:h*n})}},dragLockRef:o}))))}),we="adm-image-viewer",Rt={maxZoom:3,getContainer:null,visible:!1},Mt=t=>{var e;const n=U(Rt,t),r=v.createElement(Ve,{visible:n.visible,disableBodyScroll:!1,opacity:"thick",afterClose:n.afterClose,destroyOnClose:!0},v.createElement("div",{className:`${we}-content`},n.image&&v.createElement(jt,{image:n.image,onTap:()=>{var i;(i=n.onClose)===null||i===void 0||i.call(n)},maxZoom:n.maxZoom})),n.image&&v.createElement("div",{className:`${we}-footer`},(e=n.renderFooter)===null||e===void 0?void 0:e.call(n,n.image),v.createElement(Nt,{position:"bottom"})));return We(n.getContainer,r)},Er=Object.assign(Object.assign({},Rt),{defaultIndex:0}),$t=c.forwardRef((t,e)=>{var n;const r=U(Er,t),[i,s]=c.useState(r.defaultIndex),l=c.useRef(null);c.useImperativeHandle(e,()=>({swipeTo:(u,m)=>{var d;s(u),(d=l.current)===null||d===void 0||d.swipeTo(u,m)}}));const o=c.useCallback(u=>{var m;s(u),(m=r.onIndexChange)===null||m===void 0||m.call(r,u)},[r.onIndexChange]),f=v.createElement(Ve,{visible:r.visible,disableBodyScroll:!1,opacity:"thick",afterClose:r.afterClose,destroyOnClose:!0},v.createElement("div",{className:`${we}-content`},r.images&&v.createElement(kr,{ref:l,defaultIndex:i,onIndexChange:o,images:r.images,onTap:()=>{var u;(u=r.onClose)===null||u===void 0||u.call(r)},maxZoom:r.maxZoom})),r.images&&v.createElement("div",{className:`${we}-footer`},(n=r.renderFooter)===null||n===void 0?void 0:n.call(r,r.images[i],i),v.createElement(Nt,{position:"bottom"})));return We(r.getContainer,f)}),J=new Set;function Nr(t){Xe();const e=qe(v.createElement(Mt,Object.assign({},t,{afterClose:()=>{var n;J.delete(e),(n=t.afterClose)===null||n===void 0||n.call(t)}})));return J.add(e),e}function Cr(t){Xe();const e=qe(v.createElement($t,Object.assign({},t,{afterClose:()=>{var n;J.delete(e),(n=t.afterClose)===null||n===void 0||n.call(t)}})));return J.add(e),e}function Xe(){J.forEach(t=>{t.close()}),J.clear()}const Sr=He($t,{show:Cr}),jr=He(Mt,{Multi:Sr,show:Nr,clear:Xe});const $e="adm-slider",Rr=({points:t,max:e,min:n,upperBound:r,lowerBound:i})=>{const s=e-n,l=t.map(o=>{const f=`${Math.abs(o-n)/s*100}%`,u=o<=r&&o>=i,m={left:f},d=A({[`${$e}-tick`]:!0,[`${$e}-tick-active`]:u});return v.createElement("span",{className:d,style:m,key:o})});return v.createElement("div",{className:`${$e}-ticks`},l)},Mr=Rr,Ie="adm-slider-mark",$r=({marks:t,upperBound:e,lowerBound:n,max:r,min:i})=>{const s=Object.keys(t),l=r-i,o=s.map(parseFloat).sort((f,u)=>f-u).filter(f=>f>=i&&f<=r).map(f=>{const u=t[f];if(!u&&u!==0)return null;const m=f<=e&&f>=n,d=A({[`${Ie}-text`]:!0,[`${Ie}-text-active`]:m}),h={left:`${(f-i)/l*100}%`};return v.createElement("span",{className:d,style:h,key:f},u)});return v.createElement("div",{className:Ie},o)},Ir=$r;function Fe(){return typeof BigInt=="function"}function It(t){return!t&&t!==0&&!Number.isNaN(t)||!String(t).trim()}function ae(t){var e=t.trim(),n=e.startsWith("-");n&&(e=e.slice(1)),e=e.replace(/(\.\d*[^0])0*$/,"$1").replace(/\.0*$/,"").replace(/^0+/,""),e.startsWith(".")&&(e="0".concat(e));var r=e||"0",i=r.split("."),s=i[0]||"0",l=i[1]||"0";s==="0"&&l==="0"&&(n=!1);var o=n?"-":"";return{negative:n,negativeStr:o,trimStr:r,integerStr:s,decimalStr:l,fullStr:"".concat(o).concat(r)}}function Ze(t){var e=String(t);return!Number.isNaN(Number(e))&&e.includes("e")}function se(t){var e=String(t);if(Ze(t)){var n=Number(e.slice(e.indexOf("e-")+2)),r=e.match(/\.(\d+)/);return r!=null&&r[1]&&(n+=r[1].length),n}return e.includes(".")&&Tt(e)?e.length-e.indexOf(".")-1:0}function Ot(t){var e=String(t);if(Ze(t)){if(t>Number.MAX_SAFE_INTEGER)return String(Fe()?BigInt(t).toString():Number.MAX_SAFE_INTEGER);if(t<Number.MIN_SAFE_INTEGER)return String(Fe()?BigInt(t).toString():Number.MIN_SAFE_INTEGER);e=t.toFixed(se(e))}return ae(e).fullStr}function Tt(t){return typeof t=="number"?!Number.isNaN(t):t?/^\s*-?\d+(\.\d+)?\s*$/.test(t)||/^\s*-?\d+\.\s*$/.test(t)||/^\s*-?\.\d+\s*$/.test(t):!1}var Or=function(){function t(e){if(yt(this,t),W(this,"origin",""),W(this,"negative",void 0),W(this,"integer",void 0),W(this,"decimal",void 0),W(this,"decimalLen",void 0),W(this,"empty",void 0),W(this,"nan",void 0),It(e)){this.empty=!0;return}if(this.origin=String(e),e==="-"||Number.isNaN(e)){this.nan=!0;return}var n=e;if(Ze(n)&&(n=Number(n)),n=typeof n=="string"?n:Ot(n),Tt(n)){var r=ae(n);this.negative=r.negative;var i=r.trimStr.split(".");this.integer=BigInt(i[0]);var s=i[1]||"0";this.decimal=BigInt(s),this.decimalLen=s.length}else this.nan=!0}return bt(t,[{key:"getMark",value:function(){return this.negative?"-":""}},{key:"getIntegerStr",value:function(){return this.integer.toString()}},{key:"getDecimalStr",value:function(){return this.decimal.toString().padStart(this.decimalLen,"0")}},{key:"alignDecimal",value:function(n){var r="".concat(this.getMark()).concat(this.getIntegerStr()).concat(this.getDecimalStr().padEnd(n,"0"));return BigInt(r)}},{key:"negate",value:function(){var n=new t(this.toString());return n.negative=!n.negative,n}},{key:"cal",value:function(n,r,i){var s=Math.max(this.getDecimalStr().length,n.getDecimalStr().length),l=this.alignDecimal(s),o=n.alignDecimal(s),f=r(l,o).toString(),u=i(s),m=ae(f),d=m.negativeStr,h=m.trimStr,b="".concat(d).concat(h.padStart(u+1,"0"));return new t("".concat(b.slice(0,-u),".").concat(b.slice(-u)))}},{key:"add",value:function(n){if(this.isInvalidate())return new t(n);var r=new t(n);return r.isInvalidate()?this:this.cal(r,function(i,s){return i+s},function(i){return i})}},{key:"multi",value:function(n){var r=new t(n);return this.isInvalidate()||r.isInvalidate()?new t(NaN):this.cal(r,function(i,s){return i*s},function(i){return i*2})}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return this.nan}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(n){return this.toString()===(n==null?void 0:n.toString())}},{key:"lessEquals",value:function(n){return this.add(n.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.isNaN()?NaN:Number(this.toString())}},{key:"toString",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return n?this.isInvalidate()?"":ae("".concat(this.getMark()).concat(this.getIntegerStr(),".").concat(this.getDecimalStr())).fullStr:this.origin}}]),t}(),Tr=function(){function t(e){if(yt(this,t),W(this,"origin",""),W(this,"number",void 0),W(this,"empty",void 0),It(e)){this.empty=!0;return}this.origin=String(e),this.number=Number(e)}return bt(t,[{key:"negate",value:function(){return new t(-this.toNumber())}},{key:"add",value:function(n){if(this.isInvalidate())return new t(n);var r=Number(n);if(Number.isNaN(r))return this;var i=this.number+r;if(i>Number.MAX_SAFE_INTEGER)return new t(Number.MAX_SAFE_INTEGER);if(i<Number.MIN_SAFE_INTEGER)return new t(Number.MIN_SAFE_INTEGER);var s=Math.max(se(this.number),se(r));return new t(i.toFixed(s))}},{key:"multi",value:function(n){var r=Number(n);if(this.isInvalidate()||Number.isNaN(r))return new t(NaN);var i=this.number*r;if(i>Number.MAX_SAFE_INTEGER)return new t(Number.MAX_SAFE_INTEGER);if(i<Number.MIN_SAFE_INTEGER)return new t(Number.MIN_SAFE_INTEGER);var s=Math.max(se(this.number),se(r));return new t(i.toFixed(s))}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return Number.isNaN(this.number)}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(n){return this.toNumber()===(n==null?void 0:n.toNumber())}},{key:"lessEquals",value:function(n){return this.add(n.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.number}},{key:"toString",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return n?this.isInvalidate()?"":Ot(this.number):this.origin}}]),t}();function Z(t){return Fe()?new Or(t):new Tr(t)}function Lt(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(t==="")return"";var i=ae(t),s=i.negativeStr,l=i.integerStr,o=i.decimalStr,f="".concat(e).concat(o),u="".concat(s).concat(l);if(n>=0){var m=Number(o[n]);if(m>=5&&!r){var d=Z(t).add("".concat(s,"0.").concat("0".repeat(n)).concat(10-m));return Lt(d.toString(),e,n,r)}return n===0?u:"".concat(u).concat(e).concat(o.padEnd(n,"0").slice(0,n))}return f===".0"?u:"".concat(u).concat(f)}const Lr=t=>Q(t,v.createElement("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},v.createElement("g",{fill:"currentColor",fillRule:"evenodd"},v.createElement("rect",{x:10,width:4,height:24,rx:2}),v.createElement("rect",{y:4,width:4,height:16,rx:2}),v.createElement("rect",{x:20,y:4,width:4,height:16,rx:2})))),Oe="adm-slider",Ar=t=>{const{value:e,min:n,max:r,disabled:i,icon:s,residentPopover:l,onDrag:o}=t,f=c.useRef(e),{locale:u}=sn(),m=()=>({left:`${(e-n)/(r-n)*100}%`,right:"auto"}),[d,h]=c.useState(!1),b=gt(w=>{var E;if(i)return;w.first&&(f.current=e);const _=w.xy[0]-w.initial[0],y=(E=t.trackRef.current)===null||E===void 0?void 0:E.offsetWidth;if(!y)return;const N=_/Math.ceil(y)*(r-n);o(f.current+N,w.first,w.last),h(!w.last)},{axis:"x",pointer:{touch:!0}}),x=typeof t.popover=="function"?t.popover:t.popover?w=>w.toString():null,g=v.createElement("div",{className:`${Oe}-thumb`},s||v.createElement(Lr,{className:`${Oe}-thumb-icon`}));return v.createElement("div",Object.assign({className:`${Oe}-thumb-container`,style:m()},b(),{role:"slider","aria-label":t["aria-label"]||u.Slider.name,"aria-valuemax":r,"aria-valuemin":n,"aria-valuenow":e,"aria-disabled":i}),x?v.createElement(Cn,{content:x(e),placement:"top",visible:l||d,getContainer:null,mode:"dark"},g):g)},Pr=Ar,re="adm-slider",zr={min:0,max:100,step:1,ticks:!1,range:!1,disabled:!1,popover:!1,residentPopover:!1},ut=t=>{var e;const n=U(zr,t),{min:r,max:i,disabled:s,marks:l,ticks:o,step:f,icon:u}=n;function m(C){return C.sort((S,M)=>S-M)}function d(C){return n.range?C:[n.min,C]}function h(C,S){const M=Z(C),P=Lt(M.toString(),".",S);return Z(P).toNumber()}function b(C){const S=Math.max(x(f),x(C[0]),x(C[1]));return n.range?C.map(M=>h(M,S)):h(C[1],S)}function x(C){return(`${C}`.split(".")[1]||"").length}function g(C){var S;(S=n.onAfterChange)===null||S===void 0||S.call(n,b(C))}let w=n.value;n.range&&typeof n.value=="number"&&(w=[0,n.value]);const[E,_]=Sn({value:w,defaultValue:(e=n.defaultValue)!==null&&e!==void 0?e:n.range?[r,r]:r,onChange:n.onChange}),y=m(d(E));function N(C){const S=m(C),M=y;S[0]===M[0]&&S[1]===M[1]||_(b(S))}const $=c.useRef(null),I=`${100*(y[1]-y[0])/(i-r)}%`,O=`${100*(y[0]-r)/(i-r)}%`,L=c.useMemo(()=>{if(l)return Object.keys(l).map(parseFloat).sort((C,S)=>C-S);if(o){const C=[];for(let S=Z(r);S.lessEquals(Z(i));S=S.add(f))C.push(S.toNumber());return C}return[]},[l,o,f,r,i]);function D(C){const S=C<r?r:C>i?i:C;let M=r;if(L.length)M=yr(L,S);else{const P=Math.round((S-r)/f),z=Z(P).multi(f);M=Z(r).add(z.toString()).toNumber()}return M}const T=c.useRef(0),ce=C=>{if(T.current>0||(C.stopPropagation(),s))return;const S=$.current;if(!S)return;const M=S.getBoundingClientRect().left,P=(C.clientX-M)/Math.ceil(S.offsetWidth)*(i-r)+r,z=D(P);let F;n.range?Math.abs(z-y[0])>Math.abs(z-y[1])?F=[y[0],z]:F=[z,y[1]]:F=[n.min,z],N(F),g(F)},le=c.useRef(),ue=C=>v.createElement(Pr,{key:C,value:y[C],min:r,max:i,disabled:s,trackRef:$,icon:u,popover:n.popover,residentPopover:n.residentPopover,onDrag:(S,M,P)=>{M&&(T.current+=1,le.current=y);const z=D(S),F=le.current;if(!F)return;const B=[...F];B[C]=z,N(B),P&&(g(B),window.setTimeout(()=>{T.current-=1},100))},"aria-label":n["aria-label"]});return Q(n,v.createElement("div",{className:A(re,{[`${re}-disabled`]:s})},v.createElement("div",{className:`${re}-track-container`,onClick:ce},v.createElement("div",{className:`${re}-track`,onClick:ce,ref:$},v.createElement("div",{className:`${re}-fill`,style:{width:I,left:O}}),n.ticks&&v.createElement(Mr,{points:L,min:r,max:i,lowerBound:y[0],upperBound:y[1]}),n.range&&ue(0),ue(1))),l&&v.createElement(Ir,{min:r,max:i,marks:l,lowerBound:y[0],upperBound:y[1]})))},Dr="_timercount_1btlu_1",Fr="_index_1btlu_6",Br="_time_1btlu_1",Vr="_wrantime_1btlu_15",ie={timercount:Dr,index:Fr,time:Br,wrantime:Vr};var dt=typeof window>"u"?c.useEffect:c.useLayoutEffect,Wr=({isPlaying:t,duration:e,startAt:n=0,updateInterval:r=0,onComplete:i,onUpdate:s})=>{let[l,o]=c.useState(n),f=c.useRef(0),u=c.useRef(n),m=c.useRef(n*-1e3),d=c.useRef(null),h=c.useRef(null),b=c.useRef(null),x=E=>{let _=E/1e3;if(h.current===null){h.current=_,d.current=requestAnimationFrame(x);return}let y=_-h.current,N=f.current+y;h.current=_,f.current=N;let $=u.current+(r===0?N:(N/r|0)*r),I=u.current+N,O=typeof e=="number"&&I>=e;o(O?e:$),O||(d.current=requestAnimationFrame(x))},g=()=>{d.current&&cancelAnimationFrame(d.current),b.current&&clearTimeout(b.current),h.current=null},w=c.useCallback(E=>{g(),f.current=0;let _=typeof E=="number"?E:n;u.current=_,o(_),t&&(d.current=requestAnimationFrame(x))},[t,n]);return dt(()=>{if(s==null||s(l),e&&l>=e){m.current+=e*1e3;let{shouldRepeat:E=!1,delay:_=0,newStartAt:y}=(i==null?void 0:i(m.current/1e3))||{};E&&(b.current=setTimeout(()=>w(y),_*1e3))}},[l,e]),dt(()=>(t&&(d.current=requestAnimationFrame(x)),g),[t,e,r]),{elapsedTime:l,reset:w}},Hr=(t,e,n)=>{let r=t/2,i=e/2,s=r-i,l=2*s,o=n==="clockwise"?"1,0":"0,1",f=2*Math.PI*s;return{path:`m ${r},${i} a ${s},${s} 0 ${o} 0,${l} a ${s},${s} 0 ${o} 0,-${l}`,pathLength:f}},ft=(t,e)=>t===0||t===e?0:typeof e=="number"?t-e:0,qr=t=>({position:"relative",width:t,height:t}),Gr={display:"flex",justifyContent:"center",alignItems:"center",position:"absolute",left:0,top:0,width:"100%",height:"100%"},At=(t,e,n,r,i)=>{if(r===0)return e;let s=(i?r-t:t)/r;return e+n*s},mt=t=>{var e,n;return(n=(e=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(r,i,s,l)=>`#${i}${i}${s}${s}${l}${l}`).substring(1).match(/.{2}/g))==null?void 0:e.map(r=>parseInt(r,16)))!=null?n:[]},Xr=(t,e)=>{var n;let{colors:r,colorsTime:i,isSmoothColorTransition:s=!0}=t;if(typeof r=="string")return r;let l=(n=i==null?void 0:i.findIndex((h,b)=>h>=e&&e>=i[b+1]))!=null?n:-1;if(!i||l===-1)return r[0];if(!s)return r[l];let o=i[l]-e,f=i[l]-i[l+1],u=mt(r[l]),m=mt(r[l+1]),d=!!t.isGrowing;return`rgb(${u.map((h,b)=>At(o,h,m[b]-h,f,d)|0).join(",")})`},Zr=t=>{let{duration:e,initialRemainingTime:n,updateInterval:r,size:i=180,strokeWidth:s=12,trailStrokeWidth:l,isPlaying:o=!1,isGrowing:f=!1,rotation:u="clockwise",onComplete:m,onUpdate:d}=t,h=c.useRef(),b=Math.max(s,l??0),{path:x,pathLength:g}=Hr(i,b,u),{elapsedTime:w}=Wr({isPlaying:o,duration:e,startAt:ft(e,n),updateInterval:r,onUpdate:typeof d=="function"?_=>{let y=Math.ceil(e-_);y!==h.current&&(h.current=y,d(y))}:void 0,onComplete:typeof m=="function"?_=>{var y;let{shouldRepeat:N,delay:$,newInitialRemainingTime:I}=(y=m(_))!=null?y:{};if(N)return{shouldRepeat:N,delay:$,newStartAt:ft(e,I)}}:void 0}),E=e-w;return{elapsedTime:w,path:x,pathLength:g,remainingTime:Math.ceil(E),rotation:u,size:i,stroke:Xr(t,E),strokeDashoffset:At(w,0,g,e,f),strokeWidth:s}},Pt=t=>{let{children:e,strokeLinecap:n,trailColor:r,trailStrokeWidth:i}=t,{path:s,pathLength:l,stroke:o,strokeDashoffset:f,remainingTime:u,elapsedTime:m,size:d,strokeWidth:h}=Zr(t);return v.createElement("div",{style:qr(d)},v.createElement("svg",{viewBox:`0 0 ${d} ${d}`,width:d,height:d,xmlns:"http://www.w3.org/2000/svg"},v.createElement("path",{d:s,fill:"none",stroke:r??"#d9d9d9",strokeWidth:i??h}),v.createElement("path",{d:s,fill:"none",stroke:o,strokeLinecap:n??"round",strokeWidth:h,strokeDasharray:l,strokeDashoffset:f})),typeof e=="function"&&v.createElement("div",{style:Gr},e({remainingTime:u,elapsedTime:m,color:o})))};Pt.displayName="CountdownCircleTimer";pt.extend(xn);const Ur=({onComplete:t,info:e,onUpdate:n,wranTime:r,isPlaying:i})=>{const s=ge(pe),l=c.useCallback(u=>{n==null||n(u)},[n]),o=c.useCallback(u=>{const m=pt.duration(u*1e3);return m.hours()<=0&&m.minutes()<=0&&m.seconds()<=0?null:m.format("HH:mm:ss")},[]),f=c.useCallback(({remainingTime:u})=>u===0?a.jsx("div",{className:ie.timercount,children:"next"}):a.jsxs("div",{className:A(ie.timercount,{[ie.wrantime]:r}),children:[a.jsx("div",{className:ie.index,children:e}),a.jsx("div",{className:ie.time,children:o(u)})]}),[r,e,o]);return a.jsx(Pt,{isPlaying:i,duration:s.duration||0,colors:["#004777","#F7B801","#A30000","#A30000"],colorsTime:[60,30,20,0],trailColor:"rgba(144,144,144,0.5)",size:70,strokeWidth:2,onComplete:t,onUpdate:l,children:f})},Yr="_root_qupij_1",Kr="_timer_qupij_8",Jr="_timewran_qupij_20",Qr="_nav_qupij_29",me={root:Yr,timer:Kr,timewran:Jr,nav:Qr},ei=({children:t,...e})=>{const{duration:n}=ge(pe),r=c.useRef(null),i=fe.useForm()[0],s=c.useCallback(()=>{const{min:f=0,sec:u=0}=i.getFieldsValue();pe.duration=f*60+u},[i]),l=c.useCallback(()=>{const{min:f=0,sec:u=0}=i.getFieldsValue();r.current&&(r.current.innerText=`${f||0}分${u||0}秒`)},[i]),o=c.useCallback(async()=>{await br.confirm({title:a.jsxs(a.Fragment,{children:["图片停留时间",a.jsxs("span",{ref:r,children:[Math.floor(n/60),"分",n%60,"秒"]})]}),content:a.jsxs(fe,{form:i,onValuesChange:l,children:[a.jsx(fe.Item,{name:"min",label:"分钟",initialValue:Math.floor(n/60),children:a.jsx(ut,{min:0,max:60})}),a.jsx(fe.Item,{name:"sec",label:"秒钟",initialValue:n%60,children:a.jsx(ut,{min:0,max:59})})]}),onConfirm:s})},[n,i,l,s]);return a.jsx("span",{...e,onClick:o,children:t})};var Te=16,ti=/^#?[a-fA-F0-9]+$/,ni=3,ri=6;function ii(t,e){if(!ti.test(t))throw Error("hex2rgba: first argument has invalid hexadecimal characters");let n=t;if(n[0]==="#"&&(n=n.slice(1)),n.length===ni&&(n=n.split(""),n.splice(2,0,n[2]),n.splice(1,0,n[1]),n.splice(0,0,n[0]),n=n.join("")),n.length!==ri)throw Error("hex2rgba: first argument has invalid hexadecimal length");var r=[parseInt(n.slice(0,2),Te),parseInt(n.slice(2,4),Te),parseInt(n.slice(4,6),Te)];return e=typeof e=="number"?e:parseFloat(e),e>=0&&e<=1?r.push(e):r.push(1),"rgba("+r.join(",")+")"}const he=typeof window.ontouchstart<"u",si=({lineColor:t="#f00",eraser:e=!1,eraserAlph:n=100,lineWidth:r=20,eraserWidth:i=20,bgColor:s="#fff",bgAlph:l=100,lineAlph:o=100,onStartDraw:f,onEndDraw:u,getCanvas:m})=>{const d=c.useRef(null);return c.useEffect(()=>{d.current&&(m==null||m(d.current))},[m]),c.useEffect(()=>{const h=d.current;if(!h)return;const b=h.getContext("2d");let x=!1;function g(_){_.preventDefault();let y=0,N=0;he?(y=_.touches[0].clientX-_.target.offsetLeft,N=_.touches[0].clientY-_.target.offsetTop):(y=_.clientX,N=_.clientY),x=!0,f==null||f(h),b.beginPath(),b.moveTo(y,N)}function w(){x=!1,u==null||u(h)}function E(_){if(_.preventDefault(),!x)return;e?(b.globalCompositeOperation="destination-out",b.lineWidth=i,b.globalAlpha=n/500*.5):(b.globalCompositeOperation="source-over",b.lineWidth=r,b.strokeStyle=t,b.globalAlpha=o/500*.5);let y=0,N=0;he?(y=_.touches[0].clientX-_.target.offsetLeft,N=_.touches[0].clientY-_.target.offsetTop):(y=_.clientX,N=_.clientY),b.lineCap="round",b.lineJoin="round",b.lineTo(y,N),b.stroke()}return he?(h.addEventListener("touchstart",g),h.addEventListener("touchend",w),h.addEventListener("touchmove",E)):(h.addEventListener("mousedown",g),h.addEventListener("mouseup",w),h.addEventListener("mousemove",E)),()=>{he?(h.removeEventListener("touchstart",g),h.removeEventListener("touchend",w),h.removeEventListener("touchmove",E)):(h.removeEventListener("mousedown",g),h.removeEventListener("mouseup",w),h.removeEventListener("mousemove",E))}},[t,e,r,o,i,n,f,u]),a.jsx("canvas",{ref:d,width:window.innerWidth,height:window.innerHeight,style:{backgroundColor:ii(s,l/100)}})},ai=t=>a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:200,height:200,className:"icon",viewBox:"0 0 1024 1024",...t,children:[a.jsx("path",{d:"M700.578 148.642c0 11.268-9.127 20.405-20.405 20.405s-20.405-9.137-20.405-20.405c0-11.267 9.127-20.404 20.405-20.404s20.405 9.137 20.405 20.404zM823.008 271.072c0 11.267-9.127 20.404-20.404 20.404s-20.405-9.137-20.405-20.404 9.127-20.405 20.405-20.405c11.276 0 20.404 9.137 20.404 20.405zM578.149 271.072c0 11.267-9.127 20.404-20.405 20.404s-20.405-9.137-20.405-20.404 9.127-20.405 20.405-20.405 20.405 9.137 20.405 20.405zM516.933 332.287c0 11.268-9.127 20.405-20.404 20.405s-20.405-9.137-20.405-20.405 9.127-20.405 20.405-20.405 20.404 9.137 20.404 20.405zM578.149 393.501c0 11.268-9.127 20.405-20.405 20.405s-20.405-9.137-20.405-20.405c0-11.267 9.127-20.405 20.405-20.405s20.405 9.139 20.405 20.405zM639.364 209.857c0 11.267-9.127 20.404-20.405 20.404s-20.405-9.137-20.405-20.404c0-11.268 9.127-20.405 20.405-20.405 11.277 0 20.405 9.137 20.405 20.405zM761.793 209.857c0 11.267-9.127 20.404-20.405 20.404s-20.404-9.137-20.404-20.404c0-11.268 9.127-20.405 20.404-20.405s20.405 9.137 20.405 20.405zM700.578 393.501c0 11.268-9.127 20.405-20.405 20.405s-20.405-9.137-20.405-20.405c0-11.267 9.127-20.405 20.405-20.405s20.405 9.139 20.405 20.405zM639.364 332.287c0 11.268-9.127 20.405-20.405 20.405s-20.405-9.137-20.405-20.405 9.127-20.405 20.405-20.405c11.277 0 20.405 9.137 20.405 20.405zM884.223 332.287c0 11.268-9.127 20.405-20.405 20.405s-20.405-9.137-20.405-20.405 9.127-20.405 20.405-20.405 20.405 9.137 20.405 20.405zM639.364 454.716c0 11.268-9.127 20.405-20.405 20.405s-20.405-9.137-20.405-20.405 9.127-20.404 20.405-20.404c11.277 0 20.405 9.137 20.405 20.404zM761.793 454.716c0 11.268-9.127 20.405-20.405 20.405s-20.404-9.137-20.404-20.405 9.127-20.404 20.404-20.404c11.278 0 20.405 9.137 20.405 20.404z"}),a.jsx("path",{d:"M968.374 340.35 715.761 85.18c-11.615-11.748-27.087-18.215-43.552-18.215h-.01c-16.465 0-31.928 6.457-43.552 18.195L85.875 633.436c-23.833 24.088-23.823 63.301.03 87.41l195.196 197.181c7.951 8.033 20.917 8.095 28.95.144 8.032-7.951 8.094-20.917.143-28.95l-195.196-197.16c-8.145-8.238-8.156-21.612-.03-29.83L373.74 400.839a20.086 20.086 0 0 0 3.592 4.42L666.59 674.43 453.948 889.232a20.452 20.452 0 0 0-4.339 22.277 20.446 20.446 0 0 0 18.88 12.587h374.93c11.296 0 20.465-9.17 20.465-20.466 0-11.308-9.169-20.467-20.466-20.467H517.546l450.838-455.412c23.833-24.12 23.833-63.332-.01-87.4zm-23.505 48.352c-2.15-8.954-10.213-15.606-19.832-15.606-11.287 0-20.405 9.139-20.405 20.405 0 11.093 8.831 20.118 19.873 20.384l-40.277 40.697c-.072-11.205-9.17-20.271-20.405-20.271-11.287 0-20.405 9.138-20.405 20.404s9.118 20.405 20.405 20.405h.072l-40.902 41.321c.01-.174.01-.338.01-.512 0-11.266-9.117-20.404-20.405-20.404-11.276 0-20.404 9.138-20.404 20.404s9.128 20.405 20.404 20.405c.236 0 .481 0 .717-.02L761.748 578.3c.03-.389.041-.767.041-1.156 0-11.267-9.128-20.405-20.405-20.405s-20.404 9.138-20.404 20.405 9.127 20.404 20.404 20.404c.46 0 .911-.01 1.361-.05l-42.252 42.681c.051-.603.082-1.207.082-1.821 0-11.267-9.128-20.405-20.405-20.405-3.98 0-7.695 1.136-10.826 3.111l-34.056-31.692a20.302 20.302 0 0 0 4.073-12.228c0-11.267-9.128-20.405-20.405-20.405a20.306 20.306 0 0 0-13.375 4.994L572.017 530.5a20.296 20.296 0 0 0 6.13-14.572c0-11.266-9.128-20.404-20.405-20.404a20.345 20.345 0 0 0-15.565 7.214l-33.769-31.436a20.346 20.346 0 0 0 8.524-16.588c0-11.266-9.128-20.404-20.404-20.404-7.368 0-13.825 3.898-17.407 9.752l-34.7-32.306c6.703-3.336 11.297-10.264 11.297-18.256 0-11.266-9.128-20.405-20.405-20.405-8.524 0-15.82 5.22-18.87 12.638l-11.225-10.448a19.983 19.983 0 0 0-3.561-2.65l256.072-258.671a20.482 20.482 0 0 1 6.641-4.503 20.098 20.098 0 0 1 7.829-1.566c5.454 0 10.601 2.16 14.47 6.079L939.28 369.146c5.24 5.301 7.112 12.73 5.588 19.556z"}),a.jsx("path",{d:"M700.575 515.93c0 11.266-9.128 20.404-20.405 20.404s-20.405-9.138-20.405-20.405 9.128-20.404 20.405-20.404c11.277 0 20.405 9.138 20.405 20.404zM823.003 393.501c0 11.267-9.117 20.405-20.405 20.405-11.276 0-20.404-9.138-20.404-20.405s9.128-20.405 20.404-20.405c11.288 0 20.405 9.139 20.405 20.405zM761.789 332.287c0 11.267-9.128 20.405-20.405 20.405s-20.404-9.138-20.404-20.405 9.127-20.405 20.404-20.405 20.405 9.138 20.405 20.405zM700.575 271.073c0 11.266-9.128 20.405-20.405 20.405s-20.405-9.139-20.405-20.405 9.128-20.405 20.405-20.405c11.277 0 20.405 9.138 20.405 20.405z"})]}),oi=t=>a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon",viewBox:"0 0 1024 1024",...t,children:[a.jsx("path",{d:"m236.352 923.205-2.865.768h463.946c11.308 0 20.466 9.158 20.466 20.466 0 11.297-9.158 20.466-20.466 20.466H78.2c-.348 0-.686-.01-1.034-.03-.143 0-.276-.01-.42-.031-.408-.02-.828-.062-1.237-.123a16.642 16.642 0 0 1-2.262-.43c-.307-.082-.624-.164-.931-.256-.235-.071-.48-.143-.716-.225-.236-.082-.471-.174-.696-.256h-.01c-.225-.092-.46-.184-.686-.286a8.232 8.232 0 0 1-.686-.307c-.296-.143-.593-.287-.89-.45a14.816 14.816 0 0 1-.88-.492 17.05 17.05 0 0 1-1.678-1.115 20.088 20.088 0 0 1-4.318-4.318 18.965 18.965 0 0 1-1.638-2.61 32.055 32.055 0 0 1-.42-.839c-.102-.225-.204-.45-.306-.686-.195-.46-.369-.92-.532-1.391-.154-.471-.297-.942-.43-1.412a23.703 23.703 0 0 1-.45-2.221 24.261 24.261 0 0 1-.195-1.934c0-.02-.01-.03 0-.051-.01-.154-.01-.307-.01-.46-.01-.083-.01-.175-.01-.267-.01-.307 0-.624.01-.941l.03-.665c.041-.665.123-1.33.226-1.996.03-.225.071-.44.122-.655.041-.225.093-.44.144-.665.05-.215.102-.44.163-.655l.154-.563c.01-.081.04-.153.061-.225l40.769-152.032a20.498 20.498 0 0 1 5.372-9.251l633.427-626.929c8.033-7.95 20.998-7.89 28.95.144 7.95 8.043 7.879 20.998-.154 28.95L137.552 802.27 107.18 915.479l113.321-30.402L850.07 261.955c8.033-7.951 20.998-7.88 28.949.154 7.951 8.033 7.88 20.988-.153 28.939L245.439 917.987a20.507 20.507 0 0 1-9.087 5.218zM921.621 247.978c-.1.08 16.818-16.839 16.818-16.839 38.798-38.797 38.798-101.686.041-140.454-38.836-38.807-101.706-38.777-140.484 0 0 0-16.936 16.938-16.839 16.839l140.464 140.454z"}),a.jsx("path",{d:"M57.775 943.774c-.01.317-.02.634-.01.941-.01-.092-.01-.184-.01-.276 0-.225 0-.45.02-.665zM58.03 941.113c-.102.665-.184 1.33-.224 1.996.03-.676.112-1.34.225-1.996zM57.98 947.427a17.19 17.19 0 0 1-.195-1.934c.041.645.102 1.3.195 1.934zM58.614 938.575c-.123.4-.235.809-.317 1.218.05-.215.102-.44.163-.655l.154-.563z"})]}),ci=t=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:200,height:200,className:"icon",viewBox:"0 0 1024 1024",...t,children:a.jsx("path",{d:"M951.59 487.89c-26.564-42.026-63.465-78.22-109.667-107.59-65.573-41.669-130.533-57.397-151.306-61.633L458.204 86.264c-7.992-7.992-20.958-7.992-28.94 0l-14.53 14.53c-87.084 1.403-161.16 14.634-214.966 38.477-29.758 13.18-53.048 29.492-69.227 48.484-17.744 20.835-26.739 44.401-26.739 70.056 0 37.32 14.807 70.158 44.002 97.592a179.739 179.739 0 0 0 6.509 5.813l-87.38 87.38c-59.567 59.556-59.567 156.484 0 216.071L294.934 892.67c29.778 29.778 68.89 44.657 108.01 44.657 39.131 0 78.263-14.9 108.051-44.688l235.197-235.217c7.992-7.992 7.992-20.947 0-28.94s-20.947-7.991-28.94 0L482.058 863.69c-43.613 43.623-114.57 43.634-158.183.03L95.872 635.719c-43.604-43.614-43.604-114.57 0-158.173l92.65-92.65c17.856 10.162 38.456 19.177 61.664 26.974 76.185 25.614 164.804 33.31 226.14 35.243 6.98 12.474 20.313 20.906 35.632 20.906 22.543 0 40.81-18.276 40.81-40.83 0-22.533-18.267-40.789-40.81-40.789-14.879 0-27.875 7.941-35.007 19.812-109.187-3.336-179.805-21.735-213.728-33.135-16.567-5.567-31.415-11.686-44.524-18.358l213.165-213.175 11.87-11.87 3.295 3.294 382.87 382.86-25.44 25.44c-5.975 5.976-8.718 15.001-5.3 22.727 3.275 7.44 9.66 12.198 17.662 12.198h.43c2.518.634 13.866 4.482 25.982 24.304 13.845 22.656 30.341 69.462 30.341 163.76 0 31.63 4.462 59.402 12.894 80.329 13.865 34.393 34.199 39.53 45.087 39.53 29.061 0 45.025-32.295 53.293-59.382 11.206-36.686 16.895-88.424 16.895-153.783 0-68.827-16.874-130.42-50.152-183.06zM183.345 332.186c-25.675-21.009-38.61-45.865-38.61-74.374 0-61.266 89.15-104.807 227.256-114.273L183.344 332.185zm765.003 471.11c-6.57 25.848-13.63 35.508-16.782 38.742-5.915-6.386-17.059-30.444-17.059-77.782 0-88.997-13.896-153.813-41.3-192.637-6.611-9.363-13.355-16.312-19.74-21.47l19.852-19.851a20.473 20.473 0 0 0 5.997-14.47c0-5.423-2.16-10.632-5.997-14.47L752.353 380.394c21.264 8.554 45.077 20.015 68.736 35.17 40.789 26.126 73.197 58.032 96.313 94.85 28.806 45.845 43.409 99.855 43.409 160.537 0 54.481-4.308 100.243-12.464 132.344z"})}),li="_root_1yakj_1",ui="_cvs_1yakj_17",di="_handlebar_1yakj_25",fi="_block_1yakj_32",mi="_color_1yakj_37",hi="_effectbtn_1yakj_71",vi="_slider_1yakj_75",gi="_bgbar_1yakj_78",pi="_bgcover_1yakj_81",bi="_icon_1yakj_89",yi="_iconact_1yakj_98",_i="_toolbar_1yakj_108",xi="_fillmodebox_1yakj_133",wi="_setbar_1yakj_147",ki="_cleanbox_1yakj_157",Ei="_clean_1yakj_157",Ni="_btnbar_1yakj_178",Ci="_btn_1yakj_178",Si="_msg_1yakj_195",ji="_blocktest_1yakj_202",Ri="_sel_1yakj_219",Mi="_playcontent_1yakj_226",$i="_savecvs_1yakj_242",Ii="_saveimgbox_1yakj_252",Oi="_playmask_1yakj_261",Ti="_logo_1yakj_274",R={root:li,cvs:ui,handlebar:di,block:fi,color:mi,effectbtn:hi,slider:vi,bgbar:gi,bgcover:pi,icon:bi,iconact:yi,toolbar:_i,switch:"_switch_1yakj_123",fillmodebox:xi,setbar:wi,cleanbox:ki,clean:Ei,btnbar:Ni,btn:Ci,msg:Si,blocktest:ji,sel:Ri,playcontent:Mi,savecvs:$i,saveimgbox:Ii,playmask:Oi,logo:Ti},Li=t=>a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:200,height:200,className:"icon",viewBox:"0 0 1024 1024",...t,children:[a.jsx("path",{d:"M847.743 223.953H640.639c-3.132-68.921-60.177-124.029-129.858-124.029s-126.726 55.108-129.858 124.029H173.256c-17.673 0-32 14.327-32 32s14.327 32 32 32h674.487c17.673 0 32-14.327 32-32s-14.327-32-32-32zm-336.962-60.03c34.379 0 62.689 26.426 65.718 60.029H445.064c3.029-33.603 31.338-60.029 65.717-60.029zM767.743 351.79c-17.673 0-32 14.327-32 32v478.173H288.256V383.79c0-17.673-14.327-32-32-32s-32 14.327-32 32v510.173c0 17.673 14.327 32 32 32h511.487c17.673 0 32-14.327 32-32V383.79c0-17.673-14.327-32-32-32z"}),a.jsx("path",{d:"M449.306 732.802V448.208c0-17.673-14.327-32-32-32s-32 14.327-32 32v284.593c0 17.673 14.327 32 32 32s32-14.326 32-31.999zm191.534 0V448.208c0-17.673-14.327-32-32-32s-32 14.327-32 32v284.593c0 17.673 14.327 32 32 32s32-14.326 32-31.999z"})]}),Ai="_color_1xowo_1",Pi="_wrap_1xowo_24",zi="_ml_1xowo_29",H={color:Ai,wrap:Pi,ml:zi},Le=({alph:t,color:e,size:n,onChange:r})=>{const i=c.useCallback(o=>{const f=o.target.value;r==null||r({color:f})},[r]),s=c.useCallback(o=>{const f=o.target.value;r==null||r({alph:f})},[r]),l=c.useCallback(o=>{const f=o.target.value;r==null||r({size:f})},[r]);return a.jsxs("div",{className:H.wrap,children:[e!==void 0&&a.jsxs(a.Fragment,{children:[a.jsx("span",{className:H.ml,children:"颜色"}),a.jsx("input",{className:H.color,type:"color",value:e,onChange:i})]}),n!==void 0&&a.jsxs(a.Fragment,{children:[a.jsx("span",{className:H.ml,children:"粗细"}),a.jsx("input",{className:H.slider,type:"range",min:"1",max:"60",value:n,onChange:l}),a.jsxs("span",{className:H.sliderblock,style:{width:"1.5rem"},children:["(",n,")"]})]}),t!==void 0&&a.jsxs(a.Fragment,{children:[a.jsx("span",{className:H.ml,children:"不透明度"}),a.jsx("input",{className:H.slider,type:"range",min:"0",step:1,max:"100",value:t,onChange:s}),a.jsxs("span",{className:H.block,style:{width:"1.5rem"},children:["(",t,")"]})]})]})},Di=t=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:200,height:200,className:"icon",viewBox:"0 0 1024 1024",...t,children:a.jsx("path",{d:"m283.84 55.744 35.84 35.776-217.408 217.728H689.6a329.408 329.408 0 0 1 329.472 329.6A329.408 329.408 0 0 1 689.6 968.192H436.032v-50.624H689.6a278.912 278.912 0 0 0 0-557.76H102.272l217.664 217.856-36.032 35.776L5.12 334.528 283.84 55.744z"})}),Fi=t=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:200,height:200,className:"icon",viewBox:"0 0 1024 1024",...t,children:a.jsx("path",{d:"M740.16 55.744 704.32 91.52l217.408 217.728H334.4A329.408 329.408 0 0 0 4.928 638.784 329.472 329.472 0 0 0 334.4 968.256h253.568v-50.688H334.4a278.848 278.848 0 0 1 0-557.696h587.328L704.064 577.664l36.032 35.776 278.784-278.912L740.16 55.744z"})}),Bi=t=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:200,height:200,className:"icon",viewBox:"0 0 1024 1024",...t,children:a.jsx("path",{d:"m541.867 512 262.4-262.4c8.533-8.533 8.533-21.333 0-29.867s-21.334-8.533-29.867 0L512 482.133l-262.4-262.4c-8.533-8.533-21.333-8.533-29.867 0-8.533 8.534-8.533 21.334 0 29.867l262.4 262.4-262.4 262.4c-8.533 8.533-8.533 21.333 0 29.867 4.267 4.266 10.667 6.4 14.934 6.4s10.666-2.134 14.933-6.4L512 544l260.267 262.4c4.266 4.267 10.666 6.4 14.933 6.4 6.4 0 10.667-2.133 14.933-6.4 8.534-8.533 8.534-21.333 0-29.867L541.867 512z"})}),Ae=(t=1e3)=>new Promise(e=>{const n=setTimeout(()=>{e(void 0),clearTimeout(n)},t)}),Vi="_cleanbox_9cqh0_1",Wi="_title_9cqh0_18",Hi="_content_9cqh0_26",qi="_btnbar_9cqh0_29",Gi="_btn_9cqh0_29",Y={cleanbox:Vi,title:Wi,content:Hi,btnbar:qi,btn:Gi},Pe=({visiable:t,title:e,onOk:n,okText:r,cancelText:i,onCancel:s,children:l,maskStyle:o})=>t?a.jsx("div",{className:Y.cleanbox,style:o,children:a.jsxs("div",{children:[e?a.jsx("h3",{className:Y.title,children:e}):null,a.jsx("div",{className:Y.content,children:l}),a.jsxs("div",{className:Y.btnbar,children:[s?a.jsx("div",{className:Y.btn,onClick:s,children:i||"取消"}):null,n?a.jsx("div",{className:Y.btn,onClick:n,children:r||"确定"}):null]})]})}):null,Xi=t=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:200,height:200,className:"icon",viewBox:"0 0 1024 1024",...t,children:a.jsx("path",{d:"M700.864 240v168.144a25.6 25.6 0 0 1-25.6 25.6h-320.96a25.6 25.6 0 0 1-25.6-25.6V240H256v549.568h517.568V240h-72.704zm-48 0h-276.16v145.744h276.16V240zM224 192h581.568a16 16 0 0 1 16 16v613.568a16 16 0 0 1-16 16H224a16 16 0 0 1-16-16V208a16 16 0 0 1 16-16zm346.432 89.04h16a16 16 0 0 1 16 16v32a16 16 0 0 1-16 16h-16a16 16 0 0 1-16-16v-32a16 16 0 0 1 16-16z"})});function Zi(){const[t,e]=v.useState(!1);return v.useEffect(()=>{const r=!!(typeof window.navigator>"u"?"":navigator.userAgent).match(/Android|BlackBerry|iPhone|iPad|iPod|Opera Mini|IEMobile|WPDesktop/i);e(r)},[]),{isMobile:t}}const Ui=!1,Yi=({visible:t,onClose:e,lineColor:n="#ff0000",lineWidth:r=2,eraserWidth:i=2,bgColor:s="#ffffff",bgAlph:l=0,onChange:o,eraserAlph:f=50,lineAlph:u=50,historyRecords:m=1e3,auth:d=!1})=>{const[h,b]=c.useState(),x=c.useRef(),[g,w]=c.useState([]),[E,_]=c.useState([]),[y,N]=c.useState(!1),$=c.useRef(0),I=c.useRef(null),O=c.useRef(null),L=c.useRef("draw");c.useRef(null);const{isMobile:D}=Zi(),T=c.useCallback(p=>{},[]);c.useCallback((p,k)=>{const j=k==="undo"?g[p]:E[p];T(j)},[T,E,g]);const ce=c.useCallback(p=>{x.current=p},[]),le=c.useCallback(()=>{e==null||e()},[e]),ue=c.useCallback(({color:p,alph:k})=>{o==null||o({bgAlph:k,bgColor:p})},[o]),C=c.useCallback(({color:p,alph:k,size:j})=>{o==null||o({lineAlph:k,lineColor:p,lineWidth:j})},[o]),S=c.useCallback(({size:p,alph:k})=>{o==null||o({eraserAlph:k,eraserWidth:p})},[o]),M=c.useCallback(p=>{b(h===p?void 0:p)},[h]),P=c.useCallback(p=>{const k=p==null?void 0:p.toDataURL(),j=new Image;return j.src=k,j.alt=`${$.current}`,j},[]),z=c.useCallback(p=>{if(!p)return;const k=P(p);w(j=>[...j.slice(j.length>m?j.length-m:0,j.length),k]),_([]),T(k)},[P,T,m]),F=c.useCallback(p=>{z(p)},[z]),[B,zt]=c.useState(),Dt=c.useCallback(p=>{if($.current=$.current+1,L.current="draw",!p)return;const k=P(p);zt(k),_([k])},[P]),de=c.useCallback(()=>{var k;const p=(k=x.current)==null?void 0:k.getContext("2d");p&&p.clearRect(0,0,1e4,1e4)},[]),X=c.useCallback(p=>{var j;const k=(j=x.current)==null?void 0:j.getContext("2d");!k||!p||(de(),k.globalAlpha=1,k.drawImage(p,0,0),$.current=Number(p.alt))},[de]),Ue=c.useCallback(p=>{const k=p.slice(p.length-1,p.length)[0],j=p.slice(0,p.length-1);return{record:k,restRecords:j}},[]),Ft=c.useCallback(async p=>{p.stopPropagation();const k=[...g];L.current="undo";const{record:j,restRecords:Jt}=Ue(k);j&&(w([...Jt]),_([j,...E]),X(j))},[X,E,Ue,g]),Bt=c.useCallback(p=>{p.stopPropagation(),L.current="redo";const k=E[0],j=E.slice(1,E.length);k&&(_([...j]),w([...g,k]),X(k))},[X,E,g]),[Vt,Ne]=c.useState(!1),[Ce,Wt]=c.useState(200),[Ye,Ke]=c.useState(!1),Ht=c.useCallback(async()=>{Ne(!1),Ke(!0),X(g[1]);const p=[...g];B&&p.push(B);for(let k=0;k<p.length;k++){const j=p[k];X(j),k===0&&await Ae(1e3),await Ae(Ce),p.length===k+1&&(await Ae(1e3),Ke(!1))}},[X,B,Ce,g]),qt=c.useCallback(()=>{Ne(!0)},[]),Gt=c.useCallback(()=>{N(!0)},[]),Xt=c.useCallback(()=>{de(),w([]),_([]),N(!1)},[de]),[Zt,Je]=c.useState(!1),[Ut,Yt]=c.useState(),Se=c.useRef(null),Kt=c.useCallback(async()=>{var k,j;if(!B)return;Je(!0);const p=(k=Se.current)==null?void 0:k.getContext("2d");p&&(p.fillStyle=s,p.fillRect(0,0,window.innerWidth,window.innerHeight),O.current&&p.drawImage(O.current,0,0),I.current&&!d&&p.drawImage(I.current,10,10),p.drawImage(B,0,0),Yt((j=Se.current)==null?void 0:j.toDataURL()))},[d,s,B]);return a.jsxs("div",{className:R.root,style:{display:t?"block":"none"},children:[Ye?null:a.jsxs("div",{className:R.toolbar,children:[a.jsxs("div",{className:R.switch,children:[a.jsx("div",{className:`${R.icon}`,onClick:le,children:a.jsx(Bi,{})}),a.jsx("div",{className:`${R.icon} ${h==="pen"?R.iconact:""}`,onClick:()=>M("pen"),children:a.jsx(oi,{})}),a.jsx("div",{className:`${R.icon} ${h==="eraser"?R.iconact:""}`,onClick:()=>M("eraser"),children:a.jsx(ai,{})}),a.jsx("div",{className:`${R.icon} ${h==="fill"?R.iconact:""}`,onClick:()=>M("fill"),children:a.jsx(ci,{})}),a.jsx("div",{style:{opacity:g.length?1:.2},className:`${R.icon}`,onClick:Ft,children:a.jsx(Di,{})}),a.jsx("div",{style:{opacity:E.length>=1?1:.2},className:`${R.icon}`,onClick:Bt,children:a.jsx(Fi,{})}),a.jsx("div",{style:{opacity:g.length>=1?1:.2},className:`${R.icon}`,onClick:qt,children:a.jsx(pn,{})}),a.jsx("div",{style:{opacity:g.length>=1?1:.2},className:`${R.icon}`,onClick:Kt,children:a.jsx(Xi,{})}),a.jsx("div",{className:`${R.icon}`,onClick:Gt,children:a.jsx(Li,{})})]}),a.jsxs("div",{className:R.handlebar,children:[h==="pen"?a.jsx("div",{className:R.setbar,children:a.jsx(Le,{color:n,size:r,alph:u,onChange:C})}):null,h==="eraser"?a.jsx("div",{className:R.setbar,children:a.jsx(Le,{size:i,alph:f,onChange:S})}):null,h==="fill"?a.jsx("div",{className:R.setbar,children:a.jsx(Le,{color:s,alph:l,onChange:ue})}):null]})]}),a.jsx(Pe,{maskStyle:{backgroundColor:"rgba(0,0,0,0.3)"},visiable:Zt,title:D?"长按保存到相册":"右键保存图片",cancelText:"关闭",onCancel:()=>Je(!1),children:a.jsx("div",{className:R.saveimgbox,children:a.jsx("img",{src:Ut,alt:"t"})})}),a.jsx(Pe,{visiable:Vt,title:"记录回放",onOk:Ht,onCancel:()=>Ne(!1),children:a.jsxs("div",{className:R.playcontent,children:[a.jsx("label",{children:"播放速度"}),a.jsx("input",{value:Ce,min:"1",max:"2000",type:"number",onChange:p=>Wt(Number(p.target.value)||void 0)}),a.jsx("span",{children:"毫秒"})]})}),Ye?a.jsx("div",{className:R.playmask}):null,a.jsx(Pe,{visiable:y,title:"清除画布",onOk:Xt,onCancel:()=>N(!1)}),Ui,a.jsx(si,{lineColor:n,eraser:h==="eraser",lineWidth:r,lineAlph:u,eraserWidth:i,bgColor:s,bgAlph:l,eraserAlph:f,onStartDraw:F,onEndDraw:Dt,getCanvas:ce}),a.jsx("canvas",{width:window.innerWidth,height:window.innerHeight,ref:Se,className:R.savecvs}),a.jsxs("div",{className:R.logo,children:[a.jsx("img",{ref:I,src:"./entrance/masklogo.png",alt:"logo"}),a.jsx("img",{ref:O,src:"./entrance/white_paper.jpg",alt:"bg"})]})]})},Ki=({name:t="view"})=>{bn(t);const e=c.useRef(null),n=c.useRef(null),[r,i]=c.useState(!1),{selected:s=[]}=ge(pe),l=ge(G),o=an();c.useEffect(()=>{s.length||o("/list")},[o,s]);const[f,u]=c.useState(!1),[m,d]=c.useState(0),h=c.useCallback(g=>d(g),[]),b=c.useCallback(()=>{var w;const g=m<s.length-1?m+1:0;(w=n.current)==null||w.swipeTo(g),u(!1),d(g)},[m,s.length]),x=c.useCallback(g=>{var w,E;g===4&&((E=(w=e.current)==null?void 0:w.audioEl.current)==null||E.play(),u(!0)),g<4&&!f&&u(!1),g>4&&f&&u(!0)},[f]);return a.jsxs("div",{className:me.root,children:[l.showPanter?null:a.jsx(jn,{className:me.nav,onBack:()=>o(-1),left:a.jsx(yn,{children:a.jsx(Qn,{onClick:()=>G.showPanter=!0,fontSize:24})}),children:a.jsxs("span",{onClick:()=>i(!0),children:[m+1,"/",s.length]})}),a.jsx(jr.Multi,{maxZoom:10,images:s==null?void 0:s.map(g=>g.src),visible:!0,defaultIndex:m,onIndexChange:h,ref:n}),a.jsx(ei,{children:a.jsxs("div",{className:A(me.timer,{[me.timewran]:f}),style:{opacity:l.showPanter?0:1},children:[a.jsx(Ur,{onComplete:b,onUpdate:x,isPlaying:!l.showPanter,wranTime:!0},m),a.jsx(_n,{ref:e,src:"./warning.mp3"})]})}),a.jsx(Rn,{visible:r,onMaskClick:()=>i(!1)}),a.jsx(Yi,{visible:l.showPanter,onClose:()=>G.showPanter=!1,onChange:()=>"onChangePainter",lineColor:l.lineColor,lineWidth:l.lineWidth||1,bgColor:G.panterBgColor,bgAlph:G.bgAlph,eraserAlph:G.eraserAlph,eraserWidth:G.eraserWidth,lineAlph:G.lineAlph,historyRecords:1e3,auth:!0})]})},ns=Ki;export{ns as default};
