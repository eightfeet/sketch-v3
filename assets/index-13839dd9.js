import{S as we,s as K,n as xe,i as Z,a as ee,t as Ee,f as Ce,c as Se,r as te,b as ke,d as j,e as se,h as Te,g as Pe,k as u,u as Oe,p as Le,_ as Ie,l as Me,m as Fe,o as G,q as _e,v as J,x as y,w as U,y as V,z as ue,A as z,B as je,C as Qe,D as Ne,E as $e,F as Ae,j as C,G as We,H as De}from"./index-d110915b.js";import{u as Be}from"./useDocumentTitle-83a871b6.js";import{s as Ue,_ as B,a as ze,b as fe,c as he,i as He,d as Ke,u as Ve,e as qe,f as de,g as me,h as Xe,j as Ge,k as Je,t as Ye,l as Ze,m as et,R as tt,n as st,o as re,r as F,N as rt,B as nt,I as it,S as at}from"./bundle-59fe0236.js";class ot extends we{constructor(e,s){super(),this.client=e,this.options=s,this.trackedProps=new Set,this.selectError=null,this.bindMethods(),this.setOptions(s)}bindMethods(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.currentQuery.addObserver(this),ne(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return q(this.currentQuery,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return q(this.currentQuery,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.clearStaleTimeout(),this.clearRefetchInterval(),this.currentQuery.removeObserver(this)}setOptions(e,s){const r=this.options,i=this.currentQuery;if(this.options=this.client.defaultQueryOptions(e),K(r,this.options)||this.client.getQueryCache().notify({type:"observerOptionsUpdated",query:this.currentQuery,observer:this}),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=r.queryKey),this.updateQuery();const n=this.hasListeners();n&&ie(this.currentQuery,i,this.options,r)&&this.executeFetch(),this.updateResult(s),n&&(this.currentQuery!==i||this.options.enabled!==r.enabled||this.options.staleTime!==r.staleTime)&&this.updateStaleTimeout();const a=this.computeRefetchInterval();n&&(this.currentQuery!==i||this.options.enabled!==r.enabled||a!==this.currentRefetchInterval)&&this.updateRefetchInterval(a)}getOptimisticResult(e){const s=this.client.getQueryCache().build(this.client,e),r=this.createResult(s,e);return lt(this,r,e)&&(this.currentResult=r,this.currentResultOptions=this.options,this.currentResultState=this.currentQuery.state),r}getCurrentResult(){return this.currentResult}trackResult(e){const s={};return Object.keys(e).forEach(r=>{Object.defineProperty(s,r,{configurable:!1,enumerable:!0,get:()=>(this.trackedProps.add(r),e[r])})}),s}getCurrentQuery(){return this.currentQuery}remove(){this.client.getQueryCache().remove(this.currentQuery)}refetch({refetchPage:e,...s}={}){return this.fetch({...s,meta:{refetchPage:e}})}fetchOptimistic(e){const s=this.client.defaultQueryOptions(e),r=this.client.getQueryCache().build(this.client,s);return r.isFetchingOptimistic=!0,r.fetch().then(()=>this.createResult(r,s))}fetch(e){var s;return this.executeFetch({...e,cancelRefetch:(s=e.cancelRefetch)!=null?s:!0}).then(()=>(this.updateResult(),this.currentResult))}executeFetch(e){this.updateQuery();let s=this.currentQuery.fetch(this.options,e);return e!=null&&e.throwOnError||(s=s.catch(xe)),s}updateStaleTimeout(){if(this.clearStaleTimeout(),Z||this.currentResult.isStale||!ee(this.options.staleTime))return;const s=Ee(this.currentResult.dataUpdatedAt,this.options.staleTime)+1;this.staleTimeoutId=setTimeout(()=>{this.currentResult.isStale||this.updateResult()},s)}computeRefetchInterval(){var e;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(e=this.options.refetchInterval)!=null?e:!1}updateRefetchInterval(e){this.clearRefetchInterval(),this.currentRefetchInterval=e,!(Z||this.options.enabled===!1||!ee(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(()=>{(this.options.refetchIntervalInBackground||Ce.isFocused())&&this.executeFetch()},this.currentRefetchInterval))}updateTimers(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())}clearStaleTimeout(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)}clearRefetchInterval(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)}createResult(e,s){const r=this.currentQuery,i=this.options,n=this.currentResult,a=this.currentResultState,c=this.currentResultOptions,l=e!==r,f=l?e.state:this.currentQueryInitialState,p=l?this.currentResult:this.previousQueryResult,{state:o}=e;let{dataUpdatedAt:d,error:g,errorUpdatedAt:v,fetchStatus:b,status:x}=o,T=!1,S=!1,w;if(s._optimisticResults){const E=this.hasListeners(),I=!E&&ne(e,s),Re=E&&ie(e,r,s,i);(I||Re)&&(b=Se(e.options.networkMode)?"fetching":"paused",d||(x="loading")),s._optimisticResults==="isRestoring"&&(b="idle")}if(s.keepPreviousData&&!o.dataUpdatedAt&&p!=null&&p.isSuccess&&x!=="error")w=p.data,d=p.dataUpdatedAt,x=p.status,T=!0;else if(s.select&&typeof o.data<"u")if(n&&o.data===(a==null?void 0:a.data)&&s.select===this.selectFn)w=this.selectResult;else try{this.selectFn=s.select,w=s.select(o.data),w=te(n==null?void 0:n.data,w,s),this.selectResult=w,this.selectError=null}catch(E){this.selectError=E}else w=o.data;if(typeof s.placeholderData<"u"&&typeof w>"u"&&x==="loading"){let E;if(n!=null&&n.isPlaceholderData&&s.placeholderData===(c==null?void 0:c.placeholderData))E=n.data;else if(E=typeof s.placeholderData=="function"?s.placeholderData():s.placeholderData,s.select&&typeof E<"u")try{E=s.select(E),this.selectError=null}catch(I){this.selectError=I}typeof E<"u"&&(x="success",w=te(n==null?void 0:n.data,E,s),S=!0)}this.selectError&&(g=this.selectError,w=this.selectResult,v=Date.now(),x="error");const m=b==="fetching",R=x==="loading",h=x==="error";return{status:x,fetchStatus:b,isLoading:R,isSuccess:x==="success",isError:h,isInitialLoading:R&&m,data:w,dataUpdatedAt:d,error:g,errorUpdatedAt:v,failureCount:o.fetchFailureCount,failureReason:o.fetchFailureReason,errorUpdateCount:o.errorUpdateCount,isFetched:o.dataUpdateCount>0||o.errorUpdateCount>0,isFetchedAfterMount:o.dataUpdateCount>f.dataUpdateCount||o.errorUpdateCount>f.errorUpdateCount,isFetching:m,isRefetching:m&&!R,isLoadingError:h&&o.dataUpdatedAt===0,isPaused:b==="paused",isPlaceholderData:S,isPreviousData:T,isRefetchError:h&&o.dataUpdatedAt!==0,isStale:Y(e,s),refetch:this.refetch,remove:this.remove}}updateResult(e){const s=this.currentResult,r=this.createResult(this.currentQuery,this.options);if(this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,K(r,s))return;this.currentResult=r;const i={cache:!0},n=()=>{if(!s)return!0;const{notifyOnChangeProps:a}=this.options,c=typeof a=="function"?a():a;if(c==="all"||!c&&!this.trackedProps.size)return!0;const l=new Set(c??this.trackedProps);return this.options.useErrorBoundary&&l.add("error"),Object.keys(this.currentResult).some(f=>{const p=f;return this.currentResult[p]!==s[p]&&l.has(p)})};(e==null?void 0:e.listeners)!==!1&&n()&&(i.listeners=!0),this.notify({...i,...e})}updateQuery(){const e=this.client.getQueryCache().build(this.client,this.options);if(e===this.currentQuery)return;const s=this.currentQuery;this.currentQuery=e,this.currentQueryInitialState=e.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(s==null||s.removeObserver(this),e.addObserver(this))}onQueryUpdate(e){const s={};e.type==="success"?s.onSuccess=!e.manual:e.type==="error"&&!ke(e.error)&&(s.onError=!0),this.updateResult(s),this.hasListeners()&&this.updateTimers()}notify(e){j.batch(()=>{if(e.onSuccess){var s,r,i,n;(s=(r=this.options).onSuccess)==null||s.call(r,this.currentResult.data),(i=(n=this.options).onSettled)==null||i.call(n,this.currentResult.data,null)}else if(e.onError){var a,c,l,f;(a=(c=this.options).onError)==null||a.call(c,this.currentResult.error),(l=(f=this.options).onSettled)==null||l.call(f,void 0,this.currentResult.error)}e.listeners&&this.listeners.forEach(({listener:p})=>{p(this.currentResult)}),e.cache&&this.client.getQueryCache().notify({query:this.currentQuery,type:"observerResultsUpdated"})})}}function ct(t,e){return e.enabled!==!1&&!t.state.dataUpdatedAt&&!(t.state.status==="error"&&e.retryOnMount===!1)}function ne(t,e){return ct(t,e)||t.state.dataUpdatedAt>0&&q(t,e,e.refetchOnMount)}function q(t,e,s){if(e.enabled!==!1){const r=typeof s=="function"?s(t):s;return r==="always"||r!==!1&&Y(t,e)}return!1}function ie(t,e,s,r){return s.enabled!==!1&&(t!==e||r.enabled===!1)&&(!s.suspense||t.state.status!=="error")&&Y(t,s)}function Y(t,e){return t.isStaleByTime(e.staleTime)}function lt(t,e,s){return s.keepPreviousData?!1:s.placeholderData!==void 0?e.isPlaceholderData:!K(t.getCurrentResult(),e)}class ut extends ot{constructor(e,s){super(e,s)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(e,s){super.setOptions({...e,behavior:se()},s)}getOptimisticResult(e){return e.behavior=se(),super.getOptimisticResult(e)}fetchNextPage({pageParam:e,...s}={}){return this.fetch({...s,meta:{fetchMore:{direction:"forward",pageParam:e}}})}fetchPreviousPage({pageParam:e,...s}={}){return this.fetch({...s,meta:{fetchMore:{direction:"backward",pageParam:e}}})}createResult(e,s){var r,i,n,a,c,l;const{state:f}=e,p=super.createResult(e,s),{isFetching:o,isRefetching:d}=p,g=o&&((r=f.fetchMeta)==null||(i=r.fetchMore)==null?void 0:i.direction)==="forward",v=o&&((n=f.fetchMeta)==null||(a=n.fetchMore)==null?void 0:a.direction)==="backward";return{...p,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:Te(s,(c=f.data)==null?void 0:c.pages),hasPreviousPage:Pe(s,(l=f.data)==null?void 0:l.pages),isFetchingNextPage:g,isFetchingPreviousPage:v,isRefetching:d&&!g&&!v}}}const ft=Ue.useSyncExternalStore,pe=u.createContext(!1),ht=()=>u.useContext(pe);pe.Provider;function dt(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}const mt=u.createContext(dt()),pt=()=>u.useContext(mt);function gt(t,e){return typeof t=="function"?t(...e):!!t}const vt=(t,e)=>{(t.suspense||t.useErrorBoundary)&&(e.isReset()||(t.retryOnMount=!1))},yt=t=>{u.useEffect(()=>{t.clearReset()},[t])},bt=({result:t,errorResetBoundary:e,useErrorBoundary:s,query:r})=>t.isError&&!e.isReset()&&!t.isFetching&&gt(s,[t.error,r]),Rt=t=>{t.suspense&&typeof t.staleTime!="number"&&(t.staleTime=1e3)},wt=(t,e)=>t.isLoading&&t.isFetching&&!e,xt=(t,e,s)=>(t==null?void 0:t.suspense)&&wt(e,s),Et=(t,e,s)=>e.fetchOptimistic(t).then(({data:r})=>{t.onSuccess==null||t.onSuccess(r),t.onSettled==null||t.onSettled(r,null)}).catch(r=>{s.clearReset(),t.onError==null||t.onError(r),t.onSettled==null||t.onSettled(void 0,r)});function Ct(t,e){const s=Oe({context:t.context}),r=ht(),i=pt(),n=s.defaultQueryOptions(t);n._optimisticResults=r?"isRestoring":"optimistic",n.onError&&(n.onError=j.batchCalls(n.onError)),n.onSuccess&&(n.onSuccess=j.batchCalls(n.onSuccess)),n.onSettled&&(n.onSettled=j.batchCalls(n.onSettled)),Rt(n),vt(n,i),yt(i);const[a]=u.useState(()=>new e(s,n)),c=a.getOptimisticResult(n);if(ft(u.useCallback(l=>{const f=r?()=>{}:a.subscribe(j.batchCalls(l));return a.updateResult(),f},[a,r]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),u.useEffect(()=>{a.setOptions(n,{listeners:!1})},[n,a]),xt(n,c,r))throw Et(n,a,i);if(bt({result:c,errorResetBoundary:i,useErrorBoundary:n.useErrorBoundary,query:a.getCurrentQuery()}))throw c.error;return n.notifyOnChangeProps?c:a.trackResult(c)}function St(t,e,s){const r=Le(t,e,s);return Ct(r,ut)}var kt=Ie,Tt=function(){return kt.Date.now()},Pt=Tt,Ot=/\s/;function Lt(t){for(var e=t.length;e--&&Ot.test(t.charAt(e)););return e}var It=Lt,Mt=It,Ft=/^\s+/;function _t(t){return t&&t.slice(0,Mt(t)+1).replace(Ft,"")}var jt=_t,Qt=Me,Nt=Fe,$t="[object Symbol]";function At(t){return typeof t=="symbol"||Nt(t)&&Qt(t)==$t}var Wt=At,Dt=jt,ae=G,Bt=Wt,oe=0/0,Ut=/^[-+]0x[0-9a-f]+$/i,zt=/^0b[01]+$/i,Ht=/^0o[0-7]+$/i,Kt=parseInt;function Vt(t){if(typeof t=="number")return t;if(Bt(t))return oe;if(ae(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=ae(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Dt(t);var s=zt.test(t);return s||Ht.test(t)?Kt(t.slice(2),s?2:8):Ut.test(t)?oe:+t}var qt=Vt,Xt=G,H=Pt,ce=qt,Gt="Expected a function",Jt=Math.max,Yt=Math.min;function Zt(t,e,s){var r,i,n,a,c,l,f=0,p=!1,o=!1,d=!0;if(typeof t!="function")throw new TypeError(Gt);e=ce(e)||0,Xt(s)&&(p=!!s.leading,o="maxWait"in s,n=o?Jt(ce(s.maxWait)||0,e):n,d="trailing"in s?!!s.trailing:d);function g(h){var k=r,E=i;return r=i=void 0,f=h,a=t.apply(E,k),a}function v(h){return f=h,c=setTimeout(T,e),p?g(h):a}function b(h){var k=h-l,E=h-f,I=e-k;return o?Yt(I,n-E):I}function x(h){var k=h-l,E=h-f;return l===void 0||k>=e||k<0||o&&E>=n}function T(){var h=H();if(x(h))return S(h);c=setTimeout(T,b(h))}function S(h){return c=void 0,d&&r?g(h):(r=i=void 0,a)}function w(){c!==void 0&&clearTimeout(c),f=0,r=l=i=c=void 0}function m(){return c===void 0?a:S(H())}function R(){var h=H(),k=x(h);if(r=arguments,i=this,l=h,k){if(c===void 0)return v(l);if(o)return clearTimeout(c),c=setTimeout(T,e),g(l)}return c===void 0&&(c=setTimeout(T,e)),a}return R.cancel=w,R.flush=m,R}var es=Zt,ts=es,ss=G,rs="Expected a function";function ns(t,e,s){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(rs);return ss(s)&&(r="leading"in s?!!s.leading:r,i="trailing"in s?!!s.trailing:i),ts(t,e,{leading:r,maxWait:e,trailing:i})}var is=ns;const as=_e(is);function os(t){var e=this,s=u.useRef(!1);return u.useCallback(function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return B(e,void 0,void 0,function(){var n,a;return ze(this,function(c){switch(c.label){case 0:if(s.current)return[2];s.current=!0,c.label=1;case 1:return c.trys.push([1,3,,4]),[4,t.apply(void 0,fe([],he(r),!1))];case 2:return n=c.sent(),s.current=!1,[2,n];case 3:throw a=c.sent(),s.current=!1,a;case 4:return[2]}})})},[t])}function ge(t,e){var s;He&&(Ke(t)||console.error("useThrottleFn expected parameter is a function, got ".concat(typeof t)));var r=Ve(t),i=(s=e==null?void 0:e.wait)!==null&&s!==void 0?s:1e3,n=u.useMemo(function(){return as(function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];return r.current.apply(r,fe([],he(a),!1))},i,e)},[]);return qe(function(){n.cancel()}),{run:n,cancel:n.cancel,flush:n.flush}}function cs(t){return u.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},t,{style:Object.assign({verticalAlign:"-0.125em"},t.style),className:["antd-mobile-icon",t.className].filter(Boolean).join(" ")}),u.createElement("g",{id:"PlayOutline-PlayOutline",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},u.createElement("g",{id:"PlayOutline-编组"},u.createElement("rect",{id:"PlayOutline-矩形",fill:"#FFFFFF",opacity:0,x:0,y:0,width:48,height:48}),u.createElement("path",{d:"M13.7542635,5 L13.7542635,5 C14.4346997,5 15.1023464,5.17879782 15.6858218,5.51730753 L42.1766882,20.8867866 L42.1766884,20.8867867 C43.954638,21.9182878 44.5311886,24.1481853 43.4644541,25.8674033 C43.1473985,26.3783891 42.7051305,26.8060484 42.1766884,27.1126297 L15.6858221,42.4821088 L15.6858224,42.4821086 C13.9078904,43.5136394 11.6018067,42.9561767 10.5350149,41.2369758 C10.1849222,40.6727702 10,40.0271653 10,39.3691893 L10,8.63023111 L10,8.63023166 C10,6.62531187 11.6808306,5 13.7542421,5 L13.7542635,5 Z M13.7542635,7.72267123 L13.7542635,7.72267123 C13.2784351,7.72267123 12.8779439,8.06709552 12.8222725,8.52404271 L12.8157026,8.63022688 L12.8157026,39.369185 L12.8157026,39.3692026 C12.8157026,39.8704336 13.2355864,40.2770731 13.7539409,40.2770731 C13.8870633,40.2770731 14.0186722,40.249778 14.1400304,40.1968699 L14.236702,40.1478619 L40.7284922,24.7774894 L40.7284923,24.7774894 C41.1728598,24.5194214 41.3167368,23.9618834 41.0498545,23.5321949 C40.9896328,23.4352363 40.9111988,23.3500171 40.8185937,23.2809268 L40.7284918,23.2219354 L14.2366576,7.85156296 L14.2366576,7.85156295 C14.0908783,7.76717376 13.9241432,7.72267123 13.7542388,7.72267123 L13.7542635,7.72267123 Z",id:"PlayOutline-形状",fill:"currentColor",fillRule:"nonzero"}))))}function ls(t,e){const s=de(t);me(()=>{const r=e.current;if(r)if(window.ResizeObserver){let i;const n=new ResizeObserver(()=>{i=window.requestAnimationFrame(()=>s(r))});return n.observe(r),()=>{window.cancelAnimationFrame(i),n.disconnect()}}else s(r)},[e])}function us(t,e,s){const r=de(t);u.useEffect(()=>{const i=new MutationObserver(()=>{r()});if(e.current)return i.observe(e.current,s),()=>{i.disconnect()}},[e])}const fs=(t,e)=>{const[{scrollLeft:s},r]=J(()=>({scrollLeft:0,config:{tension:300,clamp:!0}}));function i(n=!1){const a=t.current;if(!a||e===void 0)return;const l=a.children.item(e).children.item(0),f=l.offsetLeft,p=l.offsetWidth,o=a.offsetWidth,d=a.scrollWidth,g=a.scrollLeft;if(d-o<=0)return;const b=Ge(f-(o-p)/2,0,d-o);r.start({scrollLeft:b,from:{scrollLeft:g},immediate:n&&!s.isAnimating})}return me(()=>{i(!0)},[]),Xe(()=>{i()},[e]),us(()=>{i(!0)},t,{subtree:!0,childList:!0,characterData:!0}),{scrollLeft:s,animate:i}};const A="adm-scroll-mask",hs=t=>{const e=u.useRef(null),[{leftMaskOpacity:s,rightMaskOpacity:r},i]=J(()=>({leftMaskOpacity:0,rightMaskOpacity:0,config:{clamp:!0}})),{run:n}=ge((a=!1)=>{if(!e.current)return;const l=t.scrollTrackRef.current;if(!l)return;const f=l.scrollLeft,p=f>0,o=f+l.offsetWidth<l.scrollWidth;i.start({leftMaskOpacity:p?1:0,rightMaskOpacity:o?1:0,immediate:a})},{wait:100,trailing:!0,leading:!0});return u.useEffect(()=>{n(!0)},[]),u.useEffect(()=>{const a=t.scrollTrackRef.current;if(a)return a.addEventListener("scroll",n),()=>a.removeEventListener("scroll",n)},[]),y.createElement(y.Fragment,null,y.createElement(U.div,{ref:e,className:V(A,`${A}-left`),style:{opacity:s}}),y.createElement(U.div,{className:V(A,`${A}-right`),style:{opacity:r}}))};const W="adm-floating-bubble",ds={axis:"y",defaultOffset:{x:0,y:0}},ms=t=>{const e=ue(ds,t),s=u.useRef(null),r=u.useRef(null),[i,n]=u.useState(e.offset===void 0?e.defaultOffset:e.offset);u.useEffect(()=>{e.offset!==void 0&&f.start({x:e.offset.x,y:e.offset.y})},[e.offset]);const[{x:a,y:c,opacity:l},f]=J(()=>({x:i.x,y:i.y,opacity:1})),p=Je(o=>{var d;let g=o.offset[0],v=o.offset[1];if(o.last&&e.magnetic){const x=s.current,T=r.current;if(!x||!T)return;const S=x.getBoundingClientRect(),w=T.getBoundingClientRect();if(e.magnetic==="x"){const m=a.goal-a.get(),R=w.left+m-S.left,h=S.right-(w.right+m);h<=R?g+=h:g-=R}else if(e.magnetic==="y"){const m=c.goal-c.get(),R=w.top+m-S.top,h=S.bottom-(w.bottom+m);h<=R?v+=h:v-=R}}const b={x:g,y:v};e.offset===void 0?f.start(b):n(b),(d=e.onOffsetChange)===null||d===void 0||d.call(e,b),f.start({opacity:o.active?.8:1})},{axis:e.axis==="xy"?void 0:e.axis,pointer:{touch:!0},filterTaps:!0,bounds:s,from:()=>[a.get(),c.get()]});return z(e,y.createElement("div",{className:W},y.createElement("div",{className:`${W}-boundary-outer`},y.createElement("div",{className:`${W}-boundary`,ref:s})),y.createElement(U.div,Object.assign({},p(),{style:{opacity:l,transform:je([a,c],(o,d)=>`translate(${o}px, ${d}px)`)},onClick:e.onClick,className:`${W}-button`,ref:r}),e.children)))};function ps(t){return t===window}const ve="adm-infinite-scroll",gs={threshold:250,children:(t,e,s)=>y.createElement(ys,{hasMore:t,failed:e,retry:s})},vs=t=>{const e=ue(gs,t),[s,r]=u.useState(!1),i=os(g=>B(void 0,void 0,void 0,function*(){try{yield e.loadMore(g)}catch(v){throw r(!0),v}})),n=u.useRef(null),[a,c]=u.useState({}),l=u.useRef(a),[f,p]=u.useState(),{run:o}=ge(()=>B(void 0,void 0,void 0,function*(){if(l.current!==a||!e.hasMore)return;const g=n.current;if(!g||!g.offsetParent)return;const v=Qe(g);if(p(v),!v)return;const x=g.getBoundingClientRect().top;if((ps(v)?window.innerHeight:v.getBoundingClientRect().bottom)>=x-e.threshold){const S={};l.current=S,yield i(!1),c(S)}}),{wait:100,leading:!0,trailing:!0});u.useEffect(()=>{o()}),u.useEffect(()=>{if(!n.current||!f)return;function v(){o()}return f.addEventListener("scroll",v),()=>{f.removeEventListener("scroll",v)}},[f]);function d(){return B(this,void 0,void 0,function*(){r(!1),yield i(!0),c(l.current)})}return z(e,y.createElement("div",{className:ve,ref:n},typeof e.children=="function"?e.children(e.hasMore,s,d):e.children))},ys=t=>{const{locale:e}=Ne();return t.hasMore?t.failed?y.createElement("span",null,y.createElement("span",{className:`${ve}-failed-text`},e.InfiniteScroll.failedToLoad),y.createElement("a",{onClick:()=>{t.retry()}},e.InfiniteScroll.retry)):y.createElement(y.Fragment,null,y.createElement("span",null,e.common.loading),y.createElement($e,null)):y.createElement("span",null,e.InfiniteScroll.noMore)};const O="adm-jumbo-tabs",bs=()=>null,Rs=t=>{var e;const s=u.useRef(null),r=u.useRef(null),i={};let n=null;const a=[];Ye(t.children,(o,d)=>{if(!u.isValidElement(o))return;const g=o.key;if(typeof g!="string")return;d===0&&(n=g);const v=a.push(o);i[g]=v-1});const[c,l]=Ze({value:t.activeKey,defaultValue:(e=t.defaultActiveKey)!==null&&e!==void 0?e:n,onChange:o=>{var d;o!==null&&((d=t.onChange)===null||d===void 0||d.call(t,o))}}),{scrollLeft:f,animate:p}=fs(s,i[c]);return ls(()=>{p(!0)},r),z(t,y.createElement("div",{className:O,ref:r},y.createElement("div",{className:`${O}-header`},y.createElement(hs,{scrollTrackRef:s}),y.createElement(U.div,{className:`${O}-tab-list`,ref:s,scrollLeft:f},a.map(o=>z(o.props,y.createElement("div",{key:o.key,className:`${O}-tab-wrapper`},y.createElement("div",{onClick:()=>{const{key:d}=o;o.props.disabled||d!=null&&l(d.toString())},className:V(`${O}-tab`,{[`${O}-tab-active`]:o.key===c,[`${O}-tab-disabled`]:o.props.disabled})},y.createElement("div",{className:`${O}-tab-title`},o.props.title),y.createElement("div",{className:`${O}-tab-description`},o.props.description))))))),a.map(o=>{if(o.props.children===void 0)return null;const d=o.key===c;return y.createElement(Ae,{key:o.key,active:d,forceRender:o.props.forceRender,destroyOnClose:o.props.destroyOnClose},y.createElement("div",{className:`${O}-content`,style:{display:d?"block":"none"}},o.props.children))})))},le=et(Rs,{Tab:bs});function P(t,e,s,r){if(s==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return s==="m"?r:s==="a"?r.call(t):r?r.value:e.get(t)}function _(t,e,s,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,s):i?i.value=s:e.set(t,s),s}function ws(t,e){e===void 0&&(e={});var s=e.insertAt;if(!(!t||typeof document>"u")){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",s==="top"&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t))}}var xs=`wc-waterfall {\r
  position: relative;\r
  display: block;\r
  box-sizing: content-box !important;\r
}\r
      \r
wc-waterfall > * {\r
  position: absolute;\r
  box-sizing: border-box;\r
}\r
`;ws(xs);function Es(t){let e=0;for(let s=0;s<t.length;s++)e=t[e]<=t[s]?e:s;return e}function Cs(t,{getW:e,setW:s,getH:r,setH:i,getPad:n,setX:a,setY:c,getChildren:l},{cols:f,gap:p}){const[o,d,g,v]=n(t),b=l(t),x=b.length;if(x){const T=(e(t)-p*(f-1)-(v+d))/f;Array.prototype.forEach.call(b,m=>s(m,T));const S=Array.prototype.map.call(b,m=>r(m)),w=Array(f).fill(o);for(let m=0;m<x;m++){const R=b[m],h=Es(w);c(R,w[h]),a(R,v+(T+p)*h),w[h]+=S[m]+p}i(t,Math.max(...w)-p+g)}else i(t,o+g)}var X,L,Q,M,N,ye;class $ extends HTMLElement{constructor(){super(),X.add(this),Object.defineProperty(this,"_fl_w",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_fl_h",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),L.set(this,void 0),Q.set(this,void 0),M.set(this,void 0),N.set(this,!1)}get gap(){return+(this.getAttribute("gap")||$.default_props.gap)}set gap(e){this.setAttribute("gap",e+"")}get cols(){return+(this.getAttribute("cols")||$.default_props.cols)}set cols(e){this.setAttribute("cols",e+"")}connectedCallback(){_(this,L,new ResizeObserver(e=>e.some(({target:s})=>s._fl_w!=s.offsetWidth||s._fl_h!=s.offsetHeight)&&this.relayout()),"f"),P(this,L,"f").observe(this),Array.prototype.forEach.call(this.children,e=>P(this,L,"f").observe(e)),this.relayout(),_(this,Q,new MutationObserver(e=>{e.forEach(s=>{s.addedNodes.forEach(r=>r instanceof HTMLElement&&P(this,L,"f").observe(r)),s.removedNodes.forEach(r=>r instanceof HTMLElement&&P(this,L,"f").unobserve(r))}),this.relayout()}),"f"),P(this,Q,"f").observe(this,{childList:!0,attributes:!1}),_(this,M,new MutationObserver(()=>this.relayout()),"f"),P(this,M,"f").observe(this,{childList:!1,attributes:!0})}disconnectedCallback(){P(this,L,"f").disconnect(),P(this,Q,"f").disconnect(),P(this,M,"f").disconnect()}relayout(){P(this,N,"f")||(_(this,N,!0,"f"),requestAnimationFrame(()=>{P(this,X,"m",ye).call(this),_(this,N,!1,"f")}))}}L=new WeakMap,Q=new WeakMap,M=new WeakMap,N=new WeakMap,X=new WeakSet,ye=function(){Cs(this,{getW:t=>t.offsetWidth,setW:(t,e)=>t.style.width=e+"px",getH:t=>(t._fl_w=t.offsetWidth,t._fl_h=t.offsetHeight),setH:(t,e)=>t.style.height=e+"px",getPad:t=>{const e=getComputedStyle(t);return[parseInt(e.paddingTop),parseInt(e.paddingRight),-parseInt(e.paddingTop),parseInt(e.paddingLeft)]},setX:(t,e)=>t.style.left=e+"px",setY:(t,e)=>t.style.top=e+"px",getChildren:t=>t.children},{cols:this.cols,gap:this.gap}),this._fl_w=this.offsetWidth,this._fl_h=this.offsetHeight,P(this,M,"f").takeRecords()},Object.defineProperty($,"default_props",{enumerable:!0,configurable:!0,writable:!0,value:Object.freeze({cols:2,gap:4})}),customElements.define("wc-waterfall",$);const Ss="_nav_tckie_1",ks="_root_tckie_10",Ts="_subnav_tckie_14",Ps="_play_tckie_19",D={nav:Ss,root:ks,subnav:Ts,play:Ps},be=5,Os=["https://www.eightfeet.cn/md1/assets/models/037-x&840&696.jpg","https://www.eightfeet.cn/md1/assets/models/038-x&902&568.jpg","https://www.eightfeet.cn/md1/assets/models/044-y&420&647.jpg","https://www.eightfeet.cn/md1/assets/models/041-y&518&698.jpg","https://www.eightfeet.cn/md1/assets/models/035-y&491&654.jpg","https://www.eightfeet.cn/md1/assets/models/043-x&919&530.jpg","https://www.eightfeet.cn/md1/assets/models/039-y&700&707.jpg","https://www.eightfeet.cn/md1/assets/models/042-x&769&688.jpg","https://www.eightfeet.cn/md1/assets/models/036-y&628&642.jpg","https://www.eightfeet.cn/md1/assets/models/040-x&895&621.jpg"],Ls=({page:t,size:e=be,error:s})=>new Promise((r,i)=>{if(s){i();return}setTimeout(()=>{const n=[],a=t*e;for(let l=a-e;l<a;l++)n.push({src:Os[Math.floor(Math.random()*10)],name:"string",tag:["1","2","3","4","5","6"],_id:`${Date.now()}_${t}_${l}`});const c={data:n,total:100};console.log(c),r(c)},1e3)}),Is=({onClick:t,...e})=>{const s=u.useRef(null),r=u.useCallback(()=>{var n,a;(a=(n=s.current)==null?void 0:n.audioEl.current)==null||a.play()},[]),i=u.useCallback(n=>{r(),t==null||t(n)},[t,r]);return C.jsxs(C.Fragment,{children:[C.jsx(tt,{ref:s,src:"./warning.mp3"}),C.jsx(cs,{fontSize:32,onClick:i,...e})]})},Ms=({name:t="list"})=>{Be(t);const{selected:e}=st(F),s=We(),[r,i]=u.useState(!1),n=re("(min-width: 768px)"),a=re("(min-width: 1024px)"),c={cols:3,gap:10};n&&(c.cols=6),a&&(c.cols=8);const l=u.useRef(!0),f=u.useCallback(async({page:m})=>Ls({page:m,error:!1}).catch(R=>{throw l.current=!1,R}),[]),{isLoading:p,data:o,fetchNextPage:d,isFetchedAfterMount:g,isError:v}=St({queryKey:["InventoryInquiry"],queryFn:({pageParam:m})=>f(m||{page:1}),getNextPageParam:(m,R)=>{const{total:h}=m,k=R.length,E=R.length*be;if(h>E)return{page:k+1};l.current=!1},refetchOnWindowFocus:!1}),b=(o==null?void 0:o.pages.flatMap(m=>m.data))||[],x=[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20],T=u.useCallback((m,R)=>{var h;m||(F.selected=(F.selected||[]).concat(R)),m&&(F.selected=(h=F.selected)==null?void 0:h.filter(k=>k._id!==R._id))},[]),S=u.useCallback(()=>{i(!1)},[]),w=u.useCallback(()=>{s("/view")},[s]);return C.jsxs("div",{className:D.root,children:[!(b!=null&&b.length)&&g?"暂无数据":null,p&&!g?C.jsx(De,{}):null,C.jsxs("div",{className:D.nav,children:[C.jsx(rt,{onBack:()=>{},right:C.jsx(C.Fragment,{children:C.jsxs(nt,{fill:"none",size:"mini",onClick:()=>i(!0),children:["已选 ",(e==null?void 0:e.length)||0]})}),children:"标题"}),C.jsx(le,{className:D.subnav,defaultActiveKey:"1",children:x.map(m=>C.jsx(le.Tab,{title:null,description:"描述文案"},m))})]}),C.jsx("wc-waterfall",{...c,children:b.map((m,R)=>{const h=e==null?void 0:e.some(k=>m._id===k._id);return C.jsx(it,{src:m.src,toggleType:h?["icon"]:["block","icon"],selected:h,onToggle:k=>T(k,m)},R)})}),!v&&(b!=null&&b.length)?C.jsx(vs,{loadMore:d,hasMore:l.current}):null,C.jsx(at,{visible:r,onMaskClick:()=>i(!1),onClear:S}),C.jsx(ms,{axis:"xy",magnetic:"x",className:D.play,children:C.jsx(Is,{fontSize:32,onClick:w})})]})},Qs=Ms;export{Qs as default};
