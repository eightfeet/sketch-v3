import{S as we,s as K,n as xe,i as Z,a as ee,t as Ee,f as Se,c as Te,r as te,b as Ce,d as F,e as se,h as ke,g as Pe,k as h,u as Ie,p as Oe,_ as Me,l as _e,m as Le,o as G,q as Qe,v as J,R as y,w as U,x as V,y as ue,z,A as Fe,B as je,C as Ne,D as $e,E as Ae,j as S,F as We,G as De}from"./index-c93ced98.js";import{u as Be}from"./useDocumentTitle-f1141600.js";import{s as Ue,_ as B,a as ze,b as fe,c as he,i as He,d as Ke,u as Ve,e as qe,f as de,g as me,h as Xe,j as Ge,k as Je,t as Ye,l as Ze,m as et,R as tt,P as st,n as rt,o as re,r as L,N as nt,B as it,I as at,S as ot}from"./bundle-70be6aab.js";class ct extends we{constructor(e,s){super(),this.client=e,this.options=s,this.trackedProps=new Set,this.selectError=null,this.bindMethods(),this.setOptions(s)}bindMethods(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.currentQuery.addObserver(this),ne(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return q(this.currentQuery,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return q(this.currentQuery,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.clearStaleTimeout(),this.clearRefetchInterval(),this.currentQuery.removeObserver(this)}setOptions(e,s){const r=this.options,i=this.currentQuery;if(this.options=this.client.defaultQueryOptions(e),K(r,this.options)||this.client.getQueryCache().notify({type:"observerOptionsUpdated",query:this.currentQuery,observer:this}),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=r.queryKey),this.updateQuery();const n=this.hasListeners();n&&ie(this.currentQuery,i,this.options,r)&&this.executeFetch(),this.updateResult(s),n&&(this.currentQuery!==i||this.options.enabled!==r.enabled||this.options.staleTime!==r.staleTime)&&this.updateStaleTimeout();const a=this.computeRefetchInterval();n&&(this.currentQuery!==i||this.options.enabled!==r.enabled||a!==this.currentRefetchInterval)&&this.updateRefetchInterval(a)}getOptimisticResult(e){const s=this.client.getQueryCache().build(this.client,e),r=this.createResult(s,e);return ut(this,r,e)&&(this.currentResult=r,this.currentResultOptions=this.options,this.currentResultState=this.currentQuery.state),r}getCurrentResult(){return this.currentResult}trackResult(e){const s={};return Object.keys(e).forEach(r=>{Object.defineProperty(s,r,{configurable:!1,enumerable:!0,get:()=>(this.trackedProps.add(r),e[r])})}),s}getCurrentQuery(){return this.currentQuery}remove(){this.client.getQueryCache().remove(this.currentQuery)}refetch({refetchPage:e,...s}={}){return this.fetch({...s,meta:{refetchPage:e}})}fetchOptimistic(e){const s=this.client.defaultQueryOptions(e),r=this.client.getQueryCache().build(this.client,s);return r.isFetchingOptimistic=!0,r.fetch().then(()=>this.createResult(r,s))}fetch(e){var s;return this.executeFetch({...e,cancelRefetch:(s=e.cancelRefetch)!=null?s:!0}).then(()=>(this.updateResult(),this.currentResult))}executeFetch(e){this.updateQuery();let s=this.currentQuery.fetch(this.options,e);return e!=null&&e.throwOnError||(s=s.catch(xe)),s}updateStaleTimeout(){if(this.clearStaleTimeout(),Z||this.currentResult.isStale||!ee(this.options.staleTime))return;const s=Ee(this.currentResult.dataUpdatedAt,this.options.staleTime)+1;this.staleTimeoutId=setTimeout(()=>{this.currentResult.isStale||this.updateResult()},s)}computeRefetchInterval(){var e;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(e=this.options.refetchInterval)!=null?e:!1}updateRefetchInterval(e){this.clearRefetchInterval(),this.currentRefetchInterval=e,!(Z||this.options.enabled===!1||!ee(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(()=>{(this.options.refetchIntervalInBackground||Se.isFocused())&&this.executeFetch()},this.currentRefetchInterval))}updateTimers(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())}clearStaleTimeout(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)}clearRefetchInterval(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)}createResult(e,s){const r=this.currentQuery,i=this.options,n=this.currentResult,a=this.currentResultState,c=this.currentResultOptions,l=e!==r,u=l?e.state:this.currentQueryInitialState,p=l?this.currentResult:this.previousQueryResult,{state:o}=e;let{dataUpdatedAt:d,error:g,errorUpdatedAt:v,fetchStatus:b,status:x}=o,k=!1,T=!1,w;if(s._optimisticResults){const E=this.hasListeners(),M=!E&&ne(e,s),Re=E&&ie(e,r,s,i);(M||Re)&&(b=Te(e.options.networkMode)?"fetching":"paused",d||(x="loading")),s._optimisticResults==="isRestoring"&&(b="idle")}if(s.keepPreviousData&&!o.dataUpdatedAt&&p!=null&&p.isSuccess&&x!=="error")w=p.data,d=p.dataUpdatedAt,x=p.status,k=!0;else if(s.select&&typeof o.data<"u")if(n&&o.data===(a==null?void 0:a.data)&&s.select===this.selectFn)w=this.selectResult;else try{this.selectFn=s.select,w=s.select(o.data),w=te(n==null?void 0:n.data,w,s),this.selectResult=w,this.selectError=null}catch(E){this.selectError=E}else w=o.data;if(typeof s.placeholderData<"u"&&typeof w>"u"&&x==="loading"){let E;if(n!=null&&n.isPlaceholderData&&s.placeholderData===(c==null?void 0:c.placeholderData))E=n.data;else if(E=typeof s.placeholderData=="function"?s.placeholderData():s.placeholderData,s.select&&typeof E<"u")try{E=s.select(E),this.selectError=null}catch(M){this.selectError=M}typeof E<"u"&&(x="success",w=te(n==null?void 0:n.data,E,s),T=!0)}this.selectError&&(g=this.selectError,w=this.selectResult,v=Date.now(),x="error");const m=b==="fetching",R=x==="loading",f=x==="error";return{status:x,fetchStatus:b,isLoading:R,isSuccess:x==="success",isError:f,isInitialLoading:R&&m,data:w,dataUpdatedAt:d,error:g,errorUpdatedAt:v,failureCount:o.fetchFailureCount,failureReason:o.fetchFailureReason,errorUpdateCount:o.errorUpdateCount,isFetched:o.dataUpdateCount>0||o.errorUpdateCount>0,isFetchedAfterMount:o.dataUpdateCount>u.dataUpdateCount||o.errorUpdateCount>u.errorUpdateCount,isFetching:m,isRefetching:m&&!R,isLoadingError:f&&o.dataUpdatedAt===0,isPaused:b==="paused",isPlaceholderData:T,isPreviousData:k,isRefetchError:f&&o.dataUpdatedAt!==0,isStale:Y(e,s),refetch:this.refetch,remove:this.remove}}updateResult(e){const s=this.currentResult,r=this.createResult(this.currentQuery,this.options);if(this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,K(r,s))return;this.currentResult=r;const i={cache:!0},n=()=>{if(!s)return!0;const{notifyOnChangeProps:a}=this.options,c=typeof a=="function"?a():a;if(c==="all"||!c&&!this.trackedProps.size)return!0;const l=new Set(c??this.trackedProps);return this.options.useErrorBoundary&&l.add("error"),Object.keys(this.currentResult).some(u=>{const p=u;return this.currentResult[p]!==s[p]&&l.has(p)})};(e==null?void 0:e.listeners)!==!1&&n()&&(i.listeners=!0),this.notify({...i,...e})}updateQuery(){const e=this.client.getQueryCache().build(this.client,this.options);if(e===this.currentQuery)return;const s=this.currentQuery;this.currentQuery=e,this.currentQueryInitialState=e.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(s==null||s.removeObserver(this),e.addObserver(this))}onQueryUpdate(e){const s={};e.type==="success"?s.onSuccess=!e.manual:e.type==="error"&&!Ce(e.error)&&(s.onError=!0),this.updateResult(s),this.hasListeners()&&this.updateTimers()}notify(e){F.batch(()=>{if(e.onSuccess){var s,r,i,n;(s=(r=this.options).onSuccess)==null||s.call(r,this.currentResult.data),(i=(n=this.options).onSettled)==null||i.call(n,this.currentResult.data,null)}else if(e.onError){var a,c,l,u;(a=(c=this.options).onError)==null||a.call(c,this.currentResult.error),(l=(u=this.options).onSettled)==null||l.call(u,void 0,this.currentResult.error)}e.listeners&&this.listeners.forEach(({listener:p})=>{p(this.currentResult)}),e.cache&&this.client.getQueryCache().notify({query:this.currentQuery,type:"observerResultsUpdated"})})}}function lt(t,e){return e.enabled!==!1&&!t.state.dataUpdatedAt&&!(t.state.status==="error"&&e.retryOnMount===!1)}function ne(t,e){return lt(t,e)||t.state.dataUpdatedAt>0&&q(t,e,e.refetchOnMount)}function q(t,e,s){if(e.enabled!==!1){const r=typeof s=="function"?s(t):s;return r==="always"||r!==!1&&Y(t,e)}return!1}function ie(t,e,s,r){return s.enabled!==!1&&(t!==e||r.enabled===!1)&&(!s.suspense||t.state.status!=="error")&&Y(t,s)}function Y(t,e){return t.isStaleByTime(e.staleTime)}function ut(t,e,s){return s.keepPreviousData?!1:s.placeholderData!==void 0?e.isPlaceholderData:!K(t.getCurrentResult(),e)}class ft extends ct{constructor(e,s){super(e,s)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(e,s){super.setOptions({...e,behavior:se()},s)}getOptimisticResult(e){return e.behavior=se(),super.getOptimisticResult(e)}fetchNextPage({pageParam:e,...s}={}){return this.fetch({...s,meta:{fetchMore:{direction:"forward",pageParam:e}}})}fetchPreviousPage({pageParam:e,...s}={}){return this.fetch({...s,meta:{fetchMore:{direction:"backward",pageParam:e}}})}createResult(e,s){var r,i,n,a,c,l;const{state:u}=e,p=super.createResult(e,s),{isFetching:o,isRefetching:d}=p,g=o&&((r=u.fetchMeta)==null||(i=r.fetchMore)==null?void 0:i.direction)==="forward",v=o&&((n=u.fetchMeta)==null||(a=n.fetchMore)==null?void 0:a.direction)==="backward";return{...p,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:ke(s,(c=u.data)==null?void 0:c.pages),hasPreviousPage:Pe(s,(l=u.data)==null?void 0:l.pages),isFetchingNextPage:g,isFetchingPreviousPage:v,isRefetching:d&&!g&&!v}}}const ht=Ue.useSyncExternalStore,pe=h.createContext(!1),dt=()=>h.useContext(pe);pe.Provider;function mt(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}const pt=h.createContext(mt()),gt=()=>h.useContext(pt);function vt(t,e){return typeof t=="function"?t(...e):!!t}const yt=(t,e)=>{(t.suspense||t.useErrorBoundary)&&(e.isReset()||(t.retryOnMount=!1))},bt=t=>{h.useEffect(()=>{t.clearReset()},[t])},Rt=({result:t,errorResetBoundary:e,useErrorBoundary:s,query:r})=>t.isError&&!e.isReset()&&!t.isFetching&&vt(s,[t.error,r]),wt=t=>{t.suspense&&typeof t.staleTime!="number"&&(t.staleTime=1e3)},xt=(t,e)=>t.isLoading&&t.isFetching&&!e,Et=(t,e,s)=>(t==null?void 0:t.suspense)&&xt(e,s),St=(t,e,s)=>e.fetchOptimistic(t).then(({data:r})=>{t.onSuccess==null||t.onSuccess(r),t.onSettled==null||t.onSettled(r,null)}).catch(r=>{s.clearReset(),t.onError==null||t.onError(r),t.onSettled==null||t.onSettled(void 0,r)});function Tt(t,e){const s=Ie({context:t.context}),r=dt(),i=gt(),n=s.defaultQueryOptions(t);n._optimisticResults=r?"isRestoring":"optimistic",n.onError&&(n.onError=F.batchCalls(n.onError)),n.onSuccess&&(n.onSuccess=F.batchCalls(n.onSuccess)),n.onSettled&&(n.onSettled=F.batchCalls(n.onSettled)),wt(n),yt(n,i),bt(i);const[a]=h.useState(()=>new e(s,n)),c=a.getOptimisticResult(n);if(ht(h.useCallback(l=>{const u=r?()=>{}:a.subscribe(F.batchCalls(l));return a.updateResult(),u},[a,r]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),h.useEffect(()=>{a.setOptions(n,{listeners:!1})},[n,a]),Et(n,c,r))throw St(n,a,i);if(Rt({result:c,errorResetBoundary:i,useErrorBoundary:n.useErrorBoundary,query:a.getCurrentQuery()}))throw c.error;return n.notifyOnChangeProps?c:a.trackResult(c)}function Ct(t,e,s){const r=Oe(t,e,s);return Tt(r,ft)}var kt=Me,Pt=function(){return kt.Date.now()},It=Pt,Ot=/\s/;function Mt(t){for(var e=t.length;e--&&Ot.test(t.charAt(e)););return e}var _t=Mt,Lt=_t,Qt=/^\s+/;function Ft(t){return t&&t.slice(0,Lt(t)+1).replace(Qt,"")}var jt=Ft,Nt=_e,$t=Le,At="[object Symbol]";function Wt(t){return typeof t=="symbol"||$t(t)&&Nt(t)==At}var Dt=Wt,Bt=jt,ae=G,Ut=Dt,oe=0/0,zt=/^[-+]0x[0-9a-f]+$/i,Ht=/^0b[01]+$/i,Kt=/^0o[0-7]+$/i,Vt=parseInt;function qt(t){if(typeof t=="number")return t;if(Ut(t))return oe;if(ae(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=ae(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Bt(t);var s=Ht.test(t);return s||Kt.test(t)?Vt(t.slice(2),s?2:8):zt.test(t)?oe:+t}var Xt=qt,Gt=G,H=It,ce=Xt,Jt="Expected a function",Yt=Math.max,Zt=Math.min;function es(t,e,s){var r,i,n,a,c,l,u=0,p=!1,o=!1,d=!0;if(typeof t!="function")throw new TypeError(Jt);e=ce(e)||0,Gt(s)&&(p=!!s.leading,o="maxWait"in s,n=o?Yt(ce(s.maxWait)||0,e):n,d="trailing"in s?!!s.trailing:d);function g(f){var C=r,E=i;return r=i=void 0,u=f,a=t.apply(E,C),a}function v(f){return u=f,c=setTimeout(k,e),p?g(f):a}function b(f){var C=f-l,E=f-u,M=e-C;return o?Zt(M,n-E):M}function x(f){var C=f-l,E=f-u;return l===void 0||C>=e||C<0||o&&E>=n}function k(){var f=H();if(x(f))return T(f);c=setTimeout(k,b(f))}function T(f){return c=void 0,d&&r?g(f):(r=i=void 0,a)}function w(){c!==void 0&&clearTimeout(c),u=0,r=l=i=c=void 0}function m(){return c===void 0?a:T(H())}function R(){var f=H(),C=x(f);if(r=arguments,i=this,l=f,C){if(c===void 0)return v(l);if(o)return clearTimeout(c),c=setTimeout(k,e),g(l)}return c===void 0&&(c=setTimeout(k,e)),a}return R.cancel=w,R.flush=m,R}var ts=es,ss=ts,rs=G,ns="Expected a function";function is(t,e,s){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(ns);return rs(s)&&(r="leading"in s?!!s.leading:r,i="trailing"in s?!!s.trailing:i),ss(t,e,{leading:r,maxWait:e,trailing:i})}var as=is;const os=Qe(as);function cs(t){var e=this,s=h.useRef(!1);return h.useCallback(function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return B(e,void 0,void 0,function(){var n,a;return ze(this,function(c){switch(c.label){case 0:if(s.current)return[2];s.current=!0,c.label=1;case 1:return c.trys.push([1,3,,4]),[4,t.apply(void 0,fe([],he(r),!1))];case 2:return n=c.sent(),s.current=!1,[2,n];case 3:throw a=c.sent(),s.current=!1,a;case 4:return[2]}})})},[t])}function ge(t,e){var s;He&&(Ke(t)||console.error("useThrottleFn expected parameter is a function, got ".concat(typeof t)));var r=Ve(t),i=(s=e==null?void 0:e.wait)!==null&&s!==void 0?s:1e3,n=h.useMemo(function(){return os(function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];return r.current.apply(r,fe([],he(a),!1))},i,e)},[]);return qe(function(){n.cancel()}),{run:n,cancel:n.cancel,flush:n.flush}}function ls(t,e){const s=de(t);me(()=>{const r=e.current;if(r)if(window.ResizeObserver){let i;const n=new ResizeObserver(()=>{i=window.requestAnimationFrame(()=>s(r))});return n.observe(r),()=>{window.cancelAnimationFrame(i),n.disconnect()}}else s(r)},[e])}function us(t,e,s){const r=de(t);h.useEffect(()=>{const i=new MutationObserver(()=>{r()});if(e.current)return i.observe(e.current,s),()=>{i.disconnect()}},[e])}const fs=(t,e)=>{const[{scrollLeft:s},r]=J(()=>({scrollLeft:0,config:{tension:300,clamp:!0}}));function i(n=!1){const a=t.current;if(!a||e===void 0)return;const l=a.children.item(e).children.item(0),u=l.offsetLeft,p=l.offsetWidth,o=a.offsetWidth,d=a.scrollWidth,g=a.scrollLeft;if(d-o<=0)return;const b=Ge(u-(o-p)/2,0,d-o);r.start({scrollLeft:b,from:{scrollLeft:g},immediate:n&&!s.isAnimating})}return me(()=>{i(!0)},[]),Xe(()=>{i()},[e]),us(()=>{i(!0)},t,{subtree:!0,childList:!0,characterData:!0}),{scrollLeft:s,animate:i}};const A="adm-scroll-mask",hs=t=>{const e=h.useRef(null),[{leftMaskOpacity:s,rightMaskOpacity:r},i]=J(()=>({leftMaskOpacity:0,rightMaskOpacity:0,config:{clamp:!0}})),{run:n}=ge((a=!1)=>{if(!e.current)return;const l=t.scrollTrackRef.current;if(!l)return;const u=l.scrollLeft,p=u>0,o=u+l.offsetWidth<l.scrollWidth;i.start({leftMaskOpacity:p?1:0,rightMaskOpacity:o?1:0,immediate:a})},{wait:100,trailing:!0,leading:!0});return h.useEffect(()=>{n(!0)},[]),h.useEffect(()=>{const a=t.scrollTrackRef.current;if(a)return a.addEventListener("scroll",n),()=>a.removeEventListener("scroll",n)},[]),y.createElement(y.Fragment,null,y.createElement(U.div,{ref:e,className:V(A,`${A}-left`),style:{opacity:s}}),y.createElement(U.div,{className:V(A,`${A}-right`),style:{opacity:r}}))};const W="adm-floating-bubble",ds={axis:"y",defaultOffset:{x:0,y:0}},ms=t=>{const e=ue(ds,t),s=h.useRef(null),r=h.useRef(null),[i,n]=h.useState(e.offset===void 0?e.defaultOffset:e.offset);h.useEffect(()=>{e.offset!==void 0&&u.start({x:e.offset.x,y:e.offset.y})},[e.offset]);const[{x:a,y:c,opacity:l},u]=J(()=>({x:i.x,y:i.y,opacity:1})),p=Je(o=>{var d;let g=o.offset[0],v=o.offset[1];if(o.last&&e.magnetic){const x=s.current,k=r.current;if(!x||!k)return;const T=x.getBoundingClientRect(),w=k.getBoundingClientRect();if(e.magnetic==="x"){const m=a.goal-a.get(),R=w.left+m-T.left,f=T.right-(w.right+m);f<=R?g+=f:g-=R}else if(e.magnetic==="y"){const m=c.goal-c.get(),R=w.top+m-T.top,f=T.bottom-(w.bottom+m);f<=R?v+=f:v-=R}}const b={x:g,y:v};e.offset===void 0?u.start(b):n(b),(d=e.onOffsetChange)===null||d===void 0||d.call(e,b),u.start({opacity:o.active?.8:1})},{axis:e.axis==="xy"?void 0:e.axis,pointer:{touch:!0},filterTaps:!0,bounds:s,from:()=>[a.get(),c.get()]});return z(e,y.createElement("div",{className:W},y.createElement("div",{className:`${W}-boundary-outer`},y.createElement("div",{className:`${W}-boundary`,ref:s})),y.createElement(U.div,Object.assign({},p(),{style:{opacity:l,transform:Fe([a,c],(o,d)=>`translate(${o}px, ${d}px)`)},onClick:e.onClick,className:`${W}-button`,ref:r}),e.children)))};function ps(t){return t===window}const ve="adm-infinite-scroll",gs={threshold:250,children:(t,e,s)=>y.createElement(ys,{hasMore:t,failed:e,retry:s})},vs=t=>{const e=ue(gs,t),[s,r]=h.useState(!1),i=cs(g=>B(void 0,void 0,void 0,function*(){try{yield e.loadMore(g)}catch(v){throw r(!0),v}})),n=h.useRef(null),[a,c]=h.useState({}),l=h.useRef(a),[u,p]=h.useState(),{run:o}=ge(()=>B(void 0,void 0,void 0,function*(){if(l.current!==a||!e.hasMore)return;const g=n.current;if(!g||!g.offsetParent)return;const v=je(g);if(p(v),!v)return;const x=g.getBoundingClientRect().top;if((ps(v)?window.innerHeight:v.getBoundingClientRect().bottom)>=x-e.threshold){const T={};l.current=T,yield i(!1),c(T)}}),{wait:100,leading:!0,trailing:!0});h.useEffect(()=>{o()}),h.useEffect(()=>{if(!n.current||!u)return;function v(){o()}return u.addEventListener("scroll",v),()=>{u.removeEventListener("scroll",v)}},[u]);function d(){return B(this,void 0,void 0,function*(){r(!1),yield i(!0),c(l.current)})}return z(e,y.createElement("div",{className:ve,ref:n},typeof e.children=="function"?e.children(e.hasMore,s,d):e.children))},ys=t=>{const{locale:e}=Ne();return t.hasMore?t.failed?y.createElement("span",null,y.createElement("span",{className:`${ve}-failed-text`},e.InfiniteScroll.failedToLoad),y.createElement("a",{onClick:()=>{t.retry()}},e.InfiniteScroll.retry)):y.createElement(y.Fragment,null,y.createElement("span",null,e.common.loading),y.createElement($e,null)):y.createElement("span",null,e.InfiniteScroll.noMore)};const I="adm-jumbo-tabs",bs=()=>null,Rs=t=>{var e;const s=h.useRef(null),r=h.useRef(null),i={};let n=null;const a=[];Ye(t.children,(o,d)=>{if(!h.isValidElement(o))return;const g=o.key;if(typeof g!="string")return;d===0&&(n=g);const v=a.push(o);i[g]=v-1});const[c,l]=Ze({value:t.activeKey,defaultValue:(e=t.defaultActiveKey)!==null&&e!==void 0?e:n,onChange:o=>{var d;o!==null&&((d=t.onChange)===null||d===void 0||d.call(t,o))}}),{scrollLeft:u,animate:p}=fs(s,i[c]);return ls(()=>{p(!0)},r),z(t,y.createElement("div",{className:I,ref:r},y.createElement("div",{className:`${I}-header`},y.createElement(hs,{scrollTrackRef:s}),y.createElement(U.div,{className:`${I}-tab-list`,ref:s,scrollLeft:u},a.map(o=>z(o.props,y.createElement("div",{key:o.key,className:`${I}-tab-wrapper`},y.createElement("div",{onClick:()=>{const{key:d}=o;o.props.disabled||d!=null&&l(d.toString())},className:V(`${I}-tab`,{[`${I}-tab-active`]:o.key===c,[`${I}-tab-disabled`]:o.props.disabled})},y.createElement("div",{className:`${I}-tab-title`},o.props.title),y.createElement("div",{className:`${I}-tab-description`},o.props.description))))))),a.map(o=>{if(o.props.children===void 0)return null;const d=o.key===c;return y.createElement(Ae,{key:o.key,active:d,forceRender:o.props.forceRender,destroyOnClose:o.props.destroyOnClose},y.createElement("div",{className:`${I}-content`,style:{display:d?"block":"none"}},o.props.children))})))},le=et(Rs,{Tab:bs});function P(t,e,s,r){if(s==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return s==="m"?r:s==="a"?r.call(t):r?r.value:e.get(t)}function Q(t,e,s,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,s):i?i.value=s:e.set(t,s),s}function ws(t,e){e===void 0&&(e={});var s=e.insertAt;if(!(!t||typeof document>"u")){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",s==="top"&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t))}}var xs=`wc-waterfall {\r
  position: relative;\r
  display: block;\r
  box-sizing: content-box !important;\r
}\r
      \r
wc-waterfall > * {\r
  position: absolute;\r
  box-sizing: border-box;\r
}\r
`;ws(xs);function Es(t){let e=0;for(let s=0;s<t.length;s++)e=t[e]<=t[s]?e:s;return e}function Ss(t,{getW:e,setW:s,getH:r,setH:i,getPad:n,setX:a,setY:c,getChildren:l},{cols:u,gap:p}){const[o,d,g,v]=n(t),b=l(t),x=b.length;if(x){const k=(e(t)-p*(u-1)-(v+d))/u;Array.prototype.forEach.call(b,m=>s(m,k));const T=Array.prototype.map.call(b,m=>r(m)),w=Array(u).fill(o);for(let m=0;m<x;m++){const R=b[m],f=Es(w);c(R,w[f]),a(R,v+(k+p)*f),w[f]+=T[m]+p}i(t,Math.max(...w)-p+g)}else i(t,o+g)}var X,O,j,_,N,ye;class $ extends HTMLElement{constructor(){super(),X.add(this),Object.defineProperty(this,"_fl_w",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_fl_h",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),O.set(this,void 0),j.set(this,void 0),_.set(this,void 0),N.set(this,!1)}get gap(){return+(this.getAttribute("gap")||$.default_props.gap)}set gap(e){this.setAttribute("gap",e+"")}get cols(){return+(this.getAttribute("cols")||$.default_props.cols)}set cols(e){this.setAttribute("cols",e+"")}connectedCallback(){Q(this,O,new ResizeObserver(e=>e.some(({target:s})=>s._fl_w!=s.offsetWidth||s._fl_h!=s.offsetHeight)&&this.relayout()),"f"),P(this,O,"f").observe(this),Array.prototype.forEach.call(this.children,e=>P(this,O,"f").observe(e)),this.relayout(),Q(this,j,new MutationObserver(e=>{e.forEach(s=>{s.addedNodes.forEach(r=>r instanceof HTMLElement&&P(this,O,"f").observe(r)),s.removedNodes.forEach(r=>r instanceof HTMLElement&&P(this,O,"f").unobserve(r))}),this.relayout()}),"f"),P(this,j,"f").observe(this,{childList:!0,attributes:!1}),Q(this,_,new MutationObserver(()=>this.relayout()),"f"),P(this,_,"f").observe(this,{childList:!1,attributes:!0})}disconnectedCallback(){P(this,O,"f").disconnect(),P(this,j,"f").disconnect(),P(this,_,"f").disconnect()}relayout(){P(this,N,"f")||(Q(this,N,!0,"f"),requestAnimationFrame(()=>{P(this,X,"m",ye).call(this),Q(this,N,!1,"f")}))}}O=new WeakMap,j=new WeakMap,_=new WeakMap,N=new WeakMap,X=new WeakSet,ye=function(){Ss(this,{getW:t=>t.offsetWidth,setW:(t,e)=>t.style.width=e+"px",getH:t=>(t._fl_w=t.offsetWidth,t._fl_h=t.offsetHeight),setH:(t,e)=>t.style.height=e+"px",getPad:t=>{const e=getComputedStyle(t);return[parseInt(e.paddingTop),parseInt(e.paddingRight),-parseInt(e.paddingTop),parseInt(e.paddingLeft)]},setX:(t,e)=>t.style.left=e+"px",setY:(t,e)=>t.style.top=e+"px",getChildren:t=>t.children},{cols:this.cols,gap:this.gap}),this._fl_w=this.offsetWidth,this._fl_h=this.offsetHeight,P(this,_,"f").takeRecords()},Object.defineProperty($,"default_props",{enumerable:!0,configurable:!0,writable:!0,value:Object.freeze({cols:2,gap:4})}),customElements.define("wc-waterfall",$);const Ts="_nav_tckie_1",Cs="_root_tckie_10",ks="_subnav_tckie_14",Ps="_play_tckie_19",D={nav:Ts,root:Cs,subnav:ks,play:Ps},be=5,Is=["https://www.eightfeet.cn/md1/assets/models/037-x&840&696.jpg","https://www.eightfeet.cn/md1/assets/models/038-x&902&568.jpg","https://www.eightfeet.cn/md1/assets/models/044-y&420&647.jpg","https://www.eightfeet.cn/md1/assets/models/041-y&518&698.jpg","https://www.eightfeet.cn/md1/assets/models/035-y&491&654.jpg","https://www.eightfeet.cn/md1/assets/models/043-x&919&530.jpg","https://www.eightfeet.cn/md1/assets/models/039-y&700&707.jpg","https://www.eightfeet.cn/md1/assets/models/042-x&769&688.jpg","https://www.eightfeet.cn/md1/assets/models/036-y&628&642.jpg","https://www.eightfeet.cn/md1/assets/models/040-x&895&621.jpg"],Os=({page:t,size:e=be,error:s})=>new Promise((r,i)=>{if(s){i();return}setTimeout(()=>{const n=[],a=t*e;for(let l=a-e;l<a;l++)n.push({src:Is[Math.floor(Math.random()*10)],name:"string",tag:["1","2","3","4","5","6"],_id:`${Date.now()}_${t}_${l}`});const c={data:n,total:100};console.log(c),r(c)},1e3)}),Ms=({onClick:t,...e})=>{const s=h.useRef(null),r=h.useCallback(()=>{var n,a;(a=(n=s.current)==null?void 0:n.audioEl.current)==null||a.play()},[]),i=h.useCallback(n=>{r(),t==null||t(n)},[t,r]);return S.jsxs(S.Fragment,{children:[S.jsx(tt,{ref:s,src:"./warning.mp3"}),S.jsx(st,{fontSize:32,onClick:i,...e})]})},_s=({name:t="list"})=>{Be(t);const{selected:e}=rt(L),s=We(),[r,i]=h.useState(!1),n=re("(min-width: 768px)"),a=re("(min-width: 1024px)"),c={cols:3,gap:10};n&&(c.cols=6),a&&(c.cols=8);const l=h.useRef(!0),u=h.useCallback(async({page:m})=>Os({page:m,error:!1}).catch(R=>{throw l.current=!1,R}),[]),{isLoading:p,data:o,fetchNextPage:d,isFetchedAfterMount:g,isError:v}=Ct({queryKey:["InventoryInquiry"],queryFn:({pageParam:m})=>u(m||{page:1}),getNextPageParam:(m,R)=>{const{total:f}=m,C=R.length,E=R.length*be;if(f>E)return{page:C+1};l.current=!1},refetchOnWindowFocus:!1}),b=(o==null?void 0:o.pages.flatMap(m=>m.data))||[],x=[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20],k=h.useCallback((m,R)=>{var f;m||(L.selected=(L.selected||[]).concat(R)),m&&(L.selected=(f=L.selected)==null?void 0:f.filter(C=>C._id!==R._id))},[]),T=h.useCallback(()=>{i(!1)},[]),w=h.useCallback(()=>{s("/view")},[s]);return S.jsxs("div",{className:D.root,children:[!(b!=null&&b.length)&&g?"暂无数据":null,p&&!g?S.jsx(De,{}):null,S.jsxs("div",{className:D.nav,children:[S.jsx(nt,{onBack:()=>{},right:S.jsx(S.Fragment,{children:S.jsxs(it,{fill:"none",size:"mini",onClick:()=>i(!0),children:["已选 ",(e==null?void 0:e.length)||0]})}),children:"标题"}),S.jsx(le,{className:D.subnav,defaultActiveKey:"1",children:x.map(m=>S.jsx(le.Tab,{title:null,description:"描述文案"},m))})]}),S.jsx("wc-waterfall",{...c,children:b.map((m,R)=>{const f=e==null?void 0:e.some(C=>m._id===C._id);return S.jsx(at,{src:m.src,toggleType:f?["icon"]:["block","icon"],selected:f,onToggle:C=>k(C,m)},R)})}),!v&&(b!=null&&b.length)?S.jsx(vs,{loadMore:d,hasMore:l.current}):null,S.jsx(ot,{visible:r,onMaskClick:()=>i(!1),onClear:T}),S.jsx(ms,{axis:"xy",magnetic:"x",className:D.play,children:S.jsx(Ms,{fontSize:32,onClick:w})})]})},js=_s;export{js as default};
