import{r as o,j as e,N as y,T as j}from"./index-ce1eb5c4.js";import{R as f,a as g}from"./bundle-15b2b49c.js";import{F as n,S as m,B as d}from"./useDocumentTitle-c0da52a3.js";import{l as h,I as p}from"./index-70bdf6fd.js";const R=({onClick:r,...a})=>{const l=o.useRef(null),s=o.useCallback(()=>{var t,i,c,x;(i=(t=l.current)==null?void 0:t.audioEl.current)==null||i.play(),(x=(c=l.current)==null?void 0:c.audioEl.current)==null||x.pause()},[]),u=o.useCallback(t=>{s(),r==null||r(t)},[r,s]);return e.jsxs(e.Fragment,{children:[e.jsx(f,{ref:l,src:"./warning.mp3"}),e.jsx(g,{fontSize:32,onClick:u,...a})]})},k="_title_1i1vs_1",b={title:k},v=({onSucess:r,onGetSN:a,onCancel:l})=>{const s=n.useForm()[0],u=o.useCallback(async()=>{h.show();const{name:t,license:i}=s.getFieldsValue();try{await y({username:t,license:i}),j.show("激活成功"),h.hide(),r==null||r()}catch(c){h.hide(),j.show(decodeURI(c))}},[s,r]);return e.jsxs(m,{direction:"vertical",block:!0,children:[e.jsx("h3",{className:b.title,children:"达文西激活"}),e.jsxs(n,{form:s,onFinish:u,className:b.formbody,children:[e.jsx(n.Item,{label:"用户名",name:"name",rules:[{required:!0,message:"请输入用户名"}],children:e.jsx(p,{placeholder:"请输入用户名"})}),e.jsx(n.Item,{label:e.jsxs(m,{block:!0,justify:"between",children:[e.jsx("span",{children:"序列号"}),e.jsx(d,{size:"mini",fill:"outline",onClick:()=>a==null?void 0:a(),children:"没有序列号"})]}),name:"license",rules:[{required:!0,message:"请输入产品序列号"}],children:e.jsx(p,{placeholder:"请输入序列号"})})]}),e.jsxs(m,{block:!0,direction:"vertical",children:[e.jsx(d,{block:!0,type:"submit",color:"primary",size:"large",onClick:s.submit,children:"确定"}),l?e.jsx(d,{block:!0,onClick:l,children:"取消"}):null]})]})};export{v as A,R as P};
