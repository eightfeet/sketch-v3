import{r as a,w as _t,R as E,c as he,u as Oe,a as ue,m as Ne,M as Te,U as ze,d as $e,f as Ae,j as i,e as xt,V as $}from"./index-6d4ac582.js";import{_ as Ie,r as yt,y as jt,z as kt,E as Et,G as _e,b as z,H as Ct,J as Rt,K as Lt,M as Mt,u as St,x as Pe,c as He,e as de,d as Ot,S as Nt}from"./useDocumentTitle-40ef9602.js";import{N as Tt,S as zt}from"./SelectedList-eb6eff91.js";import{d as $t,S as At}from"./SetDuration-273aea90.js";import{a as It,R as Pt}from"./bundle-857d35e6.js";function Ht(e){var t=a.useRef(0),n=Ie(a.useState(e),2),r=n[0],s=n[1],o=a.useCallback(function(u){cancelAnimationFrame(t.current),t.current=requestAnimationFrame(function(){s(u)})},[]);return yt(function(){cancelAnimationFrame(t.current)}),[r,o]}var We=function(){if(typeof Map<"u")return Map;function e(t,n){var r=-1;return t.some(function(s,o){return s[0]===n?(r=o,!0):!1}),r}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(n){var r=e(this.__entries__,n),s=this.__entries__[r];return s&&s[1]},t.prototype.set=function(n,r){var s=e(this.__entries__,n);~s?this.__entries__[s][1]=r:this.__entries__.push([n,r])},t.prototype.delete=function(n){var r=this.__entries__,s=e(r,n);~s&&r.splice(s,1)},t.prototype.has=function(n){return!!~e(this.__entries__,n)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(n,r){r===void 0&&(r=null);for(var s=0,o=this.__entries__;s<o.length;s++){var u=o[s];n.call(r,u[1],u[0])}},t}()}(),fe=typeof window<"u"&&typeof document<"u"&&window.document===document,Y=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),Wt=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(Y):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)}}(),Ft=2;function Bt(e,t){var n=!1,r=!1,s=0;function o(){n&&(n=!1,e()),r&&c()}function u(){Wt(o)}function c(){var h=Date.now();if(n){if(h-s<Ft)return;r=!0}else n=!0,r=!1,setTimeout(u,t);s=h}return c}var Dt=20,Vt=["top","right","bottom","left","width","height","size","weight"],qt=typeof MutationObserver<"u",Zt=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=Bt(this.refresh.bind(this),Dt)}return e.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},e.prototype.removeObserver=function(t){var n=this.observers_,r=n.indexOf(t);~r&&n.splice(r,1),!n.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){var t=this.updateObservers_();t&&this.refresh()},e.prototype.updateObservers_=function(){var t=this.observers_.filter(function(n){return n.gatherActive(),n.hasActive()});return t.forEach(function(n){return n.broadcastActive()}),t.length>0},e.prototype.connect_=function(){!fe||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),qt?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){!fe||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(t){var n=t.propertyName,r=n===void 0?"":n,s=Vt.some(function(o){return!!~r.indexOf(o)});s&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),Fe=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var s=r[n];Object.defineProperty(e,s,{value:t[s],enumerable:!1,writable:!1,configurable:!0})}return e},W=function(e){var t=e&&e.ownerDocument&&e.ownerDocument.defaultView;return t||Y},Be=K(0,0,0,0);function U(e){return parseFloat(e)||0}function xe(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce(function(r,s){var o=e["border-"+s+"-width"];return r+U(o)},0)}function Gt(e){for(var t=["top","right","bottom","left"],n={},r=0,s=t;r<s.length;r++){var o=s[r],u=e["padding-"+o];n[o]=U(u)}return n}function Xt(e){var t=e.getBBox();return K(0,0,t.width,t.height)}function Yt(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return Be;var r=W(e).getComputedStyle(e),s=Gt(r),o=s.left+s.right,u=s.top+s.bottom,c=U(r.width),h=U(r.height);if(r.boxSizing==="border-box"&&(Math.round(c+o)!==t&&(c-=xe(r,"left","right")+o),Math.round(h+u)!==n&&(h-=xe(r,"top","bottom")+u)),!Jt(e)){var d=Math.round(c+o)-t,v=Math.round(h+u)-n;Math.abs(d)!==1&&(c-=d),Math.abs(v)!==1&&(h-=v)}return K(s.left,s.top,c,h)}var Ut=function(){return typeof SVGGraphicsElement<"u"?function(e){return e instanceof W(e).SVGGraphicsElement}:function(e){return e instanceof W(e).SVGElement&&typeof e.getBBox=="function"}}();function Jt(e){return e===W(e).document.documentElement}function Kt(e){return fe?Ut(e)?Xt(e):Yt(e):Be}function Qt(e){var t=e.x,n=e.y,r=e.width,s=e.height,o=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,u=Object.create(o.prototype);return Fe(u,{x:t,y:n,width:r,height:s,top:n,right:t+r,bottom:s+n,left:t}),u}function K(e,t,n,r){return{x:e,y:t,width:n,height:r}}var en=function(){function e(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=K(0,0,0,0),this.target=t}return e.prototype.isActive=function(){var t=Kt(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},e}(),tn=function(){function e(t,n){var r=Qt(n);Fe(this,{target:t,contentRect:r})}return e}(),nn=function(){function e(t,n,r){if(this.activeObservations_=[],this.observations_=new We,typeof t!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=n,this.callbackCtx_=r}return e.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(t instanceof W(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(t)||(n.set(t,new en(t)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(t instanceof W(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(t)&&(n.delete(t),n.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach(function(n){n.isActive()&&t.activeObservations_.push(n)})},e.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,n=this.activeObservations_.map(function(r){return new tn(r.target,r.broadcastRect())});this.callback_.call(t,n,t),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),De=typeof WeakMap<"u"?new WeakMap:new We,Ve=function(){function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=Zt.getInstance(),r=new nn(t,n,this);De.set(this,r)}return e}();["observe","unobserve","disconnect"].forEach(function(e){Ve.prototype[e]=function(){var t;return(t=De.get(this))[e].apply(t,arguments)}});var rn=function(){return typeof Y.ResizeObserver<"u"?Y.ResizeObserver:Ve}(),sn=jt(a.useLayoutEffect);const an=sn;var on=kt?an:Et;const cn=on;function ye(e){var t=Ie(Ht(function(){var s=_e(e);return s?{width:s.clientWidth,height:s.clientHeight}:void 0}),2),n=t[0],r=t[1];return cn(function(){var s=_e(e);if(s){var o=new rn(function(u){u.forEach(function(c){var h=c.target,d=h.clientWidth,v=h.clientHeight;r({width:d,height:v})})});return o.observe(s),function(){o.disconnect()}}},[],e),n}function ln(e){return a.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},e,{style:Object.assign({verticalAlign:"-0.125em"},e.style),className:["antd-mobile-icon",e.className].filter(Boolean).join(" ")}),a.createElement("g",{id:"EditSOutline-EditSOutline",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},a.createElement("g",{id:"EditSOutline-编组"},a.createElement("rect",{id:"EditSOutline-矩形",fill:"#FFFFFF",opacity:0,x:0,y:0,width:48,height:48}),a.createElement("path",{d:"M39.1558113,6.84476948 L39.1547876,6.84478452 C41.6150708,9.30533949 41.6150708,13.2945216 39.1547875,15.7550568 L14.2175882,40.6933641 C14.0205351,40.8899288 13.7535085,41 13.475183,41 L7.10015653,41 C5.94027729,41 5.00000168,40.0596889 5.00000168,38.8997532 L5.00000168,32.525535 C4.9995034,32.2468348 5.1098075,31.9793647 5.30661943,31.7820434 L30.2469685,6.84477025 C32.707296,4.38507671 36.6954838,4.38507671 39.1558113,6.84476948 Z M41.5764707,38 C41.8588237,38 42,38.1333332 42,38.4000001 L42,40.5999999 C42,40.8666668 41.8588237,41 41.5764707,41 L24.4235293,41 C24.1411763,41 24,40.8666668 24,40.5999999 L24,38.4000001 C24,38.1333332 24.1411763,38 24.4235293,38 L41.5764707,38 Z M28.172,13.371 L8.2730898,33.272167 C8.19433904,33.3510089 8.15023081,33.4579141 8.15023081,33.5693515 L8.15023081,37.4317018 C8.15023081,37.663779 8.33819467,37.8517506 8.57026108,37.8517506 L12.4303379,37.8517506 C12.5419214,37.8517506 12.6488431,37.8069757 12.7275092,37.7278363 L32.628,17.827 L28.172,13.371 Z M41.5555549,31 C41.8518518,31 42,31.1333332 42,31.4000001 L42,33.5999999 C42,33.8666668 41.8518518,34 41.5555549,34 L32.4444451,34 C32.1481482,34 32,33.8666668 32,33.5999999 L32,31.4000001 C32,31.1333332 32.1481482,31 32.4444451,31 L41.5555549,31 Z M32.607562,8.94503104 L32.4721022,9.07104573 L30.371,11.172 L34.827,15.628 L36.9275554,13.5288315 C38.1074041,12.3492947 38.1631188,10.4544078 37.0546144,9.20757614 L36.9286053,9.07316031 L36.9286254,9.07104573 C35.7488554,7.89144977 33.8540626,7.83619529 32.607562,8.94503104 Z",id:"EditSOutline-形状结合",fill:"currentColor",fillRule:"nonzero"}))))}const je="adm-safe-area",qe=e=>_t(e,E.createElement("div",{className:he(je,`${je}-position-${e.position}`)}));function ke(e,t,n){return e*t*n/(t+n*e)}function Ee(e,t,n,r,s=.15){return s===0?z(e,t,n):e<t?-ke(t-e,r,s)+t:e>n?+ke(e-n,r,s)+n:e}const un=Ct([Rt,Lt]),re=()=>[1,0,0,1,0,0],Ce=e=>e[4],Re=e=>e[5],B=e=>e[0],D=(e,t,n)=>Ze([1,0,0,1,t,n],e),dn=(e,t,n=t)=>Ze([t,0,0,n,0,0],e),fn=(e,[t,n])=>[e[0]*t+e[2]*n+e[4],e[1]*t+e[3]*n+e[5]],Ze=(e,t)=>[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]],se="adm-image-viewer",Ge=e=>{const{dragLockRef:t,maxZoom:n}=e,r=a.useRef(null),s=a.useRef(null),[{matrix:o},u]=Oe(()=>({matrix:re(),config:{tension:200}})),c=ye(r),h=ye(s),d=a.useRef(!1),v=(l,f,p=!1)=>{if(!c||!h)return l;const j=-c.width/2,g=-c.height/2,C=-h.width/2,x=-h.height/2,b=B(l),y=b*h.width,_=b*h.height,[L,M]=fn(l,[C,x]);if(f==="translate"){let S=L,N=M;if(y>c.width){const A=j-(y-c.width),O=j;S=p?z(L,A,O):Ee(L,A,O,b*50)}else S=-y/2;if(_>c.height){const A=g-(_-c.height),O=g;N=p?z(M,A,O):Ee(M,A,O,b*50)}else N=-_/2;return D(l,S-L,N-M)}if(f==="scale"&&p){const[S,N]=[y>c.width?z(L,j-(y-c.width),j):-y/2,_>c.height?z(M,g-(_-c.height),g):-_/2];return D(l,S-L,N-M)}return l};return un({onDrag:l=>{if(l.first)return;if(l.pinching)return l.cancel();if(l.tap&&l.elapsedTime>0&&l.elapsedTime<1e3){e.onTap();return}const f=B(o.get());if(t&&(t.current=f!==1),!d.current&&f<=1)u.start({matrix:re()});else{const p=o.get(),j=[l.offset[0]-Ce(p),l.offset[1]-Re(p)],g=D(p,...l.last?[j[0]+l.velocity[0]*l.direction[0]*200,j[1]+l.velocity[1]*l.direction[1]*200]:j);u.start({matrix:v(g,"translate",l.last),immediate:!l.last})}},onPinch:l=>{var f;d.current=!l.last;const[p]=l.offset;if(p<0)return;let j;n==="auto"?j=c&&h?Math.max(c.height/h.height,c.width/h.width):1:j=n;const g=l.last?z(p,1,j):p;if((f=e.onZoomChange)===null||f===void 0||f.call(e,g),l.last&&g<=1)u.start({matrix:re()}),t&&(t.current=!1);else{if(!c)return;const C=o.get(),x=B(C),b=l.origin[0]-c.width/2,y=l.origin[1]-c.height/2;let _=D(C,-b,-y);_=dn(_,g/x),_=D(_,b,y),u.start({matrix:v(_,"scale",l.last),immediate:!l.last}),t&&(t.current=!0)}}},{target:r,drag:{from:()=>[Ce(o.get()),Re(o.get())],pointer:{touch:!0}},pinch:{from:()=>[B(o.get()),0],pointer:{touch:!0}}}),E.createElement("div",{className:`${se}-slide`,onPointerMove:l=>{B(o.get())!==1&&l.stopPropagation()}},E.createElement("div",{className:`${se}-control`,ref:r},E.createElement(ue.div,{className:`${se}-image-wrapper`,style:{matrix:o}},E.createElement("img",{ref:s,src:e.image,draggable:!1,alt:e.image}))))},ie="adm-image-viewer",hn=a.forwardRef((e,t)=>{const n=window.innerWidth+Mt(16),[{x:r},s]=Oe(()=>({x:e.defaultIndex*n,config:{tension:250,clamp:!0}})),o=e.images.length;function u(d,v=!1){var l;const f=z(d,0,o-1);(l=e.onIndexChange)===null||l===void 0||l.call(e,f),s.start({x:f*n,immediate:v})}a.useImperativeHandle(t,()=>({swipeTo:u}));const c=a.useRef(!1),h=St(d=>{if(c.current)return;const[v]=d.offset;if(d.last){const l=Math.floor(v/n),f=l+1,p=Math.min(d.velocity[0]*2e3,n)*d.direction[0];u(z(Math.round((v+p)/n),l,f))}else s.start({x:v,immediate:!0})},{transform:([d,v])=>[-d,v],from:()=>[r.get(),0],bounds:()=>({left:0,right:(o-1)*n}),rubberband:!0,axis:"x",pointer:{touch:!0}});return E.createElement("div",Object.assign({className:`${ie}-slides`},h()),E.createElement(ue.div,{className:`${ie}-indicator`},r.to(d=>`${z(Math.round(d/n),0,o-1)+1} / ${o}`)),E.createElement(ue.div,{className:`${ie}-slides-inner`,style:{x:r.to(d=>-d)}},e.images.map((d,v)=>E.createElement(Ge,{key:v,image:d,onTap:e.onTap,maxZoom:e.maxZoom,onZoomChange:l=>{if(l!==1){const f=Math.round(r.get()/n);s.start({x:f*n})}},dragLockRef:c}))))}),J="adm-image-viewer",Xe={maxZoom:3,getContainer:null,visible:!1},Ye=e=>{var t;const n=Ne(Xe,e),r=E.createElement(Te,{visible:n.visible,disableBodyScroll:!1,opacity:"thick",afterClose:n.afterClose,destroyOnClose:!0},E.createElement("div",{className:`${J}-content`},n.image&&E.createElement(Ge,{image:n.image,onTap:()=>{var s;(s=n.onClose)===null||s===void 0||s.call(n)},maxZoom:n.maxZoom})),n.image&&E.createElement("div",{className:`${J}-footer`},(t=n.renderFooter)===null||t===void 0?void 0:t.call(n,n.image),E.createElement(qe,{position:"bottom"})));return ze(n.getContainer,r)},mn=Object.assign(Object.assign({},Xe),{defaultIndex:0}),Ue=a.forwardRef((e,t)=>{var n;const r=Ne(mn,e),[s,o]=a.useState(r.defaultIndex),u=a.useRef(null);a.useImperativeHandle(t,()=>({swipeTo:(d,v)=>{var l;o(d),(l=u.current)===null||l===void 0||l.swipeTo(d,v)}}));const c=a.useCallback(d=>{var v;o(d),(v=r.onIndexChange)===null||v===void 0||v.call(r,d)},[r.onIndexChange]),h=E.createElement(Te,{visible:r.visible,disableBodyScroll:!1,opacity:"thick",afterClose:r.afterClose,destroyOnClose:!0},E.createElement("div",{className:`${J}-content`},r.images&&E.createElement(hn,{ref:u,defaultIndex:s,onIndexChange:c,images:r.images,onTap:()=>{var d;(d=r.onClose)===null||d===void 0||d.call(r)},maxZoom:r.maxZoom})),r.images&&E.createElement("div",{className:`${J}-footer`},(n=r.renderFooter)===null||n===void 0?void 0:n.call(r,r.images[s],s),E.createElement(qe,{position:"bottom"})));return ze(r.getContainer,h)}),F=new Set;function vn(e){me();const t=Pe(E.createElement(Ye,Object.assign({},e,{afterClose:()=>{var n;F.delete(t),(n=e.afterClose)===null||n===void 0||n.call(e)}})));return F.add(t),t}function gn(e){me();const t=Pe(E.createElement(Ue,Object.assign({},e,{afterClose:()=>{var n;F.delete(t),(n=e.afterClose)===null||n===void 0||n.call(e)}})));return F.add(t),t}function me(){F.forEach(e=>{e.close()}),F.clear()}const pn=He(Ue,{show:gn}),bn=He(Ye,{Multi:pn,show:vn,clear:me}),wn="_timercount_1btlu_1",_n="_index_1btlu_6",xn="_time_1btlu_1",yn="_wrantime_1btlu_15",V={timercount:wn,index:_n,time:xn,wrantime:yn};var Le=typeof window>"u"?a.useEffect:a.useLayoutEffect,jn=({isPlaying:e,duration:t,startAt:n=0,updateInterval:r=0,onComplete:s,onUpdate:o})=>{let[u,c]=a.useState(n),h=a.useRef(0),d=a.useRef(n),v=a.useRef(n*-1e3),l=a.useRef(null),f=a.useRef(null),p=a.useRef(null),j=x=>{let b=x/1e3;if(f.current===null){f.current=b,l.current=requestAnimationFrame(j);return}let y=b-f.current,_=h.current+y;f.current=b,h.current=_;let L=d.current+(r===0?_:(_/r|0)*r),M=d.current+_,S=typeof t=="number"&&M>=t;c(S?t:L),S||(l.current=requestAnimationFrame(j))},g=()=>{l.current&&cancelAnimationFrame(l.current),p.current&&clearTimeout(p.current),f.current=null},C=a.useCallback(x=>{g(),h.current=0;let b=typeof x=="number"?x:n;d.current=b,c(b),e&&(l.current=requestAnimationFrame(j))},[e,n]);return Le(()=>{if(o==null||o(u),t&&u>=t){v.current+=t*1e3;let{shouldRepeat:x=!1,delay:b=0,newStartAt:y}=(s==null?void 0:s(v.current/1e3))||{};x&&(p.current=setTimeout(()=>C(y),b*1e3))}},[u,t]),Le(()=>(e&&(l.current=requestAnimationFrame(j)),g),[e,t,r]),{elapsedTime:u,reset:C}},kn=(e,t,n)=>{let r=e/2,s=t/2,o=r-s,u=2*o,c=n==="clockwise"?"1,0":"0,1",h=2*Math.PI*o;return{path:`m ${r},${s} a ${o},${o} 0 ${c} 0,${u} a ${o},${o} 0 ${c} 0,-${u}`,pathLength:h}},Me=(e,t)=>e===0||e===t?0:typeof t=="number"?e-t:0,En=e=>({position:"relative",width:e,height:e}),Cn={display:"flex",justifyContent:"center",alignItems:"center",position:"absolute",left:0,top:0,width:"100%",height:"100%"},Je=(e,t,n,r,s)=>{if(r===0)return t;let o=(s?r-e:e)/r;return t+n*o},Se=e=>{var t,n;return(n=(t=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(r,s,o,u)=>`#${s}${s}${o}${o}${u}${u}`).substring(1).match(/.{2}/g))==null?void 0:t.map(r=>parseInt(r,16)))!=null?n:[]},Rn=(e,t)=>{var n;let{colors:r,colorsTime:s,isSmoothColorTransition:o=!0}=e;if(typeof r=="string")return r;let u=(n=s==null?void 0:s.findIndex((f,p)=>f>=t&&t>=s[p+1]))!=null?n:-1;if(!s||u===-1)return r[0];if(!o)return r[u];let c=s[u]-t,h=s[u]-s[u+1],d=Se(r[u]),v=Se(r[u+1]),l=!!e.isGrowing;return`rgb(${d.map((f,p)=>Je(c,f,v[p]-f,h,l)|0).join(",")})`},Ln=e=>{let{duration:t,initialRemainingTime:n,updateInterval:r,size:s=180,strokeWidth:o=12,trailStrokeWidth:u,isPlaying:c=!1,isGrowing:h=!1,rotation:d="clockwise",onComplete:v,onUpdate:l}=e,f=a.useRef(),p=Math.max(o,u??0),{path:j,pathLength:g}=kn(s,p,d),{elapsedTime:C}=jn({isPlaying:c,duration:t,startAt:Me(t,n),updateInterval:r,onUpdate:typeof l=="function"?b=>{let y=Math.ceil(t-b);y!==f.current&&(f.current=y,l(y))}:void 0,onComplete:typeof v=="function"?b=>{var y;let{shouldRepeat:_,delay:L,newInitialRemainingTime:M}=(y=v(b))!=null?y:{};if(_)return{shouldRepeat:_,delay:L,newStartAt:Me(t,M)}}:void 0}),x=t-C;return{elapsedTime:C,path:j,pathLength:g,remainingTime:Math.ceil(x),rotation:d,size:s,stroke:Rn(e,x),strokeDashoffset:Je(C,0,g,t,h),strokeWidth:o}},Ke=e=>{let{children:t,strokeLinecap:n,trailColor:r,trailStrokeWidth:s}=e,{path:o,pathLength:u,stroke:c,strokeDashoffset:h,remainingTime:d,elapsedTime:v,size:l,strokeWidth:f}=Ln(e);return E.createElement("div",{style:En(l)},E.createElement("svg",{viewBox:`0 0 ${l} ${l}`,width:l,height:l,xmlns:"http://www.w3.org/2000/svg"},E.createElement("path",{d:o,fill:"none",stroke:r??"#d9d9d9",strokeWidth:s??f}),E.createElement("path",{d:o,fill:"none",stroke:c,strokeLinecap:n??"round",strokeWidth:f,strokeDasharray:u,strokeDashoffset:h})),typeof t=="function"&&E.createElement("div",{style:Cn},t({remainingTime:d,elapsedTime:v,color:c})))};Ke.displayName="CountdownCircleTimer";$e.extend($t);const Mn=({onComplete:e,info:t,onUpdate:n,wranTime:r,isPlaying:s})=>{const o=de(Ae),u=a.useCallback(d=>{n==null||n(d)},[n]),c=a.useCallback(d=>{const v=$e.duration(d*1e3);return v.hours()<=0&&v.minutes()<=0&&v.seconds()<=0?null:v.format("HH:mm:ss")},[]),h=a.useCallback(({remainingTime:d})=>d===0?i.jsx("div",{className:V.timercount,children:"next"}):i.jsxs("div",{className:he(V.timercount,{[V.wrantime]:r}),children:[i.jsx("div",{className:V.index,children:t}),i.jsx("div",{className:V.time,children:c(d)})]}),[r,t,c]);return i.jsx(Ke,{isPlaying:s,duration:o.duration||0,colors:["#004777","#F7B801","#A30000","#A30000"],colorsTime:[60,30,20,0],trailColor:"rgba(144,144,144,0.5)",size:70,strokeWidth:2,onComplete:e,onUpdate:u,children:h})},Sn="_root_qupij_1",On="_timer_qupij_8",Nn="_timewran_qupij_20",Tn="_nav_qupij_29",G={root:Sn,timer:On,timewran:Nn,nav:Tn};var ae=16,zn=/^#?[a-fA-F0-9]+$/,$n=3,An=6;function In(e,t){if(!zn.test(e))throw Error("hex2rgba: first argument has invalid hexadecimal characters");let n=e;if(n[0]==="#"&&(n=n.slice(1)),n.length===$n&&(n=n.split(""),n.splice(2,0,n[2]),n.splice(1,0,n[1]),n.splice(0,0,n[0]),n=n.join("")),n.length!==An)throw Error("hex2rgba: first argument has invalid hexadecimal length");var r=[parseInt(n.slice(0,2),ae),parseInt(n.slice(2,4),ae),parseInt(n.slice(4,6),ae)];return t=typeof t=="number"?t:parseFloat(t),t>=0&&t<=1?r.push(t):r.push(1),"rgba("+r.join(",")+")"}const X=typeof window.ontouchstart<"u",Pn=({lineColor:e="#f00",eraser:t=!1,eraserAlph:n=100,lineWidth:r=20,eraserWidth:s=20,bgColor:o="#fff",bgAlph:u=100,lineAlph:c=100,onStartDraw:h,onEndDraw:d,getCanvas:v})=>{const l=a.useRef(null);return a.useEffect(()=>{l.current&&(v==null||v(l.current))},[v]),a.useEffect(()=>{const f=l.current;if(!f)return;const p=f.getContext("2d");let j=!1;function g(b){b.preventDefault();let y=0,_=0;X?(y=b.touches[0].clientX-b.target.offsetLeft,_=b.touches[0].clientY-b.target.offsetTop):(y=b.clientX,_=b.clientY),j=!0,h==null||h(f),p.beginPath(),p.moveTo(y,_)}function C(){j=!1,d==null||d(f)}function x(b){if(b.preventDefault(),!j)return;t?(p.globalCompositeOperation="destination-out",p.lineWidth=s,p.globalAlpha=n/500*.5):(p.globalCompositeOperation="source-over",p.lineWidth=r,p.strokeStyle=e,p.globalAlpha=c/500*.5);let y=0,_=0;X?(y=b.touches[0].clientX-b.target.offsetLeft,_=b.touches[0].clientY-b.target.offsetTop):(y=b.clientX,_=b.clientY),p.lineCap="round",p.lineJoin="round",p.lineTo(y,_),p.stroke()}return X?(f.addEventListener("touchstart",g),f.addEventListener("touchend",C),f.addEventListener("touchmove",x)):(f.addEventListener("mousedown",g),f.addEventListener("mouseup",C),f.addEventListener("mousemove",x)),()=>{X?(f.removeEventListener("touchstart",g),f.removeEventListener("touchend",C),f.removeEventListener("touchmove",x)):(f.removeEventListener("mousedown",g),f.removeEventListener("mouseup",C),f.removeEventListener("mousemove",x))}},[e,t,r,c,s,n,h,d]),i.jsx("canvas",{ref:l,width:window.innerWidth,height:window.innerHeight,style:{backgroundColor:In(o,u/100)}})},Hn=e=>i.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:200,height:200,className:"icon",viewBox:"0 0 1024 1024",...e,children:[i.jsx("path",{d:"M700.578 148.642c0 11.268-9.127 20.405-20.405 20.405s-20.405-9.137-20.405-20.405c0-11.267 9.127-20.404 20.405-20.404s20.405 9.137 20.405 20.404zM823.008 271.072c0 11.267-9.127 20.404-20.404 20.404s-20.405-9.137-20.405-20.404 9.127-20.405 20.405-20.405c11.276 0 20.404 9.137 20.404 20.405zM578.149 271.072c0 11.267-9.127 20.404-20.405 20.404s-20.405-9.137-20.405-20.404 9.127-20.405 20.405-20.405 20.405 9.137 20.405 20.405zM516.933 332.287c0 11.268-9.127 20.405-20.404 20.405s-20.405-9.137-20.405-20.405 9.127-20.405 20.405-20.405 20.404 9.137 20.404 20.405zM578.149 393.501c0 11.268-9.127 20.405-20.405 20.405s-20.405-9.137-20.405-20.405c0-11.267 9.127-20.405 20.405-20.405s20.405 9.139 20.405 20.405zM639.364 209.857c0 11.267-9.127 20.404-20.405 20.404s-20.405-9.137-20.405-20.404c0-11.268 9.127-20.405 20.405-20.405 11.277 0 20.405 9.137 20.405 20.405zM761.793 209.857c0 11.267-9.127 20.404-20.405 20.404s-20.404-9.137-20.404-20.404c0-11.268 9.127-20.405 20.404-20.405s20.405 9.137 20.405 20.405zM700.578 393.501c0 11.268-9.127 20.405-20.405 20.405s-20.405-9.137-20.405-20.405c0-11.267 9.127-20.405 20.405-20.405s20.405 9.139 20.405 20.405zM639.364 332.287c0 11.268-9.127 20.405-20.405 20.405s-20.405-9.137-20.405-20.405 9.127-20.405 20.405-20.405c11.277 0 20.405 9.137 20.405 20.405zM884.223 332.287c0 11.268-9.127 20.405-20.405 20.405s-20.405-9.137-20.405-20.405 9.127-20.405 20.405-20.405 20.405 9.137 20.405 20.405zM639.364 454.716c0 11.268-9.127 20.405-20.405 20.405s-20.405-9.137-20.405-20.405 9.127-20.404 20.405-20.404c11.277 0 20.405 9.137 20.405 20.404zM761.793 454.716c0 11.268-9.127 20.405-20.405 20.405s-20.404-9.137-20.404-20.405 9.127-20.404 20.404-20.404c11.278 0 20.405 9.137 20.405 20.404z"}),i.jsx("path",{d:"M968.374 340.35 715.761 85.18c-11.615-11.748-27.087-18.215-43.552-18.215h-.01c-16.465 0-31.928 6.457-43.552 18.195L85.875 633.436c-23.833 24.088-23.823 63.301.03 87.41l195.196 197.181c7.951 8.033 20.917 8.095 28.95.144 8.032-7.951 8.094-20.917.143-28.95l-195.196-197.16c-8.145-8.238-8.156-21.612-.03-29.83L373.74 400.839a20.086 20.086 0 0 0 3.592 4.42L666.59 674.43 453.948 889.232a20.452 20.452 0 0 0-4.339 22.277 20.446 20.446 0 0 0 18.88 12.587h374.93c11.296 0 20.465-9.17 20.465-20.466 0-11.308-9.169-20.467-20.466-20.467H517.546l450.838-455.412c23.833-24.12 23.833-63.332-.01-87.4zm-23.505 48.352c-2.15-8.954-10.213-15.606-19.832-15.606-11.287 0-20.405 9.139-20.405 20.405 0 11.093 8.831 20.118 19.873 20.384l-40.277 40.697c-.072-11.205-9.17-20.271-20.405-20.271-11.287 0-20.405 9.138-20.405 20.404s9.118 20.405 20.405 20.405h.072l-40.902 41.321c.01-.174.01-.338.01-.512 0-11.266-9.117-20.404-20.405-20.404-11.276 0-20.404 9.138-20.404 20.404s9.128 20.405 20.404 20.405c.236 0 .481 0 .717-.02L761.748 578.3c.03-.389.041-.767.041-1.156 0-11.267-9.128-20.405-20.405-20.405s-20.404 9.138-20.404 20.405 9.127 20.404 20.404 20.404c.46 0 .911-.01 1.361-.05l-42.252 42.681c.051-.603.082-1.207.082-1.821 0-11.267-9.128-20.405-20.405-20.405-3.98 0-7.695 1.136-10.826 3.111l-34.056-31.692a20.302 20.302 0 0 0 4.073-12.228c0-11.267-9.128-20.405-20.405-20.405a20.306 20.306 0 0 0-13.375 4.994L572.017 530.5a20.296 20.296 0 0 0 6.13-14.572c0-11.266-9.128-20.404-20.405-20.404a20.345 20.345 0 0 0-15.565 7.214l-33.769-31.436a20.346 20.346 0 0 0 8.524-16.588c0-11.266-9.128-20.404-20.404-20.404-7.368 0-13.825 3.898-17.407 9.752l-34.7-32.306c6.703-3.336 11.297-10.264 11.297-18.256 0-11.266-9.128-20.405-20.405-20.405-8.524 0-15.82 5.22-18.87 12.638l-11.225-10.448a19.983 19.983 0 0 0-3.561-2.65l256.072-258.671a20.482 20.482 0 0 1 6.641-4.503 20.098 20.098 0 0 1 7.829-1.566c5.454 0 10.601 2.16 14.47 6.079L939.28 369.146c5.24 5.301 7.112 12.73 5.588 19.556z"}),i.jsx("path",{d:"M700.575 515.93c0 11.266-9.128 20.404-20.405 20.404s-20.405-9.138-20.405-20.405 9.128-20.404 20.405-20.404c11.277 0 20.405 9.138 20.405 20.404zM823.003 393.501c0 11.267-9.117 20.405-20.405 20.405-11.276 0-20.404-9.138-20.404-20.405s9.128-20.405 20.404-20.405c11.288 0 20.405 9.139 20.405 20.405zM761.789 332.287c0 11.267-9.128 20.405-20.405 20.405s-20.404-9.138-20.404-20.405 9.127-20.405 20.404-20.405 20.405 9.138 20.405 20.405zM700.575 271.073c0 11.266-9.128 20.405-20.405 20.405s-20.405-9.139-20.405-20.405 9.128-20.405 20.405-20.405c11.277 0 20.405 9.138 20.405 20.405z"})]}),Wn=e=>i.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon",viewBox:"0 0 1024 1024",...e,children:[i.jsx("path",{d:"m236.352 923.205-2.865.768h463.946c11.308 0 20.466 9.158 20.466 20.466 0 11.297-9.158 20.466-20.466 20.466H78.2c-.348 0-.686-.01-1.034-.03-.143 0-.276-.01-.42-.031-.408-.02-.828-.062-1.237-.123a16.642 16.642 0 0 1-2.262-.43c-.307-.082-.624-.164-.931-.256-.235-.071-.48-.143-.716-.225-.236-.082-.471-.174-.696-.256h-.01c-.225-.092-.46-.184-.686-.286a8.232 8.232 0 0 1-.686-.307c-.296-.143-.593-.287-.89-.45a14.816 14.816 0 0 1-.88-.492 17.05 17.05 0 0 1-1.678-1.115 20.088 20.088 0 0 1-4.318-4.318 18.965 18.965 0 0 1-1.638-2.61 32.055 32.055 0 0 1-.42-.839c-.102-.225-.204-.45-.306-.686-.195-.46-.369-.92-.532-1.391-.154-.471-.297-.942-.43-1.412a23.703 23.703 0 0 1-.45-2.221 24.261 24.261 0 0 1-.195-1.934c0-.02-.01-.03 0-.051-.01-.154-.01-.307-.01-.46-.01-.083-.01-.175-.01-.267-.01-.307 0-.624.01-.941l.03-.665c.041-.665.123-1.33.226-1.996.03-.225.071-.44.122-.655.041-.225.093-.44.144-.665.05-.215.102-.44.163-.655l.154-.563c.01-.081.04-.153.061-.225l40.769-152.032a20.498 20.498 0 0 1 5.372-9.251l633.427-626.929c8.033-7.95 20.998-7.89 28.95.144 7.95 8.043 7.879 20.998-.154 28.95L137.552 802.27 107.18 915.479l113.321-30.402L850.07 261.955c8.033-7.951 20.998-7.88 28.949.154 7.951 8.033 7.88 20.988-.153 28.939L245.439 917.987a20.507 20.507 0 0 1-9.087 5.218zM921.621 247.978c-.1.08 16.818-16.839 16.818-16.839 38.798-38.797 38.798-101.686.041-140.454-38.836-38.807-101.706-38.777-140.484 0 0 0-16.936 16.938-16.839 16.839l140.464 140.454z"}),i.jsx("path",{d:"M57.775 943.774c-.01.317-.02.634-.01.941-.01-.092-.01-.184-.01-.276 0-.225 0-.45.02-.665zM58.03 941.113c-.102.665-.184 1.33-.224 1.996.03-.676.112-1.34.225-1.996zM57.98 947.427a17.19 17.19 0 0 1-.195-1.934c.041.645.102 1.3.195 1.934zM58.614 938.575c-.123.4-.235.809-.317 1.218.05-.215.102-.44.163-.655l.154-.563z"})]}),Fn=e=>i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:200,height:200,className:"icon",viewBox:"0 0 1024 1024",...e,children:i.jsx("path",{d:"M951.59 487.89c-26.564-42.026-63.465-78.22-109.667-107.59-65.573-41.669-130.533-57.397-151.306-61.633L458.204 86.264c-7.992-7.992-20.958-7.992-28.94 0l-14.53 14.53c-87.084 1.403-161.16 14.634-214.966 38.477-29.758 13.18-53.048 29.492-69.227 48.484-17.744 20.835-26.739 44.401-26.739 70.056 0 37.32 14.807 70.158 44.002 97.592a179.739 179.739 0 0 0 6.509 5.813l-87.38 87.38c-59.567 59.556-59.567 156.484 0 216.071L294.934 892.67c29.778 29.778 68.89 44.657 108.01 44.657 39.131 0 78.263-14.9 108.051-44.688l235.197-235.217c7.992-7.992 7.992-20.947 0-28.94s-20.947-7.991-28.94 0L482.058 863.69c-43.613 43.623-114.57 43.634-158.183.03L95.872 635.719c-43.604-43.614-43.604-114.57 0-158.173l92.65-92.65c17.856 10.162 38.456 19.177 61.664 26.974 76.185 25.614 164.804 33.31 226.14 35.243 6.98 12.474 20.313 20.906 35.632 20.906 22.543 0 40.81-18.276 40.81-40.83 0-22.533-18.267-40.789-40.81-40.789-14.879 0-27.875 7.941-35.007 19.812-109.187-3.336-179.805-21.735-213.728-33.135-16.567-5.567-31.415-11.686-44.524-18.358l213.165-213.175 11.87-11.87 3.295 3.294 382.87 382.86-25.44 25.44c-5.975 5.976-8.718 15.001-5.3 22.727 3.275 7.44 9.66 12.198 17.662 12.198h.43c2.518.634 13.866 4.482 25.982 24.304 13.845 22.656 30.341 69.462 30.341 163.76 0 31.63 4.462 59.402 12.894 80.329 13.865 34.393 34.199 39.53 45.087 39.53 29.061 0 45.025-32.295 53.293-59.382 11.206-36.686 16.895-88.424 16.895-153.783 0-68.827-16.874-130.42-50.152-183.06zM183.345 332.186c-25.675-21.009-38.61-45.865-38.61-74.374 0-61.266 89.15-104.807 227.256-114.273L183.344 332.185zm765.003 471.11c-6.57 25.848-13.63 35.508-16.782 38.742-5.915-6.386-17.059-30.444-17.059-77.782 0-88.997-13.896-153.813-41.3-192.637-6.611-9.363-13.355-16.312-19.74-21.47l19.852-19.851a20.473 20.473 0 0 0 5.997-14.47c0-5.423-2.16-10.632-5.997-14.47L752.353 380.394c21.264 8.554 45.077 20.015 68.736 35.17 40.789 26.126 73.197 58.032 96.313 94.85 28.806 45.845 43.409 99.855 43.409 160.537 0 54.481-4.308 100.243-12.464 132.344z"})}),Bn="_root_1yakj_1",Dn="_cvs_1yakj_17",Vn="_handlebar_1yakj_25",qn="_block_1yakj_32",Zn="_color_1yakj_37",Gn="_effectbtn_1yakj_71",Xn="_slider_1yakj_75",Yn="_bgbar_1yakj_78",Un="_bgcover_1yakj_81",Jn="_icon_1yakj_89",Kn="_iconact_1yakj_98",Qn="_toolbar_1yakj_108",e0="_fillmodebox_1yakj_133",t0="_setbar_1yakj_147",n0="_cleanbox_1yakj_157",r0="_clean_1yakj_157",s0="_btnbar_1yakj_178",i0="_btn_1yakj_178",a0="_msg_1yakj_195",o0="_blocktest_1yakj_202",c0="_sel_1yakj_219",l0="_playcontent_1yakj_226",u0="_savecvs_1yakj_242",d0="_saveimgbox_1yakj_252",f0="_playmask_1yakj_261",h0="_logo_1yakj_274",R={root:Bn,cvs:Dn,handlebar:Vn,block:qn,color:Zn,effectbtn:Gn,slider:Xn,bgbar:Yn,bgcover:Un,icon:Jn,iconact:Kn,toolbar:Qn,switch:"_switch_1yakj_123",fillmodebox:e0,setbar:t0,cleanbox:n0,clean:r0,btnbar:s0,btn:i0,msg:a0,blocktest:o0,sel:c0,playcontent:l0,savecvs:u0,saveimgbox:d0,playmask:f0,logo:h0},m0=e=>i.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:200,height:200,className:"icon",viewBox:"0 0 1024 1024",...e,children:[i.jsx("path",{d:"M847.743 223.953H640.639c-3.132-68.921-60.177-124.029-129.858-124.029s-126.726 55.108-129.858 124.029H173.256c-17.673 0-32 14.327-32 32s14.327 32 32 32h674.487c17.673 0 32-14.327 32-32s-14.327-32-32-32zm-336.962-60.03c34.379 0 62.689 26.426 65.718 60.029H445.064c3.029-33.603 31.338-60.029 65.717-60.029zM767.743 351.79c-17.673 0-32 14.327-32 32v478.173H288.256V383.79c0-17.673-14.327-32-32-32s-32 14.327-32 32v510.173c0 17.673 14.327 32 32 32h511.487c17.673 0 32-14.327 32-32V383.79c0-17.673-14.327-32-32-32z"}),i.jsx("path",{d:"M449.306 732.802V448.208c0-17.673-14.327-32-32-32s-32 14.327-32 32v284.593c0 17.673 14.327 32 32 32s32-14.326 32-31.999zm191.534 0V448.208c0-17.673-14.327-32-32-32s-32 14.327-32 32v284.593c0 17.673 14.327 32 32 32s32-14.326 32-31.999z"})]}),v0="_color_1xowo_1",g0="_wrap_1xowo_24",p0="_ml_1xowo_29",T={color:v0,wrap:g0,ml:p0},oe=({alph:e,color:t,size:n,onChange:r})=>{const s=a.useCallback(c=>{const h=c.target.value;r==null||r({color:h})},[r]),o=a.useCallback(c=>{const h=c.target.value;r==null||r({alph:h})},[r]),u=a.useCallback(c=>{const h=c.target.value;r==null||r({size:h})},[r]);return i.jsxs("div",{className:T.wrap,children:[t!==void 0&&i.jsxs(i.Fragment,{children:[i.jsx("span",{className:T.ml,children:"颜色"}),i.jsx("input",{className:T.color,type:"color",value:t,onChange:s})]}),n!==void 0&&i.jsxs(i.Fragment,{children:[i.jsx("span",{className:T.ml,children:"粗细"}),i.jsx("input",{className:T.slider,type:"range",min:"1",max:"60",value:n,onChange:u}),i.jsxs("span",{className:T.sliderblock,style:{width:"1.5rem"},children:["(",n,")"]})]}),e!==void 0&&i.jsxs(i.Fragment,{children:[i.jsx("span",{className:T.ml,children:"不透明度"}),i.jsx("input",{className:T.slider,type:"range",min:"0",step:1,max:"100",value:e,onChange:o}),i.jsxs("span",{className:T.block,style:{width:"1.5rem"},children:["(",e,")"]})]})]})},b0=e=>i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:200,height:200,className:"icon",viewBox:"0 0 1024 1024",...e,children:i.jsx("path",{d:"m283.84 55.744 35.84 35.776-217.408 217.728H689.6a329.408 329.408 0 0 1 329.472 329.6A329.408 329.408 0 0 1 689.6 968.192H436.032v-50.624H689.6a278.912 278.912 0 0 0 0-557.76H102.272l217.664 217.856-36.032 35.776L5.12 334.528 283.84 55.744z"})}),w0=e=>i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:200,height:200,className:"icon",viewBox:"0 0 1024 1024",...e,children:i.jsx("path",{d:"M740.16 55.744 704.32 91.52l217.408 217.728H334.4A329.408 329.408 0 0 0 4.928 638.784 329.472 329.472 0 0 0 334.4 968.256h253.568v-50.688H334.4a278.848 278.848 0 0 1 0-557.696h587.328L704.064 577.664l36.032 35.776 278.784-278.912L740.16 55.744z"})}),_0=e=>i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:200,height:200,className:"icon",viewBox:"0 0 1024 1024",...e,children:i.jsx("path",{d:"m541.867 512 262.4-262.4c8.533-8.533 8.533-21.333 0-29.867s-21.334-8.533-29.867 0L512 482.133l-262.4-262.4c-8.533-8.533-21.333-8.533-29.867 0-8.533 8.534-8.533 21.334 0 29.867l262.4 262.4-262.4 262.4c-8.533 8.533-8.533 21.333 0 29.867 4.267 4.266 10.667 6.4 14.934 6.4s10.666-2.134 14.933-6.4L512 544l260.267 262.4c4.266 4.267 10.666 6.4 14.933 6.4 6.4 0 10.667-2.133 14.933-6.4 8.534-8.533 8.534-21.333 0-29.867L541.867 512z"})}),ce=(e=1e3)=>new Promise(t=>{const n=setTimeout(()=>{t(void 0),clearTimeout(n)},e)}),x0="_cleanbox_9cqh0_1",y0="_title_9cqh0_18",j0="_content_9cqh0_26",k0="_btnbar_9cqh0_29",E0="_btn_9cqh0_29",H={cleanbox:x0,title:y0,content:j0,btnbar:k0,btn:E0},le=({visiable:e,title:t,onOk:n,okText:r,cancelText:s,onCancel:o,children:u,maskStyle:c})=>e?i.jsx("div",{className:H.cleanbox,style:c,children:i.jsxs("div",{children:[t?i.jsx("h3",{className:H.title,children:t}):null,i.jsx("div",{className:H.content,children:u}),i.jsxs("div",{className:H.btnbar,children:[o?i.jsx("div",{className:H.btn,onClick:o,children:s||"取消"}):null,n?i.jsx("div",{className:H.btn,onClick:n,children:r||"确定"}):null]})]})}):null,C0=e=>i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:200,height:200,className:"icon",viewBox:"0 0 1024 1024",...e,children:i.jsx("path",{d:"M700.864 240v168.144a25.6 25.6 0 0 1-25.6 25.6h-320.96a25.6 25.6 0 0 1-25.6-25.6V240H256v549.568h517.568V240h-72.704zm-48 0h-276.16v145.744h276.16V240zM224 192h581.568a16 16 0 0 1 16 16v613.568a16 16 0 0 1-16 16H224a16 16 0 0 1-16-16V208a16 16 0 0 1 16-16zm346.432 89.04h16a16 16 0 0 1 16 16v32a16 16 0 0 1-16 16h-16a16 16 0 0 1-16-16v-32a16 16 0 0 1 16-16z"})});function R0(){const[e,t]=E.useState(!1);return E.useEffect(()=>{const r=!!(typeof window.navigator>"u"?"":navigator.userAgent).match(/Android|BlackBerry|iPhone|iPad|iPod|Opera Mini|IEMobile|WPDesktop/i);t(r)},[]),{isMobile:e}}const L0=!1,M0=({visible:e,onClose:t,lineColor:n="#ff0000",lineWidth:r=2,eraserWidth:s=2,bgColor:o="#ffffff",bgAlph:u=0,onChange:c,eraserAlph:h=50,lineAlph:d=50,historyRecords:v=1e3,auth:l=!1})=>{const[f,p]=a.useState(),j=a.useRef(),[g,C]=a.useState([]),[x,b]=a.useState([]),[y,_]=a.useState(!1),L=a.useRef(0),M=a.useRef(null),S=a.useRef(null),N=a.useRef("draw");a.useRef(null);const{isMobile:A}=R0(),O=a.useCallback(m=>{},[]);a.useCallback((m,w)=>{const k=w==="undo"?g[m]:x[m];O(k)},[O,x,g]);const Qe=a.useCallback(m=>{j.current=m},[]),et=a.useCallback(()=>{t==null||t()},[t]),tt=a.useCallback(({color:m,alph:w})=>{c==null||c({bgAlph:w,bgColor:m})},[c]),nt=a.useCallback(({color:m,alph:w,size:k})=>{c==null||c({lineAlph:w,lineColor:m,lineWidth:k})},[c]),rt=a.useCallback(({size:m,alph:w})=>{c==null||c({eraserAlph:w,eraserWidth:m})},[c]),Q=a.useCallback(m=>{p(f===m?void 0:m)},[f]),q=a.useCallback(m=>{const w=m==null?void 0:m.toDataURL(),k=new Image;return k.src=w,k.alt=`${L.current}`,k},[]),ve=a.useCallback(m=>{if(!m)return;const w=q(m);C(k=>[...k.slice(k.length>v?k.length-v:0,k.length),w]),b([]),O(w)},[q,O,v]),st=a.useCallback(m=>{ve(m)},[ve]),[P,it]=a.useState(),at=a.useCallback(m=>{if(L.current=L.current+1,N.current="draw",!m)return;const w=q(m);it(w),b([w])},[q]),Z=a.useCallback(()=>{var w;const m=(w=j.current)==null?void 0:w.getContext("2d");m&&m.clearRect(0,0,1e4,1e4)},[]),I=a.useCallback(m=>{var k;const w=(k=j.current)==null?void 0:k.getContext("2d");!w||!m||(Z(),w.globalAlpha=1,w.drawImage(m,0,0),L.current=Number(m.alt))},[Z]),ge=a.useCallback(m=>{const w=m.slice(m.length-1,m.length)[0],k=m.slice(0,m.length-1);return{record:w,restRecords:k}},[]),ot=a.useCallback(async m=>{m.stopPropagation();const w=[...g];N.current="undo";const{record:k,restRecords:wt}=ge(w);k&&(C([...wt]),b([k,...x]),I(k))},[I,x,ge,g]),ct=a.useCallback(m=>{m.stopPropagation(),N.current="redo";const w=x[0],k=x.slice(1,x.length);w&&(b([...k]),C([...g,w]),I(w))},[I,x,g]),[lt,ee]=a.useState(!1),[te,ut]=a.useState(200),[pe,be]=a.useState(!1),dt=a.useCallback(async()=>{ee(!1),be(!0),I(g[1]);const m=[...g];P&&m.push(P);for(let w=0;w<m.length;w++){const k=m[w];I(k),w===0&&await ce(1e3),await ce(te),m.length===w+1&&(await ce(1e3),be(!1))}},[I,P,te,g]),ft=a.useCallback(()=>{ee(!0)},[]),ht=a.useCallback(()=>{_(!0)},[]),mt=a.useCallback(()=>{Z(),C([]),b([]),_(!1)},[Z]),[vt,we]=a.useState(!1),[gt,pt]=a.useState(),ne=a.useRef(null),bt=a.useCallback(async()=>{var w,k;if(!P)return;we(!0);const m=(w=ne.current)==null?void 0:w.getContext("2d");m&&(m.fillStyle=o,m.fillRect(0,0,window.innerWidth,window.innerHeight),S.current&&m.drawImage(S.current,0,0),M.current&&!l&&m.drawImage(M.current,10,10),m.drawImage(P,0,0),pt((k=ne.current)==null?void 0:k.toDataURL()))},[l,o,P]);return i.jsxs("div",{className:R.root,style:{display:e?"block":"none"},children:[pe?null:i.jsxs("div",{className:R.toolbar,children:[i.jsxs("div",{className:R.switch,children:[i.jsx("div",{className:`${R.icon}`,onClick:et,children:i.jsx(_0,{})}),i.jsx("div",{className:`${R.icon} ${f==="pen"?R.iconact:""}`,onClick:()=>Q("pen"),children:i.jsx(Wn,{})}),i.jsx("div",{className:`${R.icon} ${f==="eraser"?R.iconact:""}`,onClick:()=>Q("eraser"),children:i.jsx(Hn,{})}),i.jsx("div",{className:`${R.icon} ${f==="fill"?R.iconact:""}`,onClick:()=>Q("fill"),children:i.jsx(Fn,{})}),i.jsx("div",{style:{opacity:g.length?1:.2},className:`${R.icon}`,onClick:ot,children:i.jsx(b0,{})}),i.jsx("div",{style:{opacity:x.length>=1?1:.2},className:`${R.icon}`,onClick:ct,children:i.jsx(w0,{})}),i.jsx("div",{style:{opacity:g.length>=1?1:.2},className:`${R.icon}`,onClick:ft,children:i.jsx(It,{})}),i.jsx("div",{style:{opacity:g.length>=1?1:.2},className:`${R.icon}`,onClick:bt,children:i.jsx(C0,{})}),i.jsx("div",{className:`${R.icon}`,onClick:ht,children:i.jsx(m0,{})})]}),i.jsxs("div",{className:R.handlebar,children:[f==="pen"?i.jsx("div",{className:R.setbar,children:i.jsx(oe,{color:n,size:r,alph:d,onChange:nt})}):null,f==="eraser"?i.jsx("div",{className:R.setbar,children:i.jsx(oe,{size:s,alph:h,onChange:rt})}):null,f==="fill"?i.jsx("div",{className:R.setbar,children:i.jsx(oe,{color:o,alph:u,onChange:tt})}):null]})]}),i.jsx(le,{maskStyle:{backgroundColor:"rgba(0,0,0,0.3)"},visiable:vt,title:A?"长按保存到相册":"右键保存图片",cancelText:"关闭",onCancel:()=>we(!1),children:i.jsx("div",{className:R.saveimgbox,children:i.jsx("img",{src:gt,alt:"t"})})}),i.jsx(le,{visiable:lt,title:"记录回放",onOk:dt,onCancel:()=>ee(!1),children:i.jsxs("div",{className:R.playcontent,children:[i.jsx("label",{children:"播放速度"}),i.jsx("input",{value:te,min:"1",max:"2000",type:"number",onChange:m=>ut(Number(m.target.value)||void 0)}),i.jsx("span",{children:"毫秒"})]})}),pe?i.jsx("div",{className:R.playmask}):null,i.jsx(le,{visiable:y,title:"清除画布",onOk:mt,onCancel:()=>_(!1)}),L0,i.jsx(Pn,{lineColor:n,eraser:f==="eraser",lineWidth:r,lineAlph:d,eraserWidth:s,bgColor:o,bgAlph:u,eraserAlph:h,onStartDraw:st,onEndDraw:at,getCanvas:Qe}),i.jsx("canvas",{width:window.innerWidth,height:window.innerHeight,ref:ne,className:R.savecvs}),i.jsxs("div",{className:R.logo,children:[i.jsx("img",{ref:M,src:"./entrance/masklogo.png",alt:"logo"}),i.jsx("img",{ref:S,src:"./entrance/white_paper.jpg",alt:"bg"})]})]})},S0=({name:e="view"})=>{Ot(e);const t=a.useRef(null),n=a.useRef(null),[r,s]=a.useState(!1),{selected:o=[]}=de(Ae),u=de($),c=xt();a.useEffect(()=>{o.length||c("/list")},[c,o]);const[h,d]=a.useState(!1),[v,l]=a.useState(0),f=a.useCallback(g=>l(g),[]),p=a.useCallback(()=>{var C;const g=v<o.length-1?v+1:0;(C=n.current)==null||C.swipeTo(g),d(!1),l(g)},[v,o.length]),j=a.useCallback(g=>{var C,x;g===4&&((x=(C=t.current)==null?void 0:C.audioEl.current)==null||x.play(),d(!0)),g<4&&!h&&d(!1),g>4&&h&&d(!0)},[h]);return i.jsxs("div",{className:G.root,children:[u.showPanter?null:i.jsx(Tt,{className:G.nav,onBack:()=>c(-1),left:i.jsx(Nt,{children:i.jsx(ln,{onClick:()=>$.showPanter=!0,fontSize:24})}),children:i.jsxs("span",{onClick:()=>s(!0),children:[v+1,"/",o.length]})}),i.jsx(bn.Multi,{maxZoom:10,images:o==null?void 0:o.map(g=>g.src),visible:!0,defaultIndex:v,onIndexChange:f,ref:n}),i.jsx(At,{children:i.jsxs("div",{className:he(G.timer,{[G.timewran]:h}),style:{opacity:u.showPanter?0:1},children:[i.jsx(Mn,{onComplete:p,onUpdate:j,isPlaying:!u.showPanter,wranTime:!0},v),i.jsx(Pt,{ref:t,src:"./warning.mp3"})]})}),i.jsx(zt,{visible:r,onMaskClick:()=>s(!1)}),i.jsx(M0,{visible:u.showPanter,onClose:()=>$.showPanter=!1,onChange:()=>"onChangePainter",lineColor:u.lineColor,lineWidth:u.lineWidth||1,bgColor:$.panterBgColor,bgAlph:$.bgAlph,eraserAlph:$.eraserAlph,eraserWidth:$.eraserWidth,lineAlph:$.lineAlph,historyRecords:1e3,auth:!0})]})},A0=S0;export{A0 as default};
