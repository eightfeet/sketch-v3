import{S as ke,s as X,n as Me,l as ie,o as le,t as Oe,p as Ie,q as Qe,v as oe,x as Te,y as B,z as ce,A as Ne,B as Ae,D as ze,r as d,E as Be,F as be,G as K,H as De,I as We,_ as Ue,w as q,R as b,m as re,J as He,K as Ce,L as $e,c as Ke,j as l,h as we,i as Y,C as J,e as Ve,f as N,T as qe,M as Ze}from"./index-ce1eb5c4.js";import{t as G,c as Ge,f as Xe,S as xe,F as ue,e as ee,g as de,B as V,d as Ye,D as $}from"./useDocumentTitle-c0da52a3.js";import{B as Je}from"./index-c23d8c1d.js";import{u as et}from"./index-7201eb9a.js";import{u as he,I as fe,S as tt}from"./SelectedList-d74f1cef.js";import{A as st,P as rt}from"./Activation-ef9ddd44.js";import{A as nt}from"./avatar-57ce4910.js";import{P as at}from"./bundle-15b2b49c.js";import{l as Q}from"./index-70bdf6fd.js";import{u as it}from"./index-cfc5ad04.js";class Re extends ke{constructor(e,t){super(),this.client=e,this.options=t,this.trackedProps=new Set,this.selectError=null,this.bindMethods(),this.setOptions(t)}bindMethods(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.currentQuery.addObserver(this),pe(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return te(this.currentQuery,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return te(this.currentQuery,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.clearStaleTimeout(),this.clearRefetchInterval(),this.currentQuery.removeObserver(this)}setOptions(e,t){const r=this.options,n=this.currentQuery;if(this.options=this.client.defaultQueryOptions(e),X(r,this.options)||this.client.getQueryCache().notify({type:"observerOptionsUpdated",query:this.currentQuery,observer:this}),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=r.queryKey),this.updateQuery();const a=this.hasListeners();a&&me(this.currentQuery,n,this.options,r)&&this.executeFetch(),this.updateResult(t),a&&(this.currentQuery!==n||this.options.enabled!==r.enabled||this.options.staleTime!==r.staleTime)&&this.updateStaleTimeout();const i=this.computeRefetchInterval();a&&(this.currentQuery!==n||this.options.enabled!==r.enabled||i!==this.currentRefetchInterval)&&this.updateRefetchInterval(i)}getOptimisticResult(e){const t=this.client.getQueryCache().build(this.client,e),r=this.createResult(t,e);return ot(this,r,e)&&(this.currentResult=r,this.currentResultOptions=this.options,this.currentResultState=this.currentQuery.state),r}getCurrentResult(){return this.currentResult}trackResult(e){const t={};return Object.keys(e).forEach(r=>{Object.defineProperty(t,r,{configurable:!1,enumerable:!0,get:()=>(this.trackedProps.add(r),e[r])})}),t}getCurrentQuery(){return this.currentQuery}remove(){this.client.getQueryCache().remove(this.currentQuery)}refetch({refetchPage:e,...t}={}){return this.fetch({...t,meta:{refetchPage:e}})}fetchOptimistic(e){const t=this.client.defaultQueryOptions(e),r=this.client.getQueryCache().build(this.client,t);return r.isFetchingOptimistic=!0,r.fetch().then(()=>this.createResult(r,t))}fetch(e){var t;return this.executeFetch({...e,cancelRefetch:(t=e.cancelRefetch)!=null?t:!0}).then(()=>(this.updateResult(),this.currentResult))}executeFetch(e){this.updateQuery();let t=this.currentQuery.fetch(this.options,e);return e!=null&&e.throwOnError||(t=t.catch(Me)),t}updateStaleTimeout(){if(this.clearStaleTimeout(),ie||this.currentResult.isStale||!le(this.options.staleTime))return;const t=Oe(this.currentResult.dataUpdatedAt,this.options.staleTime)+1;this.staleTimeoutId=setTimeout(()=>{this.currentResult.isStale||this.updateResult()},t)}computeRefetchInterval(){var e;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(e=this.options.refetchInterval)!=null?e:!1}updateRefetchInterval(e){this.clearRefetchInterval(),this.currentRefetchInterval=e,!(ie||this.options.enabled===!1||!le(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(()=>{(this.options.refetchIntervalInBackground||Ie.isFocused())&&this.executeFetch()},this.currentRefetchInterval))}updateTimers(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())}clearStaleTimeout(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)}clearRefetchInterval(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)}createResult(e,t){const r=this.currentQuery,n=this.options,a=this.currentResult,i=this.currentResultState,o=this.currentResultOptions,p=e!==r,g=p?e.state:this.currentQueryInitialState,y=p?this.currentResult:this.previousQueryResult,{state:m}=e;let{dataUpdatedAt:_,error:C,errorUpdatedAt:w,fetchStatus:E,status:R}=m,c=!1,f=!1,u;if(t._optimisticResults){const j=this.hasListeners(),I=!j&&pe(e,t),Z=j&&me(e,r,t,n);(I||Z)&&(E=Qe(e.options.networkMode)?"fetching":"paused",_||(R="loading")),t._optimisticResults==="isRestoring"&&(E="idle")}if(t.keepPreviousData&&!m.dataUpdatedAt&&y!=null&&y.isSuccess&&R!=="error")u=y.data,_=y.dataUpdatedAt,R=y.status,c=!0;else if(t.select&&typeof m.data<"u")if(a&&m.data===(i==null?void 0:i.data)&&t.select===this.selectFn)u=this.selectResult;else try{this.selectFn=t.select,u=t.select(m.data),u=oe(a==null?void 0:a.data,u,t),this.selectResult=u,this.selectError=null}catch(j){this.selectError=j}else u=m.data;if(typeof t.placeholderData<"u"&&typeof u>"u"&&R==="loading"){let j;if(a!=null&&a.isPlaceholderData&&t.placeholderData===(o==null?void 0:o.placeholderData))j=a.data;else if(j=typeof t.placeholderData=="function"?t.placeholderData():t.placeholderData,t.select&&typeof j<"u")try{j=t.select(j),this.selectError=null}catch(I){this.selectError=I}typeof j<"u"&&(R="success",u=oe(a==null?void 0:a.data,j,t),f=!0)}this.selectError&&(C=this.selectError,u=this.selectResult,w=Date.now(),R="error");const h=E==="fetching",x=R==="loading",F=R==="error";return{status:R,fetchStatus:E,isLoading:x,isSuccess:R==="success",isError:F,isInitialLoading:x&&h,data:u,dataUpdatedAt:_,error:C,errorUpdatedAt:w,failureCount:m.fetchFailureCount,failureReason:m.fetchFailureReason,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>g.dataUpdateCount||m.errorUpdateCount>g.errorUpdateCount,isFetching:h,isRefetching:h&&!x,isLoadingError:F&&m.dataUpdatedAt===0,isPaused:E==="paused",isPlaceholderData:f,isPreviousData:c,isRefetchError:F&&m.dataUpdatedAt!==0,isStale:ne(e,t),refetch:this.refetch,remove:this.remove}}updateResult(e){const t=this.currentResult,r=this.createResult(this.currentQuery,this.options);if(this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,X(r,t))return;this.currentResult=r;const n={cache:!0},a=()=>{if(!t)return!0;const{notifyOnChangeProps:i}=this.options,o=typeof i=="function"?i():i;if(o==="all"||!o&&!this.trackedProps.size)return!0;const p=new Set(o??this.trackedProps);return this.options.useErrorBoundary&&p.add("error"),Object.keys(this.currentResult).some(g=>{const y=g;return this.currentResult[y]!==t[y]&&p.has(y)})};(e==null?void 0:e.listeners)!==!1&&a()&&(n.listeners=!0),this.notify({...n,...e})}updateQuery(){const e=this.client.getQueryCache().build(this.client,this.options);if(e===this.currentQuery)return;const t=this.currentQuery;this.currentQuery=e,this.currentQueryInitialState=e.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(t==null||t.removeObserver(this),e.addObserver(this))}onQueryUpdate(e){const t={};e.type==="success"?t.onSuccess=!e.manual:e.type==="error"&&!Te(e.error)&&(t.onError=!0),this.updateResult(t),this.hasListeners()&&this.updateTimers()}notify(e){B.batch(()=>{if(e.onSuccess){var t,r,n,a;(t=(r=this.options).onSuccess)==null||t.call(r,this.currentResult.data),(n=(a=this.options).onSettled)==null||n.call(a,this.currentResult.data,null)}else if(e.onError){var i,o,p,g;(i=(o=this.options).onError)==null||i.call(o,this.currentResult.error),(p=(g=this.options).onSettled)==null||p.call(g,void 0,this.currentResult.error)}e.listeners&&this.listeners.forEach(({listener:y})=>{y(this.currentResult)}),e.cache&&this.client.getQueryCache().notify({query:this.currentQuery,type:"observerResultsUpdated"})})}}function lt(s,e){return e.enabled!==!1&&!s.state.dataUpdatedAt&&!(s.state.status==="error"&&e.retryOnMount===!1)}function pe(s,e){return lt(s,e)||s.state.dataUpdatedAt>0&&te(s,e,e.refetchOnMount)}function te(s,e,t){if(e.enabled!==!1){const r=typeof t=="function"?t(s):t;return r==="always"||r!==!1&&ne(s,e)}return!1}function me(s,e,t,r){return t.enabled!==!1&&(s!==e||r.enabled===!1)&&(!t.suspense||s.state.status!=="error")&&ne(s,t)}function ne(s,e){return s.isStaleByTime(e.staleTime)}function ot(s,e,t){return t.keepPreviousData?!1:t.placeholderData!==void 0?e.isPlaceholderData:!X(s.getCurrentResult(),e)}class ct extends Re{constructor(e,t){super(e,t)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(e,t){super.setOptions({...e,behavior:ce()},t)}getOptimisticResult(e){return e.behavior=ce(),super.getOptimisticResult(e)}fetchNextPage({pageParam:e,...t}={}){return this.fetch({...t,meta:{fetchMore:{direction:"forward",pageParam:e}}})}fetchPreviousPage({pageParam:e,...t}={}){return this.fetch({...t,meta:{fetchMore:{direction:"backward",pageParam:e}}})}createResult(e,t){var r,n,a,i,o,p;const{state:g}=e,y=super.createResult(e,t),{isFetching:m,isRefetching:_}=y,C=m&&((r=g.fetchMeta)==null||(n=r.fetchMore)==null?void 0:n.direction)==="forward",w=m&&((a=g.fetchMeta)==null||(i=a.fetchMore)==null?void 0:i.direction)==="backward";return{...y,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:Ne(t,(o=g.data)==null?void 0:o.pages),hasPreviousPage:Ae(t,(p=g.data)==null?void 0:p.pages),isFetchingNextPage:C,isFetchingPreviousPage:w,isRefetching:_&&!C&&!w}}}const ut=ze.useSyncExternalStore,_e=d.createContext(!1),dt=()=>d.useContext(_e);_e.Provider;function ht(){let s=!1;return{clearReset:()=>{s=!1},reset:()=>{s=!0},isReset:()=>s}}const ft=d.createContext(ht()),pt=()=>d.useContext(ft);function mt(s,e){return typeof s=="function"?s(...e):!!s}const gt=(s,e)=>{(s.suspense||s.useErrorBoundary)&&(e.isReset()||(s.retryOnMount=!1))},yt=s=>{d.useEffect(()=>{s.clearReset()},[s])},vt=({result:s,errorResetBoundary:e,useErrorBoundary:t,query:r})=>s.isError&&!e.isReset()&&!s.isFetching&&mt(t,[s.error,r]),bt=s=>{s.suspense&&typeof s.staleTime!="number"&&(s.staleTime=1e3)},Ct=(s,e)=>s.isLoading&&s.isFetching&&!e,wt=(s,e,t)=>(s==null?void 0:s.suspense)&&Ct(e,t),xt=(s,e,t)=>e.fetchOptimistic(s).then(({data:r})=>{s.onSuccess==null||s.onSuccess(r),s.onSettled==null||s.onSettled(r,null)}).catch(r=>{t.clearReset(),s.onError==null||s.onError(r),s.onSettled==null||s.onSettled(void 0,r)});function Ee(s,e){const t=Be({context:s.context}),r=dt(),n=pt(),a=t.defaultQueryOptions(s);a._optimisticResults=r?"isRestoring":"optimistic",a.onError&&(a.onError=B.batchCalls(a.onError)),a.onSuccess&&(a.onSuccess=B.batchCalls(a.onSuccess)),a.onSettled&&(a.onSettled=B.batchCalls(a.onSettled)),bt(a),gt(a,n),yt(n);const[i]=d.useState(()=>new e(t,a)),o=i.getOptimisticResult(a);if(ut(d.useCallback(p=>{const g=r?()=>{}:i.subscribe(B.batchCalls(p));return i.updateResult(),g},[i,r]),()=>i.getCurrentResult(),()=>i.getCurrentResult()),d.useEffect(()=>{i.setOptions(a,{listeners:!1})},[a,i]),wt(a,o,r))throw xt(a,i,n);if(vt({result:o,errorResetBoundary:n,useErrorBoundary:a.useErrorBoundary,query:i.getCurrentQuery()}))throw o.error;return a.notifyOnChangeProps?o:i.trackResult(o)}function ge(s,e,t){const r=be(s,e,t);return Ee(r,Re)}function Rt(s,e,t){const r=be(s,e,t);return Ee(r,ct)}function _t(s){var e=this,t=d.useRef(!1);return d.useCallback(function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return K(e,void 0,void 0,function(){var a,i;return De(this,function(o){switch(o.label){case 0:if(t.current)return[2];t.current=!0,o.label=1;case 1:return o.trys.push([1,3,,4]),[4,s.apply(void 0,We([],Ue(r),!1))];case 2:return a=o.sent(),t.current=!1,[2,a];case 3:throw i=o.sent(),t.current=!1,i;case 4:return[2]}})})},[s])}function Et(s){return d.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},s,{style:Object.assign({verticalAlign:"-0.125em"},s.style),className:["antd-mobile-icon",s.className].filter(Boolean).join(" ")}),d.createElement("g",{id:"FilterOutline-FilterOutline",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},d.createElement("g",{id:"FilterOutline-编组"},d.createElement("rect",{id:"FilterOutline-矩形",fill:"#FFFFFF",opacity:0,x:0,y:0,width:48,height:48}),d.createElement("path",{d:"M38,4 C40.209139,4 42,5.76907707 42,7.95134424 L42,10.9773332 C42,11.5050389 41.7864467,12.0082085 41.4113229,12.3772068 L30,22.7810491 L30,37.3492129 C30,38.7371734 29.2628047,40.0233629 28.057983,40.7374627 L21.0289915,43.7181542 C20.081831,44.2795378 18.8533105,43.9761435 18.2850141,43.0405042 C18.0985157,42.7334543 18,42.3821079 18,42.0240293 L18,22.7810491 L6.7196312,12.4950865 C6.26364602,12.119721 6,11.5636728 6,10.9773332 L6,7.95134424 C6,5.76907707 7.790861,4 10,4 L38,4 Z M38,6.96350818 L10,6.96350818 C9.48716416,6.96350818 9.06449284,7.3448526 9.00672773,7.83614169 L9,7.95134424 L9,10.3374937 C9,10.450388 9.04770634,10.5580256 9.13134834,10.6338487 L20.8686517,21.2739462 C20.9522937,21.3497694 21,21.4574069 21,21.5703012 L21,39.7002583 C21,39.9211722 21.1790861,40.1002583 21.4,40.1002583 C21.4482784,40.1002583 21.496158,40.0915183 21.5413228,40.0744612 L26.5144958,38.1962754 L26.5144958,38.1962754 C26.7780505,38.0400661 26.9520986,37.7743552 26.9914926,37.477912 L27,37.3492129 L27,21.5702904 C27,21.4574024 27.047701,21.3497702 27.1313349,21.2739476 L38.8686651,10.6328595 C38.952299,10.5570368 39,10.4494047 39,10.3365167 L39,7.95134424 L39,7.95134424 C39,7.4447465 38.6139598,7.02721653 38.1166211,6.97015407 L38,6.96350818 Z M42,36.0229179 L42,38.186426 C42,38.4073399 41.8209139,38.586426 41.6,38.586426 L34.4,38.586426 C34.1790861,38.586426 34,38.4073399 34,38.186426 L34,36.0229179 C34,35.802004 34.1790861,35.6229179 34.4,35.6229179 L41.6,35.6229179 C41.8209139,35.6229179 42,35.802004 42,36.0229179 Z M42,30.0959015 L42,32.2594097 C42,32.4803236 41.8209139,32.6594097 41.6,32.6594097 L34.4,32.6594097 C34.1790861,32.6594097 34,32.4803236 34,32.2594097 L34,30.0959015 C34,29.8749876 34.1790861,29.6959015 34.4,29.6959015 L41.6,29.6959015 C41.8209139,29.6959015 42,29.8749876 42,30.0959015 Z M42,24.1688851 L42,26.3323933 C42,26.5533072 41.8209139,26.7323933 41.6,26.7323933 L34.4,26.7323933 C34.1790861,26.7323933 34,26.5533072 34,26.3323933 L34,24.1688851 C34,23.9479712 34.1790861,23.7688851 34.4,23.7688851 L41.6,23.7688851 C41.8209139,23.7688851 42,23.9479712 42,24.1688851 Z",id:"FilterOutline-形状",fill:"currentColor",fillRule:"nonzero"}))))}function je(s){return d.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},s,{style:Object.assign({verticalAlign:"-0.125em"},s.style),className:["antd-mobile-icon",s.className].filter(Boolean).join(" ")}),d.createElement("g",{id:"PicturesOutline-PicturesOutline",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},d.createElement("g",{id:"PicturesOutline-编组"},d.createElement("rect",{id:"PicturesOutline-矩形",fill:"#FFFFFF",opacity:0,x:0,y:0,width:48,height:48}),d.createElement("path",{d:"M32,10 C35.3137085,10 38,12.6862915 38,16 L38,38 C38,41.3137085 35.3137085,44 32,44 L10,44 C6.6862915,44 4,41.3137085 4,38 L4,16 C4,12.6862915 6.6862915,10 10,10 L32,10 Z M32,13 L10,13 C8.40231912,13 7.09633912,14.24892 7.00509269,15.8237272 L7,16 L7,38 C7,39.5976809 8.24891996,40.9036609 9.82372721,40.9949073 L10,41 C13.1111111,41 15.4444444,41 17,41 C20.3333333,41 25.3333333,41 32,41 C33.5976809,41 34.9036609,39.75108 34.9949073,38.1762728 L35,38 L35,33.332 L30.7808252,29.1126218 C30.0818755,28.4136721 28.9683937,28.3819016 28.2317592,29.0173105 L28.1291748,29.1126218 L16.8091025,40.4319451 L16.242,40.9990101 L12,40.9990101 L26.6265729,26.372583 C28.18867,24.8104858 30.72133,24.8104858 32.2834271,26.372583 L35,29.089 L35,16 C35,14.4023191 33.75108,13.0963391 32.1762728,13.0050927 L32,13 Z M38,4 C41.3137085,4 44,6.6862915 44,10 L44,34 L41,34 L41,10 C41,8.40231912 39.75108,7.09633912 38.1762728,7.00509269 L38,7 L14,7 L14,4 L38,4 Z M14.5,16 C16.9852814,16 19,18.0147186 19,20.5 C19,22.9852814 16.9852814,25 14.5,25 C12.0147186,25 10,22.9852814 10,20.5 C10,18.0147186 12.0147186,16 14.5,16 Z M14.5,19 C13.6715729,19 13,19.6715729 13,20.5 C13,21.3284271 13.6715729,22 14.5,22 C15.3284271,22 16,21.3284271 16,20.5 C16,19.6715729 15.3284271,19 14.5,19 Z",id:"PicturesOutline-形状",fill:"currentColor",fillRule:"nonzero"}))))}const Le="adm-grid",jt=s=>{const e={"--columns":s.columns.toString()},{gap:t}=s;return t!==void 0&&(Array.isArray(t)?(e["--gap-horizontal"]=G(t[0]),e["--gap-vertical"]=G(t[1])):e["--gap"]=G(t)),q(s,b.createElement("div",{className:Le,style:e},s.children))},Lt=s=>{const e=re({span:1},s),t={"--item-span":e.span};return q(e,b.createElement("div",{className:`${Le}-item`,style:t,onClick:e.onClick},e.children))},St=Ge(jt,{Item:Lt});function Pt(s){return s===window}const Se="adm-infinite-scroll",Ft={threshold:250,children:(s,e,t)=>b.createElement(Mt,{hasMore:s,failed:e,retry:t})},kt=s=>{const e=re(Ft,s),[t,r]=d.useState(!1),n=_t(C=>K(void 0,void 0,void 0,function*(){try{yield e.loadMore(C)}catch(w){throw r(!0),w}})),a=d.useRef(null),[i,o]=d.useState({}),p=d.useRef(i),[g,y]=d.useState(),{run:m}=et(()=>K(void 0,void 0,void 0,function*(){if(p.current!==i||!e.hasMore)return;const C=a.current;if(!C||!C.offsetParent)return;const w=He(C);if(y(w),!w)return;const R=C.getBoundingClientRect().top;if((Pt(w)?window.innerHeight:w.getBoundingClientRect().bottom)>=R-e.threshold){const f={};p.current=f,yield n(!1),o(f)}}),{wait:100,leading:!0,trailing:!0});d.useEffect(()=>{m()}),d.useEffect(()=>{if(!a.current||!g)return;function w(){m()}return g.addEventListener("scroll",w),()=>{g.removeEventListener("scroll",w)}},[g]);function _(){return K(this,void 0,void 0,function*(){r(!1),yield n(!0),o(p.current)})}return q(e,b.createElement("div",{className:Se,ref:a},typeof e.children=="function"?e.children(e.hasMore,t,_):e.children))},Mt=s=>{const{locale:e}=Ce();return s.hasMore?s.failed?b.createElement("span",null,b.createElement("span",{className:`${Se}-failed-text`},e.InfiniteScroll.failedToLoad),b.createElement("a",{onClick:()=>{s.retry()}},e.InfiniteScroll.retry)):b.createElement(b.Fragment,null,b.createElement("span",null,e.common.loading),b.createElement($e,null)):b.createElement("span",null,e.InfiniteScroll.noMore)};const Ot=d.memo(()=>b.createElement("svg",{width:"17px",height:"13px",viewBox:"0 0 17 13",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},b.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",strokeLinecap:"round",strokeLinejoin:"round"},b.createElement("g",{transform:"translate(-2832.000000, -1103.000000)",stroke:"#FFFFFF",strokeWidth:"3"},b.createElement("g",{transform:"translate(2610.000000, 955.000000)"},b.createElement("g",{transform:"translate(24.000000, 91.000000)"},b.createElement("g",{transform:"translate(179.177408, 36.687816)"},b.createElement("polyline",{points:"34.2767388 22 24.797043 31.4796958 21 27.6826527"})))))))),O="adm-selector",It={multiple:!1,defaultValue:[],showCheckMark:!0},ye=s=>{const e=re(It,s),[t,r]=Xe({value:e.value,defaultValue:e.defaultValue,onChange:i=>{var o;const p={get items(){return e.options.filter(g=>i.includes(g.value))}};(o=e.onChange)===null||o===void 0||o.call(e,i,p)}}),{locale:n}=Ce(),a=e.options.map(i=>{const o=(t||[]).includes(i.value),p=i.disabled||e.disabled,g=Ke(`${O}-item`,{[`${O}-item-active`]:o&&!e.multiple,[`${O}-item-multiple-active`]:o&&e.multiple,[`${O}-item-disabled`]:p});return b.createElement("div",{key:i.value,className:g,onClick:()=>{if(!p)if(e.multiple){const y=o?t.filter(m=>m!==i.value):[...t,i.value];r(y)}else{const y=o?[]:[i.value];r(y)}},role:"option","aria-selected":o&&!e.multiple||o&&e.multiple},i.label,i.description&&b.createElement("div",{className:`${O}-item-description`},i.description),o&&e.showCheckMark&&b.createElement("div",{className:`${O}-check-mark-wrapper`},b.createElement(Ot,null)))});return q(e,b.createElement("div",{className:O,role:"listbox","aria-label":n.Selector.name},!e.columns&&b.createElement(xe,{wrap:!0},a),e.columns&&b.createElement(St,{columns:e.columns},a)))};function P(s,e,t,r){if(t==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?s!==e||!r:!e.has(s))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(s):r?r.value:e.get(s)}function A(s,e,t,r,n){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?s!==e||!n:!e.has(s))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?n.call(s,t):n?n.value=t:e.set(s,t),t}function Qt(s,e){e===void 0&&(e={});var t=e.insertAt;if(!(!s||typeof document>"u")){var r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=s:n.appendChild(document.createTextNode(s))}}var Tt=`wc-waterfall {\r
  position: relative;\r
  display: block;\r
  box-sizing: content-box !important;\r
}\r
      \r
wc-waterfall > * {\r
  position: absolute;\r
  box-sizing: border-box;\r
}\r
`;Qt(Tt);function Nt(s){let e=0;for(let t=0;t<s.length;t++)e=s[e]<=s[t]?e:t;return e}function At(s,{getW:e,setW:t,getH:r,setH:n,getPad:a,setX:i,setY:o,getChildren:p},{cols:g,gap:y}){const[m,_,C,w]=a(s),E=p(s),R=E.length;if(R){const c=(e(s)-y*(g-1)-(w+_))/g;Array.prototype.forEach.call(E,h=>t(h,c));const f=Array.prototype.map.call(E,h=>r(h)),u=Array(g).fill(m);for(let h=0;h<R;h++){const x=E[h],F=Nt(u);o(x,u[F]),i(x,w+(c+y)*F),u[F]+=f[h]+y}n(s,Math.max(...u)-y+C)}else n(s,m+C)}var se,M,D,T,W,Pe;class U extends HTMLElement{constructor(){super(),se.add(this),Object.defineProperty(this,"_fl_w",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_fl_h",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),M.set(this,void 0),D.set(this,void 0),T.set(this,void 0),W.set(this,!1)}get gap(){return+(this.getAttribute("gap")||U.default_props.gap)}set gap(e){this.setAttribute("gap",e+"")}get cols(){return+(this.getAttribute("cols")||U.default_props.cols)}set cols(e){this.setAttribute("cols",e+"")}connectedCallback(){A(this,M,new ResizeObserver(e=>e.some(({target:t})=>t._fl_w!=t.offsetWidth||t._fl_h!=t.offsetHeight)&&this.relayout()),"f"),P(this,M,"f").observe(this),Array.prototype.forEach.call(this.children,e=>P(this,M,"f").observe(e)),this.relayout(),A(this,D,new MutationObserver(e=>{e.forEach(t=>{t.addedNodes.forEach(r=>r instanceof HTMLElement&&P(this,M,"f").observe(r)),t.removedNodes.forEach(r=>r instanceof HTMLElement&&P(this,M,"f").unobserve(r))}),this.relayout()}),"f"),P(this,D,"f").observe(this,{childList:!0,attributes:!1}),A(this,T,new MutationObserver(()=>this.relayout()),"f"),P(this,T,"f").observe(this,{childList:!1,attributes:!0})}disconnectedCallback(){P(this,M,"f").disconnect(),P(this,D,"f").disconnect(),P(this,T,"f").disconnect()}relayout(){P(this,W,"f")||(A(this,W,!0,"f"),requestAnimationFrame(()=>{P(this,se,"m",Pe).call(this),A(this,W,!1,"f")}))}}M=new WeakMap,D=new WeakMap,T=new WeakMap,W=new WeakMap,se=new WeakSet,Pe=function(){At(this,{getW:s=>s.offsetWidth,setW:(s,e)=>s.style.width=e+"px",getH:s=>(s._fl_w=s.offsetWidth,s._fl_h=s.offsetHeight),setH:(s,e)=>s.style.height=e+"px",getPad:s=>{const e=getComputedStyle(s);return[parseInt(e.paddingTop),parseInt(e.paddingRight),-parseInt(e.paddingTop),parseInt(e.paddingLeft)]},setX:(s,e)=>s.style.left=e+"px",setY:(s,e)=>s.style.top=e+"px",getChildren:s=>s.children},{cols:this.cols,gap:this.gap}),this._fl_w=this.offsetWidth,this._fl_h=this.offsetHeight,P(this,T,"f").takeRecords()},Object.defineProperty(U,"default_props",{enumerable:!0,configurable:!0,writable:!0,value:Object.freeze({cols:2,gap:4})}),customElements.define("wc-waterfall",U);const zt="_root_1tnsy_1",Bt="_subnav_1tnsy_6",Dt="_play_1tnsy_11",Wt="_disablePlay_1tnsy_18",Ut="_menu_1tnsy_22",Ht="_btn_1tnsy_29",z={root:zt,subnav:Bt,play:Dt,disablePlay:Wt,menu:Ut,btn:Ht},$t=s=>l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",xmlSpace:"preserve",width:96.6,height:134.7,viewBox:"0,0,96.6,134.7",...s,children:[l.jsx("style",{children:".st6{fill:#582587}"}),l.jsx("path",{d:"M59.5 24.9s6.9 1.4 9.4 3.5 2.5 1.3 2.5 1.3l8.2-8.5 4.7-1.2 3.8 1.8 1.8 3.1v2.9l-3.3 4-6.2 3.7-3 3.3-2 4 .8 5.1 2.3 5.8 3.7 5.1 4.4 5.8 5.8 11.2 1.8 8.2.7 9.2-4.2 13-10.2 9.3-9.2 5.2-6.3 4-3.8 2.2-3.5 4.2-5.8 1.8h-7.7l-6.5-4.3-10.2-6.2-6.7-3.5-6.7-4.2-7.3-7L2.1 99 .9 89.5 2.6 79 6 69.8 14.3 59l4.7-7.3 1.5-10.5-2.7-4.3-6.8-4-4-4.2-1-3.9 2.3-3.5 5.2-1.3 5.7 3.5 4 4.2 2.2 2.3 4.7-2.8 2.8-1.5 7.6-1.3 8.8-.8 7.2.5 3 .8z",style:{fill:"#c4e6f3"}}),l.jsx("path",{d:"M94.4 84.1c0 18.1-1 20.1-8.5 26.3-25.2 0-43.9-14.2-43.9-32.3s-5.8-56.8 19.2-53.2c1.1.2 6.5 5 10.2 4.9 3.3-.1 6.3-8.2 9.8-8.8 4.9-.9 9.5 2.1 8.4 6.4-1.5 5.4-9.6 7.7-11.2 9.2-4.8 4.6-1.9 9-1 13.5 1.2 6.2 7.5 10.4 9.5 14.7 5.4 11.8 7.5 10.7 7.5 19.3z",style:{fill:"#aad9e4"}}),l.jsx("path",{d:"M54.9 11.7S53 4.9 51.1 3 47.8.9 45.9 3C44 5.1 42.3 9.7 42 10.7s1.2 1.8 2.3 1.8c1.1 0 6.2.5 7.8.3 1.5-.1 2.8-1.1 2.8-1.1z",style:{fill:"#d91c79"}}),l.jsx("path",{d:"M41.3 12s3.6.8 7.6.5 5.8-.8 5.8-.8 2.9 8 3.1 10.1 0 3.1 0 3.1l-19.2-.4L41.3 12z",style:{fill:"#fce3bf"}}),l.jsx("path",{d:"M37.9 24.5s-4.8 30.4-5 35.4c-.2 5-.3 9.5 6.7 11.6s18.6.8 21.9-2.4 2.3-6.9 2.2-10.1-4.8-32.4-5.3-33.6-6.6-1.8-9.1-1.8-11.4.9-11.4.9z",style:{fill:"#f8b62d"}}),l.jsx("path",{d:"M33.5 67.3s4.7 6.7 14.8 5.6c10.2-1.1 15.1-6.3 15.1-6.3s.9 6.7-1.6 12-9.1 9.4-15.7 8.6c-6.5-.8-11.1-6.8-11.9-9.3-.8-2.6-2-9.5-2-9.5l1.3-1.1z",style:{fill:"#8fc31f"}}),l.jsx("path",{d:"M82.4 56.2c-1.9-2.1-3.4-4.8-4.4-7.9-2.9-8.7 2.4-11.1 5.2-12.4.2-.1.4-.2.5-.2 3.2-1.5 7.1-4.7 7.9-8.6.3-1.6.2-3.9-2.1-6.3-1.6-1.7-3.4-2.4-5.5-2.3-4.7.3-9.5 5.1-12.9 9.6-1.7-1.4-5.1-3.4-11.4-4.6-2.2-10.6-5-19.7-8.5-22.5-.9-.7-1.9-1.1-2.9-1-1 0-2 .3-2.9 1C42 3.8 39.1 12.9 37 23.5c-6.3 1.2-9.7 3.2-11.4 4.6-3.5-4.5-8.3-9.3-12.9-9.6-2.1-.1-4 .7-5.5 2.3-2.2 2.4-2.4 4.8-2.1 6.3.7 3.9 4.7 7 7.9 8.6.2.1.3.2.5.2 2.8 1.3 8.1 3.7 5.2 12.4-1 3.1-2.5 5.8-4.4 7.9C-5.3 77.9.5 97.3 1.8 101c3.9 10.7 14.7 16.9 17.9 18.6 6 3.1 11.2 6.2 15.8 9.5.6.4 1.2.9 1.8 1.4 2.6 1.9 4.5 4.1 10.6 4.2h.6c6.1-.1 8.1-2.3 10.6-4.2.6-.4 1.2-.9 1.8-1.4 4.7-3.3 9.8-6.4 15.8-9.5 3.2-1.6 13.9-7.8 17.9-18.6 1.5-3.7 7.3-23.1-12.2-44.8zM47.3 3.4c.6-.4.9-.4 1-.4.1 0 .4-.1 1 .4 1.4 1.1 2.7 3.7 3.9 7.4-3.2.3-6.7.3-9.9-.1 1.3-3.7 2.7-6.2 4-7.3zm-4.5 10.2c1.9.2 3.9.4 5.9.4 1.8 0 3.5-.1 5.2-.3.9 2.9 1.8 5.4 2.6 9.3-2.3-.3-4.8-.5-7.7-.5H48c-2.9 0-5.5.2-7.7.5.7-3.9 1.6-6.4 2.5-9.4zm8.2 12 2.5 45.2c-1.6.3-3.3.5-5.2.5-1.8 0-3.6-.2-5.1-.5l2.5-45.3c.8 0 1.7-.1 2.6-.1 1 .1 1.9.1 2.7.2zm-9.8 44.7c-3.9-1.2-6.4-3.2-6.8-5.3 0-.6.1-1.2.1-1.8 1.2-12.9 2.9-26.3 5-37.2 1.3-.2 2.6-.3 4.1-.4l-2.4 44.7zm7.1 4c5.8 0 10.9-1.6 13.9-4.2-.4 5.2-1.9 9.2-4.6 11.9-3.5 3.5-8 3.8-9.4 3.8-1.4 0-5.9-.3-9.4-3.8-2.7-2.7-4.2-6.7-4.6-11.9 3.2 2.6 8.3 4.2 14.1 4.2zm7.2-4-2.4-44.6c1.5.1 2.8.3 4 .4 2.1 10.9 3.9 24.3 5 37.2.1.6.1 1.2.1 1.8-.4 2-2.9 4-6.7 5.2zM92 100c-3.6 9.7-13.5 15.4-16.4 16.9-6.1 3.1-11.4 6.3-16.2 9.7-.7.5-1.3.9-1.9 1.4-2.4 1.8-4.2 3.5-9.2 3.6-4.9-.1-6.7-1.8-9.2-3.6-.6-.5-1.2-.9-1.9-1.4-4.8-3.4-10.1-6.5-16.2-9.7-2.9-1.5-12.8-7.2-16.4-16.9-1.2-3.4-6.5-21.4 11.8-41.8 2.1-2.4 3.9-5.5 5-8.9 3.7-11.2-4.2-14.9-6.8-16.1-.2-.1-.3-.2-.5-.2-2.7-1.3-5.7-3.8-6.2-6.4-.2-1.3.2-2.5 1.3-3.7.9-1 1.9-1.4 3.1-1.4 3.1.2 7.3 3.7 11.7 9.7l1.2 1.7 1.2-1.7s2.3-2.8 9.8-4.5C33.6 40.6 32 56.1 31.4 63c0 .5-.1 1-.1 1.5v.1c-.5 8.8 1.3 15.3 5.5 19.5 4.1 4.1 9.1 4.6 11.2 4.7H48.6c2.1 0 7.1-.6 11.2-4.7 4.2-4.2 6-10.8 5.5-19.5v-.1c0-.5-.1-1-.1-1.5-.6-6.9-2.2-22.4-4.8-36.3 7.5 1.7 9.7 4.5 9.8 4.5l1.2 1.7 1.2-1.7c4.4-6 8.7-9.5 11.7-9.7 1.2-.1 2.2.4 3.1 1.4 1.1 1.2 1.6 2.4 1.3 3.7-.5 2.6-3.6 5.1-6.2 6.4-.1.1-.3.1-.5.2-2.6 1.2-10.5 4.8-6.8 16.1 1.1 3.4 2.9 6.5 5 8.9C98.5 78.6 93.2 96.6 92 100z",className:"st6"}),l.jsx("path",{d:"M66.6 89.6c2.8-2.7.7-4.8-.7-4.8-1 0-1.8 0-3.3 2.8-1 1.8-3.2 4.4-3.2 4.4s4.4.3 7.2-2.4zM37.1 92s-2.2-2.7-3.2-4.4c-1.5-2.8-2.2-2.8-3.3-2.8-1.4 0-3.5 2.1-.7 4.8s7.2 2.4 7.2 2.4zM79 68.3c.2-.4.3-.8.4-1.3.3-1.8.2-3.6-.8-5.9-1.2-2.9-3.4-6.6-7.2-7.2-2.1-.3-4.5 1.1-4.8 3.8-.2 1.8.4 3.5 1.3 5.2 1 1.8 1.9 3.2 3 4.4.4.5.8.9 1.2 1.2 1.2 1.1 2.2 1.7 3.1 1.9-.8.9-1.5 2.1-1.6 3.3 1.1-1.2 2.4-2.5 3.5-3.3 1.6-1 3.2-1.5 5.2-1.8-1-.4-2.1-.5-3.3-.3zm-.6-1.5c-.2.6-.4 1-.7 1.5.1-1 .2-2.1-.3-3.6-.5-1.8-.7-2.1-1.3-2.9.1.2.2.4.2.6.1.9-.3 1.7-1.1 1.8-.7.1-1.4-.5-1.6-1.4-.1-.9.3-1.7 1.1-1.8.4-.1.8.1 1.1.4-.7-.9-1.9-2.1-3.3-2.2-2.2-.1-3.3 1.4-3.2 3.1.1.6.5 1.8 1 2.9-.6-.8-1.2-1.6-1.6-2.7-2.1-5.5 3.1-7 5.3-5.6 1.9 1.2 2.6 2.6 3.5 4.6 1 1.9 1.3 3.8.9 5.3zM25.2 53.9c-3.8.6-6 4.3-7.2 7.2-.9 2.3-1 4.1-.8 5.9.1.5.2.9.4 1.3-1.2-.2-2.3-.1-3.3.2 1.9.4 3.6.8 5.2 1.8 1.2.7 2.4 2.1 3.5 3.3-.1-1.2-.8-2.4-1.6-3.3.9-.2 1.9-.8 3.1-1.9l1.2-1.2c1.1-1.2 2-2.6 3-4.4.9-1.7 1.5-3.3 1.3-5.2-.3-2.6-2.7-4-4.8-3.7zm2.6 8.5c-.4 1.1-1 1.9-1.6 2.7.5-1.1 1-2.2 1-2.9.2-1.6-.9-3.1-3.2-3.1-1.5.1-2.7 1.3-3.3 2.2.3-.3.7-.5 1.1-.4.7.1 1.2.9 1.1 1.8-.1.9-.9 1.5-1.6 1.4-.7-.1-1.2-.9-1.1-1.8 0-.2.1-.4.2-.6-.6.8-.8 1.2-1.3 2.9-.4 1.6-.4 2.6-.3 3.6-.3-.4-.5-.9-.7-1.5-.4-1.5-.1-3.3.8-5.4.9-1.9 1.6-3.3 3.5-4.6 2.3-1.4 7.5.1 5.4 5.7z",className:"st6"}),l.jsx("path",{d:"M78.3 91.7c-.7-.1-3.1-.6-3.3.6-.3 1.3 2.1 1 2.7.9.4 0 .7 0 1 .1C76 104.5 63.4 113 48.3 113c-15.1 0-27.7-8.5-30.4-19.7.3-.1.7-.1 1-.1.7 0 3 .4 2.7-.9-.2-1.2-2.6-.7-3.3-.6-2.6.4-4.3 2.6-4 4.6.1.3.2.6.4.9-.1-1.5 1-3.2 2.7-3.8 1.1 12.5 14.6 23.2 30.7 23.3h.2c16.1-.1 29.5-10.8 30.7-23.3 1.7.6 2.8 2.3 2.7 3.8.2-.3.3-.6.4-.9.5-1.9-1.3-4.2-3.8-4.6z",className:"st6"})]}),Kt=({onFilter:s,defaultValues:e={},onChange:t,...r})=>{const n=ue.useForm()[0],a=d.useRef({}),[i,o]=d.useState(!0),p=ee(we),[g,y]=d.useState(Date.now()),{data:{data:m=[]}={}}=ge({queryKey:["query_tags"],queryFn:async()=>{Q.show();try{const c=await Y(J.获取模特标签,{});return Q.hide(),c}catch(c){throw Q.hide(),c}},enabled:!!p.auth,retry:!1}),{data:{data:{list:_=[]}={}}={}}=ge({queryFn:async()=>{const{category:c,gender:f,sub:u}=n.getFieldsValue(),h={};c!=null&&c.length&&!c.includes("0")&&(h.category=c),f!=null&&f.length&&!f.includes("0")&&(h.gender=f),u!=null&&u.length&&!u.includes("0")&&(h.sub=u),Q.show();try{const x=await Y(J.获取模特列表,h);return Q.hide(),x}catch(x){throw Q.hide(),x}},queryKey:[g],enabled:!!p.auth,retry:!1});d.useEffect(()=>{var c,f,u;e&&r.visible&&(n.setFieldsValue(e),o(((c=e.category)==null?void 0:c.includes("0"))||((f=e.category)==null?void 0:f.includes("1"))||!((u=e.category)!=null&&u.length)),setTimeout(()=>{a.current=e},100))},[e,n,r.visible]);const C=d.useCallback(c=>{const f={};for(const u in c)if(Object.prototype.hasOwnProperty.call(c,u)){const h=c[u];h!=null&&h.length&&(f[u]=h)}return f},[]),w=d.useCallback(c=>{const f=Object.keys(c)[0],u=Object.values(c)[0],h=a.current[f];if(h!=null&&h.includes("0")){if(u!=null&&u.length){const F=u.filter(H=>H!=="0");n.setFieldValue(f,F)}}else u!=null&&u.includes("0")&&n.setFieldValue(f,["0"]);const x=n.getFieldsValue();t==null||t(C(x)),a.current=x,f!=="poses_id"&&y(Date.now())},[n,C,t]),E=d.useCallback(()=>{const c=n.getFieldValue("category")||[];c!=null&&c.length?o(c.includes("0")||c.includes("1")):o(!0)},[n]);d.useEffect(()=>{r.visible&&(a.current=n.getFieldsValue())},[n,i,r.visible]);const R=d.useCallback(()=>{const{category:c,gender:f,sub:u,poses_id:h}=n.getFieldsValue(),x={};c!=null&&c.length&&!c.includes("0")&&(x.category=c),f!=null&&f.length&&!f.includes("0")&&(x.gender=f),u!=null&&u.length&&!u.includes("0")&&(x.sub=u),h!=null&&h.length&&!h.includes("0")&&(x.poses_id=h),s==null||s(x)},[n,s]);return l.jsx(at,{...r,children:p.auth?l.jsxs("div",{children:[l.jsx("div",{children:l.jsxs(ue,{form:n,onValuesChange:w,onFieldsChange:E,onFinish:R,children:[m==null?void 0:m.map((c,f)=>{const u=c.keys;return!i&&(c.name==="gender"||c.name==="sub")?null:l.jsx(de,{name:c.name,label:c.title,children:l.jsx(ye,{multiple:!0,options:Object.keys(u).map(h=>({label:u[h],value:h}))})},f)}),l.jsx(de,{name:"poses_id",label:"模特",children:l.jsx(ye,{style:{height:"30vh",overflowY:"auto"},multiple:!0,options:[{label:l.jsxs("div",{children:[l.jsx(je,{}),l.jsx("div",{children:"全部"})]}),value:"0"}].concat((_==null?void 0:_.map((c,f)=>({label:l.jsx(nt,{src:`https://www.dawenxi.art/poses/${c.url}`,fit:"contain"},f),value:c.poses_id})))||[])})})]})}),l.jsx("div",{style:{margin:"14px"},children:l.jsx(V,{type:"submit",block:!0,color:"primary",onClick:n.submit,children:"确定"})})]}):l.jsxs("div",{style:{height:"30vh",textAlign:"center"},children:[l.jsx($t,{width:"40Px"}),l.jsx("br",{}),"暂未激活"]})})},Vt=[{_id:"9fde2a9264fe4eaf0116fec23a7df284",category:"1",gender:"2",poses_id:"md310",poses_name:"md310",sub:["1"],url:"../poses/md310/884,489.jpg"},{_id:"9fde2a9264fe4eaf0116fec129de26e7",category:"1",gender:"2",poses_id:"md310",poses_name:"md310",sub:["1"],url:"../poses/md310/874,560.jpg"},{_id:"9fde2a9264fe4eaf0116fec060b572d8",category:"1",gender:"2",poses_id:"md310",poses_name:"md310",sub:["1"],url:"../poses/md310/864,567.jpg"},{_id:"9fde2a9264fe4eaf0116febf45fce7d3",category:"1",gender:"2",poses_id:"md310",poses_name:"md310",sub:["1"],url:"../poses/md310/854,610.jpg"},{_id:"9fde2a9264fe4eaf0116febe5445e866",category:"1",gender:"2",poses_id:"md310",poses_name:"md310",sub:["1"],url:"../poses/md310/844,579.jpg"},{_id:"9fde2a9264fe4eaf0116febd1a57ed74",category:"1",gender:"2",poses_id:"md310",poses_name:"md310",sub:["1"],url:"../poses/md310/84,075.jpg"},{_id:"9fde2a9264fe4eaf0116febc19a18d95",category:"1",gender:"2",poses_id:"md310",poses_name:"md310",sub:["1"],url:"../poses/md310/834,621.jpg"},{_id:"9fde2a9264fe4eaf0116febb3ff56006",category:"1",gender:"2",poses_id:"md310",poses_name:"md310",sub:["1"],url:"../poses/md310/824,620.jpg"},{_id:"9fde2a9264fe4eaf0116feba3c688529",category:"1",gender:"2",poses_id:"md310",poses_name:"md310",sub:["1"],url:"../poses/md310/814,540.jpg"},{_id:"9fde2a9264fe4eaf0116feb96dc5eaff",category:"1",gender:"2",poses_id:"md310",poses_name:"md310",sub:["1"],url:"../poses/md310/804,570.jpg"},{_id:"9fde2a9264fe4eaf0116feb83dacfd36",category:"1",gender:"2",poses_id:"md310",poses_name:"md310",sub:["1"],url:"../poses/md310/794,195.jpg"},{_id:"9fde2a9264fe4eaf0116feb740f754c1",category:"1",gender:"2",poses_id:"md310",poses_name:"md310",sub:["1"],url:"../poses/md310/784,416.jpg"},{_id:"9fde2a9264fe4eaf0116feb62ea1fb37",category:"1",gender:"2",poses_id:"md310",poses_name:"md310",sub:["1"],url:"../poses/md310/774,406.jpg"},{_id:"9fde2a9264fe4eaf0116feb52809e09a",category:"1",gender:"2",poses_id:"md310",poses_name:"md310",sub:["1"],url:"../poses/md310/764,201.jpg"},{_id:"9fde2a9264fe4eaf0116feb41c15576f",category:"1",gender:"2",poses_id:"md310",poses_name:"md310",sub:["1"],url:"../poses/md310/754,353.jpg"},{_id:"9fde2a9264fe4eaf0116feb31e1ee42e",category:"1",gender:"2",poses_id:"md310",poses_name:"md310",sub:["1"],url:"../poses/md310/744,248.jpg"},{_id:"9fde2a9264fe4eaf0116feb236706d34",category:"1",gender:"2",poses_id:"md310",poses_name:"md310",sub:["1"],url:"../poses/md310/74,112.jpg"},{_id:"9fde2a9264fe4eaf0116feb12df5e315",category:"1",gender:"2",poses_id:"md310",poses_name:"md310",sub:["1"],url:"../poses/md310/734,227.jpg"},{_id:"9fde2a9264fe4eaf0116feb009c08bfb",category:"1",gender:"2",poses_id:"md310",poses_name:"md310",sub:["1"],url:"../poses/md310/724,343.jpg"},{_id:"9fde2a9264fe4eaf0116feaf3c5c629f",category:"1",gender:"2",poses_id:"md310",poses_name:"md310",sub:["1"],url:"../poses/md310/714,341.jpg"},{_id:"9fde2a9264fe4eaf0116feae3701efc6",category:"1",gender:"2",poses_id:"md310",poses_name:"md310",sub:["1"],url:"../poses/md310/704,290.jpg"},{_id:"9fde2a9264fe4eaf0116fead20f4b9f9",category:"1",gender:"2",poses_id:"md310",poses_name:"md310",sub:["1"],url:"../poses/md310/694,383.jpg"},{_id:"9fde2a9264fe4eaf0116feac364f07f0",category:"1",gender:"2",poses_id:"md310",poses_name:"md310",sub:["1"],url:"../poses/md310/684,403.jpg"},{_id:"9fde2a9264fe4eaf0116feab571dacb0",category:"1",gender:"2",poses_id:"md310",poses_name:"md310",sub:["1"],url:"../poses/md310/674,182.jpg"}],ve=10,qt=({name:s="选择素材"})=>{Ye(s);const{selected:e}=ee(N),{auth:t}=ee(we),r=Ve(),[n,a]=d.useState(!1),[i,o]=d.useState(!1),[p,g]=d.useState({}),y=he("(min-width: 768px)"),m=he("(min-width: 1024px)"),_={cols:3,gap:10};y&&(_.cols=6),m&&(_.cols=8);const C=d.useRef(!0),w=d.useCallback(async({page:v})=>Y(J.获取模特,{...p,page:v,size:ve}).catch(L=>{throw C.current=!1,L}),[p]),{isLoading:E,data:R,fetchNextPage:c,isFetchedAfterMount:f,isError:u}=Rt({queryKey:[p],queryFn:({pageParam:v})=>w(v||{page:1}),getNextPageParam:(v,L)=>{var ae;console.log("lastPage",v);const S=(ae=v.data)==null?void 0:ae.total_count,k=L.length,Fe=L.length*ve;if(S>Fe)return C.current=!0,{page:k+1};C.current=!1},enabled:!!t,refetchOnWindowFocus:!1}),h=(R==null?void 0:R.pages.flatMap(v=>{var L,S;return(L=v.data)!=null&&L.list?(S=v.data)==null?void 0:S.list:[]}))||[],x=d.useCallback((v,L)=>{var S;v||(N.selected=(N.selected||[]).concat(L)),v&&(N.selected=(S=N.selected)==null?void 0:S.filter(k=>k._id!==L._id))},[]),F=d.useCallback(()=>{a(!1)},[]),H=d.useCallback(()=>{if(!(e!=null&&e.length)){qe.show("请先选择图片");return}r("/view")},[r,e==null?void 0:e.length]),j=d.useCallback(v=>{o(!1),g(v)},[]),I=it(),Z=d.useCallback(()=>{$.show({content:l.jsx(st,{onSucess:()=>$.clear(),onGetSN:()=>{$.clear(),I()},onCancel:()=>$.clear()}),actions:[]})},[I]);return l.jsxs("div",{className:z.root,children:[!(h!=null&&h.length)&&f?l.jsx(xe,{justify:"center",block:!0,style:{paddingTop:"30Px"},children:"暂无数据"}):null,E&&!f&&t?l.jsx(Ze,{}):null,l.jsx("wc-waterfall",{..._,children:h.map((v,L)=>{const S=e==null?void 0:e.some(k=>v._id===k._id);return l.jsx(fe,{src:v==null?void 0:v.url,toggleType:S?["icon"]:["block","icon"],selected:S,onToggle:k=>x(k,v)},L)})}),t?null:l.jsxs(l.Fragment,{children:[l.jsx("wc-waterfall",{..._,children:Vt.map((v,L)=>{const S=e==null?void 0:e.some(k=>v._id===k._id);return l.jsx(fe,{src:v==null?void 0:v.url,toggleType:S?["icon"]:["block","icon"],selected:S,onToggle:k=>x(k,v)},L)})}),l.jsx("p",{style:{textAlign:"center"},onClick:Z,children:"查看更多素材请先激活产品"})]}),!u&&(h!=null&&h.length)?l.jsx(kt,{loadMore:c,hasMore:C.current}):null,l.jsx(tt,{visible:n,onMaskClick:()=>a(!1),onClear:F}),l.jsxs("div",{className:z.menu,children:[l.jsx(V,{shape:"rounded",color:"primary",className:z.btn,onClick:()=>a(!0),children:l.jsx(Je,{content:(e==null?void 0:e.length)||null,children:l.jsx(je,{fontSize:24})})}),l.jsx("br",{}),l.jsx(V,{shape:"rounded",color:"primary",className:z.btn,onClick:()=>o(!0),children:l.jsx(Et,{fontSize:24})}),l.jsx("br",{}),e!=null&&e.length?l.jsx(V,{shape:"rounded",color:"danger",className:z.btn,onClick:H,children:l.jsx(rt,{fontSize:24})}):null]}),l.jsx(Kt,{visible:i,onMaskClick:()=>o(!1),defaultValues:p,onFilter:j,onChange:v=>console.log("change",v)})]})},as=qt;export{as as default};
