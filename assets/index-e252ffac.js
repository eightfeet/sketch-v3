import{S as Ie,s as J,n as Te,i as ne,a as ae,t as Me,f as je,c as _e,r as ie,b as Qe,d as A,e as le,h as Ne,g as $e,k as c,u as Ae,p as Be,_ as De,l as We,m as Ue,o as re,q as ze,R as o,v as U,w as j,x as q,y as Ve,z as He,A as Ze,B as Xe,C as pe,D as qe,j as y,E as Ge,F as Ke}from"./index-557c12ea.js";import{S as ge,u as Ye}from"./useDocumentTitle-5a665c52.js";import{s as Je,_ as X,a as et,b as ve,c as ye,i as tt,d as rt,u as st,e as nt,I as at,f as be,g as it,t as G,h as lt,R as ct,P as ot,F as ce,j as ut,B as dt,k as z,l as ft,m as oe,r as N,N as ht,n as mt,S as pt}from"./bundle-ee677a2b.js";class gt extends Ie{constructor(e,r){super(),this.client=e,this.options=r,this.trackedProps=new Set,this.selectError=null,this.bindMethods(),this.setOptions(r)}bindMethods(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.currentQuery.addObserver(this),ue(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return ee(this.currentQuery,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return ee(this.currentQuery,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.clearStaleTimeout(),this.clearRefetchInterval(),this.currentQuery.removeObserver(this)}setOptions(e,r){const s=this.options,n=this.currentQuery;if(this.options=this.client.defaultQueryOptions(e),J(s,this.options)||this.client.getQueryCache().notify({type:"observerOptionsUpdated",query:this.currentQuery,observer:this}),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=s.queryKey),this.updateQuery();const a=this.hasListeners();a&&de(this.currentQuery,n,this.options,s)&&this.executeFetch(),this.updateResult(r),a&&(this.currentQuery!==n||this.options.enabled!==s.enabled||this.options.staleTime!==s.staleTime)&&this.updateStaleTimeout();const i=this.computeRefetchInterval();a&&(this.currentQuery!==n||this.options.enabled!==s.enabled||i!==this.currentRefetchInterval)&&this.updateRefetchInterval(i)}getOptimisticResult(e){const r=this.client.getQueryCache().build(this.client,e),s=this.createResult(r,e);return yt(this,s,e)&&(this.currentResult=s,this.currentResultOptions=this.options,this.currentResultState=this.currentQuery.state),s}getCurrentResult(){return this.currentResult}trackResult(e){const r={};return Object.keys(e).forEach(s=>{Object.defineProperty(r,s,{configurable:!1,enumerable:!0,get:()=>(this.trackedProps.add(s),e[s])})}),r}getCurrentQuery(){return this.currentQuery}remove(){this.client.getQueryCache().remove(this.currentQuery)}refetch({refetchPage:e,...r}={}){return this.fetch({...r,meta:{refetchPage:e}})}fetchOptimistic(e){const r=this.client.defaultQueryOptions(e),s=this.client.getQueryCache().build(this.client,r);return s.isFetchingOptimistic=!0,s.fetch().then(()=>this.createResult(s,r))}fetch(e){var r;return this.executeFetch({...e,cancelRefetch:(r=e.cancelRefetch)!=null?r:!0}).then(()=>(this.updateResult(),this.currentResult))}executeFetch(e){this.updateQuery();let r=this.currentQuery.fetch(this.options,e);return e!=null&&e.throwOnError||(r=r.catch(Te)),r}updateStaleTimeout(){if(this.clearStaleTimeout(),ne||this.currentResult.isStale||!ae(this.options.staleTime))return;const r=Me(this.currentResult.dataUpdatedAt,this.options.staleTime)+1;this.staleTimeoutId=setTimeout(()=>{this.currentResult.isStale||this.updateResult()},r)}computeRefetchInterval(){var e;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(e=this.options.refetchInterval)!=null?e:!1}updateRefetchInterval(e){this.clearRefetchInterval(),this.currentRefetchInterval=e,!(ne||this.options.enabled===!1||!ae(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(()=>{(this.options.refetchIntervalInBackground||je.isFocused())&&this.executeFetch()},this.currentRefetchInterval))}updateTimers(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())}clearStaleTimeout(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)}clearRefetchInterval(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)}createResult(e,r){const s=this.currentQuery,n=this.options,a=this.currentResult,i=this.currentResultState,l=this.currentResultOptions,d=e!==s,h=d?e.state:this.currentQueryInitialState,b=d?this.currentResult:this.previousQueryResult,{state:u}=e;let{dataUpdatedAt:E,error:f,errorUpdatedAt:m,fetchStatus:C,status:p}=u,w=!1,k=!1,x;if(r._optimisticResults){const v=this.hasListeners(),S=!v&&ue(e,r),O=v&&de(e,s,r,n);(S||O)&&(C=_e(e.options.networkMode)?"fetching":"paused",E||(p="loading")),r._optimisticResults==="isRestoring"&&(C="idle")}if(r.keepPreviousData&&!u.dataUpdatedAt&&b!=null&&b.isSuccess&&p!=="error")x=b.data,E=b.dataUpdatedAt,p=b.status,w=!0;else if(r.select&&typeof u.data<"u")if(a&&u.data===(i==null?void 0:i.data)&&r.select===this.selectFn)x=this.selectResult;else try{this.selectFn=r.select,x=r.select(u.data),x=ie(a==null?void 0:a.data,x,r),this.selectResult=x,this.selectError=null}catch(v){this.selectError=v}else x=u.data;if(typeof r.placeholderData<"u"&&typeof x>"u"&&p==="loading"){let v;if(a!=null&&a.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData))v=a.data;else if(v=typeof r.placeholderData=="function"?r.placeholderData():r.placeholderData,r.select&&typeof v<"u")try{v=r.select(v),this.selectError=null}catch(S){this.selectError=S}typeof v<"u"&&(p="success",x=ie(a==null?void 0:a.data,v,r),k=!0)}this.selectError&&(f=this.selectError,x=this.selectResult,m=Date.now(),p="error");const R=C==="fetching",L=p==="loading",g=p==="error";return{status:p,fetchStatus:C,isLoading:L,isSuccess:p==="success",isError:g,isInitialLoading:L&&R,data:x,dataUpdatedAt:E,error:f,errorUpdatedAt:m,failureCount:u.fetchFailureCount,failureReason:u.fetchFailureReason,errorUpdateCount:u.errorUpdateCount,isFetched:u.dataUpdateCount>0||u.errorUpdateCount>0,isFetchedAfterMount:u.dataUpdateCount>h.dataUpdateCount||u.errorUpdateCount>h.errorUpdateCount,isFetching:R,isRefetching:R&&!L,isLoadingError:g&&u.dataUpdatedAt===0,isPaused:C==="paused",isPlaceholderData:k,isPreviousData:w,isRefetchError:g&&u.dataUpdatedAt!==0,isStale:se(e,r),refetch:this.refetch,remove:this.remove}}updateResult(e){const r=this.currentResult,s=this.createResult(this.currentQuery,this.options);if(this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,J(s,r))return;this.currentResult=s;const n={cache:!0},a=()=>{if(!r)return!0;const{notifyOnChangeProps:i}=this.options,l=typeof i=="function"?i():i;if(l==="all"||!l&&!this.trackedProps.size)return!0;const d=new Set(l??this.trackedProps);return this.options.useErrorBoundary&&d.add("error"),Object.keys(this.currentResult).some(h=>{const b=h;return this.currentResult[b]!==r[b]&&d.has(b)})};(e==null?void 0:e.listeners)!==!1&&a()&&(n.listeners=!0),this.notify({...n,...e})}updateQuery(){const e=this.client.getQueryCache().build(this.client,this.options);if(e===this.currentQuery)return;const r=this.currentQuery;this.currentQuery=e,this.currentQueryInitialState=e.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(r==null||r.removeObserver(this),e.addObserver(this))}onQueryUpdate(e){const r={};e.type==="success"?r.onSuccess=!e.manual:e.type==="error"&&!Qe(e.error)&&(r.onError=!0),this.updateResult(r),this.hasListeners()&&this.updateTimers()}notify(e){A.batch(()=>{if(e.onSuccess){var r,s,n,a;(r=(s=this.options).onSuccess)==null||r.call(s,this.currentResult.data),(n=(a=this.options).onSettled)==null||n.call(a,this.currentResult.data,null)}else if(e.onError){var i,l,d,h;(i=(l=this.options).onError)==null||i.call(l,this.currentResult.error),(d=(h=this.options).onSettled)==null||d.call(h,void 0,this.currentResult.error)}e.listeners&&this.listeners.forEach(({listener:b})=>{b(this.currentResult)}),e.cache&&this.client.getQueryCache().notify({query:this.currentQuery,type:"observerResultsUpdated"})})}}function vt(t,e){return e.enabled!==!1&&!t.state.dataUpdatedAt&&!(t.state.status==="error"&&e.retryOnMount===!1)}function ue(t,e){return vt(t,e)||t.state.dataUpdatedAt>0&&ee(t,e,e.refetchOnMount)}function ee(t,e,r){if(e.enabled!==!1){const s=typeof r=="function"?r(t):r;return s==="always"||s!==!1&&se(t,e)}return!1}function de(t,e,r,s){return r.enabled!==!1&&(t!==e||s.enabled===!1)&&(!r.suspense||t.state.status!=="error")&&se(t,r)}function se(t,e){return t.isStaleByTime(e.staleTime)}function yt(t,e,r){return r.keepPreviousData?!1:r.placeholderData!==void 0?e.isPlaceholderData:!J(t.getCurrentResult(),e)}class bt extends gt{constructor(e,r){super(e,r)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(e,r){super.setOptions({...e,behavior:le()},r)}getOptimisticResult(e){return e.behavior=le(),super.getOptimisticResult(e)}fetchNextPage({pageParam:e,...r}={}){return this.fetch({...r,meta:{fetchMore:{direction:"forward",pageParam:e}}})}fetchPreviousPage({pageParam:e,...r}={}){return this.fetch({...r,meta:{fetchMore:{direction:"backward",pageParam:e}}})}createResult(e,r){var s,n,a,i,l,d;const{state:h}=e,b=super.createResult(e,r),{isFetching:u,isRefetching:E}=b,f=u&&((s=h.fetchMeta)==null||(n=s.fetchMore)==null?void 0:n.direction)==="forward",m=u&&((a=h.fetchMeta)==null||(i=a.fetchMore)==null?void 0:i.direction)==="backward";return{...b,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:Ne(r,(l=h.data)==null?void 0:l.pages),hasPreviousPage:$e(r,(d=h.data)==null?void 0:d.pages),isFetchingNextPage:f,isFetchingPreviousPage:m,isRefetching:E&&!f&&!m}}}const Ct=Je.useSyncExternalStore,Ce=c.createContext(!1),xt=()=>c.useContext(Ce);Ce.Provider;function Et(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}const Rt=c.createContext(Et()),wt=()=>c.useContext(Rt);function Lt(t,e){return typeof t=="function"?t(...e):!!t}const kt=(t,e)=>{(t.suspense||t.useErrorBoundary)&&(e.isReset()||(t.retryOnMount=!1))},St=t=>{c.useEffect(()=>{t.clearReset()},[t])},Pt=({result:t,errorResetBoundary:e,useErrorBoundary:r,query:s})=>t.isError&&!e.isReset()&&!t.isFetching&&Lt(r,[t.error,s]),Ft=t=>{t.suspense&&typeof t.staleTime!="number"&&(t.staleTime=1e3)},Ot=(t,e)=>t.isLoading&&t.isFetching&&!e,It=(t,e,r)=>(t==null?void 0:t.suspense)&&Ot(e,r),Tt=(t,e,r)=>e.fetchOptimistic(t).then(({data:s})=>{t.onSuccess==null||t.onSuccess(s),t.onSettled==null||t.onSettled(s,null)}).catch(s=>{r.clearReset(),t.onError==null||t.onError(s),t.onSettled==null||t.onSettled(void 0,s)});function Mt(t,e){const r=Ae({context:t.context}),s=xt(),n=wt(),a=r.defaultQueryOptions(t);a._optimisticResults=s?"isRestoring":"optimistic",a.onError&&(a.onError=A.batchCalls(a.onError)),a.onSuccess&&(a.onSuccess=A.batchCalls(a.onSuccess)),a.onSettled&&(a.onSettled=A.batchCalls(a.onSettled)),Ft(a),kt(a,n),St(n);const[i]=c.useState(()=>new e(r,a)),l=i.getOptimisticResult(a);if(Ct(c.useCallback(d=>{const h=s?()=>{}:i.subscribe(A.batchCalls(d));return i.updateResult(),h},[i,s]),()=>i.getCurrentResult(),()=>i.getCurrentResult()),c.useEffect(()=>{i.setOptions(a,{listeners:!1})},[a,i]),It(a,l,s))throw Tt(a,i,n);if(Pt({result:l,errorResetBoundary:n,useErrorBoundary:a.useErrorBoundary,query:i.getCurrentQuery()}))throw l.error;return a.notifyOnChangeProps?l:i.trackResult(l)}function jt(t,e,r){const s=Be(t,e,r);return Mt(s,bt)}var _t=De,Qt=function(){return _t.Date.now()},Nt=Qt,$t=/\s/;function At(t){for(var e=t.length;e--&&$t.test(t.charAt(e)););return e}var Bt=At,Dt=Bt,Wt=/^\s+/;function Ut(t){return t&&t.slice(0,Dt(t)+1).replace(Wt,"")}var zt=Ut,Vt=We,Ht=Ue,Zt="[object Symbol]";function Xt(t){return typeof t=="symbol"||Ht(t)&&Vt(t)==Zt}var qt=Xt,Gt=zt,fe=re,Kt=qt,he=0/0,Yt=/^[-+]0x[0-9a-f]+$/i,Jt=/^0b[01]+$/i,er=/^0o[0-7]+$/i,tr=parseInt;function rr(t){if(typeof t=="number")return t;if(Kt(t))return he;if(fe(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=fe(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Gt(t);var r=Jt.test(t);return r||er.test(t)?tr(t.slice(2),r?2:8):Yt.test(t)?he:+t}var sr=rr,nr=re,K=Nt,me=sr,ar="Expected a function",ir=Math.max,lr=Math.min;function cr(t,e,r){var s,n,a,i,l,d,h=0,b=!1,u=!1,E=!0;if(typeof t!="function")throw new TypeError(ar);e=me(e)||0,nr(r)&&(b=!!r.leading,u="maxWait"in r,a=u?ir(me(r.maxWait)||0,e):a,E="trailing"in r?!!r.trailing:E);function f(g){var F=s,v=n;return s=n=void 0,h=g,i=t.apply(v,F),i}function m(g){return h=g,l=setTimeout(w,e),b?f(g):i}function C(g){var F=g-d,v=g-h,S=e-F;return u?lr(S,a-v):S}function p(g){var F=g-d,v=g-h;return d===void 0||F>=e||F<0||u&&v>=a}function w(){var g=K();if(p(g))return k(g);l=setTimeout(w,C(g))}function k(g){return l=void 0,E&&s?f(g):(s=n=void 0,i)}function x(){l!==void 0&&clearTimeout(l),h=0,s=d=n=l=void 0}function R(){return l===void 0?i:k(K())}function L(){var g=K(),F=p(g);if(s=arguments,n=this,d=g,F){if(l===void 0)return m(d);if(u)return clearTimeout(l),l=setTimeout(w,e),f(d)}return l===void 0&&(l=setTimeout(w,e)),i}return L.cancel=x,L.flush=R,L}var or=cr,ur=or,dr=re,fr="Expected a function";function hr(t,e,r){var s=!0,n=!0;if(typeof t!="function")throw new TypeError(fr);return dr(r)&&(s="leading"in r?!!r.leading:s,n="trailing"in r?!!r.trailing:n),ur(t,e,{leading:s,maxWait:e,trailing:n})}var mr=hr;const pr=ze(mr);function gr(t){var e=this,r=c.useRef(!1);return c.useCallback(function(){for(var s=[],n=0;n<arguments.length;n++)s[n]=arguments[n];return X(e,void 0,void 0,function(){var a,i;return et(this,function(l){switch(l.label){case 0:if(r.current)return[2];r.current=!0,l.label=1;case 1:return l.trys.push([1,3,,4]),[4,t.apply(void 0,ve([],ye(s),!1))];case 2:return a=l.sent(),r.current=!1,[2,a];case 3:throw i=l.sent(),r.current=!1,i;case 4:return[2]}})})},[t])}function vr(t,e){var r;tt&&(rt(t)||console.error("useThrottleFn expected parameter is a function, got ".concat(typeof t)));var s=st(t),n=(r=e==null?void 0:e.wait)!==null&&r!==void 0?r:1e3,a=c.useMemo(function(){return pr(function(){for(var i=[],l=0;l<arguments.length;l++)i[l]=arguments[l];return s.current.apply(s,ve([],ye(i),!1))},n,e)},[]);return nt(function(){a.cancel()}),{run:a,cancel:a.cancel,flush:a.flush}}function yr(t){return c.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},t,{style:Object.assign({verticalAlign:"-0.125em"},t.style),className:["antd-mobile-icon",t.className].filter(Boolean).join(" ")}),c.createElement("g",{id:"FilterOutline-FilterOutline",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},c.createElement("g",{id:"FilterOutline-编组"},c.createElement("rect",{id:"FilterOutline-矩形",fill:"#FFFFFF",opacity:0,x:0,y:0,width:48,height:48}),c.createElement("path",{d:"M38,4 C40.209139,4 42,5.76907707 42,7.95134424 L42,10.9773332 C42,11.5050389 41.7864467,12.0082085 41.4113229,12.3772068 L30,22.7810491 L30,37.3492129 C30,38.7371734 29.2628047,40.0233629 28.057983,40.7374627 L21.0289915,43.7181542 C20.081831,44.2795378 18.8533105,43.9761435 18.2850141,43.0405042 C18.0985157,42.7334543 18,42.3821079 18,42.0240293 L18,22.7810491 L6.7196312,12.4950865 C6.26364602,12.119721 6,11.5636728 6,10.9773332 L6,7.95134424 C6,5.76907707 7.790861,4 10,4 L38,4 Z M38,6.96350818 L10,6.96350818 C9.48716416,6.96350818 9.06449284,7.3448526 9.00672773,7.83614169 L9,7.95134424 L9,10.3374937 C9,10.450388 9.04770634,10.5580256 9.13134834,10.6338487 L20.8686517,21.2739462 C20.9522937,21.3497694 21,21.4574069 21,21.5703012 L21,39.7002583 C21,39.9211722 21.1790861,40.1002583 21.4,40.1002583 C21.4482784,40.1002583 21.496158,40.0915183 21.5413228,40.0744612 L26.5144958,38.1962754 L26.5144958,38.1962754 C26.7780505,38.0400661 26.9520986,37.7743552 26.9914926,37.477912 L27,37.3492129 L27,21.5702904 C27,21.4574024 27.047701,21.3497702 27.1313349,21.2739476 L38.8686651,10.6328595 C38.952299,10.5570368 39,10.4494047 39,10.3365167 L39,7.95134424 L39,7.95134424 C39,7.4447465 38.6139598,7.02721653 38.1166211,6.97015407 L38,6.96350818 Z M42,36.0229179 L42,38.186426 C42,38.4073399 41.8209139,38.586426 41.6,38.586426 L34.4,38.586426 C34.1790861,38.586426 34,38.4073399 34,38.186426 L34,36.0229179 C34,35.802004 34.1790861,35.6229179 34.4,35.6229179 L41.6,35.6229179 C41.8209139,35.6229179 42,35.802004 42,36.0229179 Z M42,30.0959015 L42,32.2594097 C42,32.4803236 41.8209139,32.6594097 41.6,32.6594097 L34.4,32.6594097 C34.1790861,32.6594097 34,32.4803236 34,32.2594097 L34,30.0959015 C34,29.8749876 34.1790861,29.6959015 34.4,29.6959015 L41.6,29.6959015 C41.8209139,29.6959015 42,29.8749876 42,30.0959015 Z M42,24.1688851 L42,26.3323933 C42,26.5533072 41.8209139,26.7323933 41.6,26.7323933 L34.4,26.7323933 C34.1790861,26.7323933 34,26.5533072 34,26.3323933 L34,24.1688851 C34,23.9479712 34.1790861,23.7688851 34.4,23.7688851 L41.6,23.7688851 C41.8209139,23.7688851 42,23.9479712 42,24.1688851 Z",id:"FilterOutline-形状",fill:"currentColor",fillRule:"nonzero"}))))}function xe(t){return c.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},t,{style:Object.assign({verticalAlign:"-0.125em"},t.style),className:["antd-mobile-icon",t.className].filter(Boolean).join(" ")}),c.createElement("g",{id:"PicturesOutline-PicturesOutline",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},c.createElement("g",{id:"PicturesOutline-编组"},c.createElement("rect",{id:"PicturesOutline-矩形",fill:"#FFFFFF",opacity:0,x:0,y:0,width:48,height:48}),c.createElement("path",{d:"M32,10 C35.3137085,10 38,12.6862915 38,16 L38,38 C38,41.3137085 35.3137085,44 32,44 L10,44 C6.6862915,44 4,41.3137085 4,38 L4,16 C4,12.6862915 6.6862915,10 10,10 L32,10 Z M32,13 L10,13 C8.40231912,13 7.09633912,14.24892 7.00509269,15.8237272 L7,16 L7,38 C7,39.5976809 8.24891996,40.9036609 9.82372721,40.9949073 L10,41 C13.1111111,41 15.4444444,41 17,41 C20.3333333,41 25.3333333,41 32,41 C33.5976809,41 34.9036609,39.75108 34.9949073,38.1762728 L35,38 L35,33.332 L30.7808252,29.1126218 C30.0818755,28.4136721 28.9683937,28.3819016 28.2317592,29.0173105 L28.1291748,29.1126218 L16.8091025,40.4319451 L16.242,40.9990101 L12,40.9990101 L26.6265729,26.372583 C28.18867,24.8104858 30.72133,24.8104858 32.2834271,26.372583 L35,29.089 L35,16 C35,14.4023191 33.75108,13.0963391 32.1762728,13.0050927 L32,13 Z M38,4 C41.3137085,4 44,6.6862915 44,10 L44,34 L41,34 L41,10 C41,8.40231912 39.75108,7.09633912 38.1762728,7.00509269 L38,7 L14,7 L14,4 L38,4 Z M14.5,16 C16.9852814,16 19,18.0147186 19,20.5 C19,22.9852814 16.9852814,25 14.5,25 C12.0147186,25 10,22.9852814 10,20.5 C10,18.0147186 12.0147186,16 14.5,16 Z M14.5,19 C13.6715729,19 13,19.6715729 13,20.5 C13,21.3284271 13.6715729,22 14.5,22 C15.3284271,22 16,21.3284271 16,20.5 C16,19.6715729 15.3284271,19 14.5,19 Z",id:"PicturesOutline-形状",fill:"currentColor",fillRule:"nonzero"}))))}const br=c.memo(()=>o.createElement("svg",{className:"adm-avatar-fallback",width:"88px",height:"88px",viewBox:"0 0 88 88",version:"1.1"},o.createElement("title",null,"编组 3"),o.createElement("defs",null,o.createElement("polygon",{id:"path-1",points:"0 0 88 0 88 88 0 88"})),o.createElement("g",{id:"页面-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},o.createElement("g",{id:"语雀",transform:"translate(-495.000000, -71.000000)"},o.createElement("g",{id:"编组-3",transform:"translate(495.000000, 71.000000)"},o.createElement("mask",{id:"mask-2",fill:"white"},o.createElement("use",{xlinkHref:"#path-1"})),o.createElement("use",{id:"Mask",fill:"#EEEEEE",fillRule:"nonzero",xlinkHref:"#path-1"}),o.createElement("path",{d:"M44.5707528,16 L43.4292117,16 L42.9575197,16.0086403 L42.9575195,16.0086403 C36.5215787,16.2615464 31.4341803,21.5678078 31.4344832,28.0273864 L31.4344832,34.7776551 L31.4495601,35.3716788 L31.4495593,35.3716628 C31.599687,38.5368723 32.9422041,41.5269327 35.2058513,43.7376716 L38.2147759,46.6775505 L38.4086219,46.8913989 C38.7747759,47.3385365 38.9750835,47.9001589 38.9750835,48.4833848 L38.9750835,48.8938006 L38.9556989,49.1897326 L38.9556989,49.1897325 C38.8577746,49.9812662 38.3754713,50.67284 37.667703,51.036605 L18.7375269,60.7440265 L18.4101421,60.9276334 L18.4101423,60.9276333 C16.9141658,61.8418636 16.0009389,63.4714674 16,65.2283758 L16,66.070809 L16.0129231,66.3948217 C16.1766149,68.4123376 17.860922,70 19.91569,70 L68.0843101,70 L68.08431,70 C70.2460467,70 71.9988087,68.243122 72,66.0751224 L72,65.2326893 C72,63.3382982 70.9446194,61.6037466 69.2624598,60.7440295 L50.3322837,51.036608 L50.3322835,51.0366079 C49.5291218,50.6249082 49.0240448,49.7962466 49.024903,48.8916436 L49.024903,48.4812278 C49.024903,47.8029608 49.3005955,47.1527756 49.7852106,46.6775603 L52.7941352,43.7376813 L52.7941354,43.7376811 C55.204308,41.3832325 56.5636029,38.151975 56.5633606,34.7776456 L56.5633606,28.0273769 L56.5633606,28.0273774 C56.5633606,21.3848531 51.1940878,16 44.5707524,16 L44.5707528,16 Z",id:"形状",fill:"#CCCCCC",fillRule:"nonzero",mask:"url(#mask-2)"})))))),Cr="adm-avatar",xr={fallback:o.createElement(br,null),fit:"cover"},Er=t=>{const e=U(xr,t);return j(e,o.createElement(at,{className:Cr,src:e.src,fallback:e.fallback,placeholder:e.fallback,alt:e.alt,lazy:e.lazy,fit:e.fit,onClick:e.onClick,onError:e.onError,onLoad:e.onLoad}))};const _="adm-badge",Ee=o.createElement(o.Fragment,null),Rr=t=>{const{content:e,color:r,children:s}=t,n=e===Ee,a=q(_,!!s&&`${_}-fixed`,n&&`${_}-dot`,t.bordered&&`${_}-bordered`),i=e||e===0?j(t,o.createElement("div",{className:a,style:{"--color":r}},!n&&o.createElement("div",{className:`${_}-content`},e))):null;return s?o.createElement("div",{className:q(`${_}-wrapper`,t.wrapperClassName),style:t.wrapperStyle},s,i):i},wr=be(Rr,{dot:Ee});const V="adm-floating-bubble",Lr={axis:"y",defaultOffset:{x:0,y:0}},kr=t=>{const e=U(Lr,t),r=c.useRef(null),s=c.useRef(null),[n,a]=c.useState(e.offset===void 0?e.defaultOffset:e.offset);c.useEffect(()=>{e.offset!==void 0&&h.start({x:e.offset.x,y:e.offset.y})},[e.offset]);const[{x:i,y:l,opacity:d},h]=Ve(()=>({x:n.x,y:n.y,opacity:1})),b=it(u=>{var E;let f=u.offset[0],m=u.offset[1];if(u.last&&e.magnetic){const p=r.current,w=s.current;if(!p||!w)return;const k=p.getBoundingClientRect(),x=w.getBoundingClientRect();if(e.magnetic==="x"){const R=i.goal-i.get(),L=x.left+R-k.left,g=k.right-(x.right+R);g<=L?f+=g:f-=L}else if(e.magnetic==="y"){const R=l.goal-l.get(),L=x.top+R-k.top,g=k.bottom-(x.bottom+R);g<=L?m+=g:m-=L}}const C={x:f,y:m};e.offset===void 0?h.start(C):a(C),(E=e.onOffsetChange)===null||E===void 0||E.call(e,C),h.start({opacity:u.active?.8:1})},{axis:e.axis==="xy"?void 0:e.axis,pointer:{touch:!0},filterTaps:!0,bounds:r,from:()=>[i.get(),l.get()]});return j(e,o.createElement("div",{className:V},o.createElement("div",{className:`${V}-boundary-outer`},o.createElement("div",{className:`${V}-boundary`,ref:r})),o.createElement(He.div,Object.assign({},b(),{style:{opacity:d,transform:Ze([i,l],(u,E)=>`translate(${u}px, ${E}px)`)},onClick:e.onClick,className:`${V}-button`,ref:s}),e.children)))};const Re="adm-grid",Sr=t=>{const e={"--columns":t.columns.toString()},{gap:r}=t;return r!==void 0&&(Array.isArray(r)?(e["--gap-horizontal"]=G(r[0]),e["--gap-vertical"]=G(r[1])):e["--gap"]=G(r)),j(t,o.createElement("div",{className:Re,style:e},t.children))},Pr=t=>{const e=U({span:1},t),r={"--item-span":e.span};return j(e,o.createElement("div",{className:`${Re}-item`,style:r,onClick:e.onClick},e.children))},Fr=be(Sr,{Item:Pr});function Or(t){return t===window}const we="adm-infinite-scroll",Ir={threshold:250,children:(t,e,r)=>o.createElement(Mr,{hasMore:t,failed:e,retry:r})},Tr=t=>{const e=U(Ir,t),[r,s]=c.useState(!1),n=gr(f=>X(void 0,void 0,void 0,function*(){try{yield e.loadMore(f)}catch(m){throw s(!0),m}})),a=c.useRef(null),[i,l]=c.useState({}),d=c.useRef(i),[h,b]=c.useState(),{run:u}=vr(()=>X(void 0,void 0,void 0,function*(){if(d.current!==i||!e.hasMore)return;const f=a.current;if(!f||!f.offsetParent)return;const m=Xe(f);if(b(m),!m)return;const p=f.getBoundingClientRect().top;if((Or(m)?window.innerHeight:m.getBoundingClientRect().bottom)>=p-e.threshold){const k={};d.current=k,yield n(!1),l(k)}}),{wait:100,leading:!0,trailing:!0});c.useEffect(()=>{u()}),c.useEffect(()=>{if(!a.current||!h)return;function m(){u()}return h.addEventListener("scroll",m),()=>{h.removeEventListener("scroll",m)}},[h]);function E(){return X(this,void 0,void 0,function*(){s(!1),yield n(!0),l(d.current)})}return j(e,o.createElement("div",{className:we,ref:a},typeof e.children=="function"?e.children(e.hasMore,r,E):e.children))},Mr=t=>{const{locale:e}=pe();return t.hasMore?t.failed?o.createElement("span",null,o.createElement("span",{className:`${we}-failed-text`},e.InfiniteScroll.failedToLoad),o.createElement("a",{onClick:()=>{t.retry()}},e.InfiniteScroll.retry)):o.createElement(o.Fragment,null,o.createElement("span",null,e.common.loading),o.createElement(qe,null)):o.createElement("span",null,e.InfiniteScroll.noMore)};const jr=c.memo(()=>o.createElement("svg",{width:"17px",height:"13px",viewBox:"0 0 17 13",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},o.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",strokeLinecap:"round",strokeLinejoin:"round"},o.createElement("g",{transform:"translate(-2832.000000, -1103.000000)",stroke:"#FFFFFF",strokeWidth:"3"},o.createElement("g",{transform:"translate(2610.000000, 955.000000)"},o.createElement("g",{transform:"translate(24.000000, 91.000000)"},o.createElement("g",{transform:"translate(179.177408, 36.687816)"},o.createElement("polyline",{points:"34.2767388 22 24.797043 31.4796958 21 27.6826527"})))))))),M="adm-selector",_r={multiple:!1,defaultValue:[],showCheckMark:!0},H=t=>{const e=U(_r,t),[r,s]=lt({value:e.value,defaultValue:e.defaultValue,onChange:i=>{var l;const d={get items(){return e.options.filter(h=>i.includes(h.value))}};(l=e.onChange)===null||l===void 0||l.call(e,i,d)}}),{locale:n}=pe(),a=e.options.map(i=>{const l=(r||[]).includes(i.value),d=i.disabled||e.disabled,h=q(`${M}-item`,{[`${M}-item-active`]:l&&!e.multiple,[`${M}-item-multiple-active`]:l&&e.multiple,[`${M}-item-disabled`]:d});return o.createElement("div",{key:i.value,className:h,onClick:()=>{if(!d)if(e.multiple){const b=l?r.filter(u=>u!==i.value):[...r,i.value];s(b)}else{const b=l?[]:[i.value];s(b)}},role:"option","aria-selected":l&&!e.multiple||l&&e.multiple},i.label,i.description&&o.createElement("div",{className:`${M}-item-description`},i.description),l&&e.showCheckMark&&o.createElement("div",{className:`${M}-check-mark-wrapper`},o.createElement(jr,null)))});return j(e,o.createElement("div",{className:M,role:"listbox","aria-label":n.Selector.name},!e.columns&&o.createElement(ge,{wrap:!0},a),e.columns&&o.createElement(Fr,{columns:e.columns},a)))};function P(t,e,r,s){if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?s:r==="a"?s.call(t):s?s.value:e.get(t)}function $(t,e,r,s,n){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!n)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?n.call(t,r):n?n.value=r:e.set(t,r),r}function Qr(t,e){e===void 0&&(e={});var r=e.insertAt;if(!(!t||typeof document>"u")){var s=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",r==="top"&&s.firstChild?s.insertBefore(n,s.firstChild):s.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}}var Nr=`wc-waterfall {\r
  position: relative;\r
  display: block;\r
  box-sizing: content-box !important;\r
}\r
      \r
wc-waterfall > * {\r
  position: absolute;\r
  box-sizing: border-box;\r
}\r
`;Qr(Nr);function $r(t){let e=0;for(let r=0;r<t.length;r++)e=t[e]<=t[r]?e:r;return e}function Ar(t,{getW:e,setW:r,getH:s,setH:n,getPad:a,setX:i,setY:l,getChildren:d},{cols:h,gap:b}){const[u,E,f,m]=a(t),C=d(t),p=C.length;if(p){const w=(e(t)-b*(h-1)-(m+E))/h;Array.prototype.forEach.call(C,R=>r(R,w));const k=Array.prototype.map.call(C,R=>s(R)),x=Array(h).fill(u);for(let R=0;R<p;R++){const L=C[R],g=$r(x);l(L,x[g]),i(L,m+(w+b)*g),x[g]+=k[R]+b}n(t,Math.max(...x)-b+f)}else n(t,u+f)}var te,I,B,Q,D,Le;class W extends HTMLElement{constructor(){super(),te.add(this),Object.defineProperty(this,"_fl_w",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_fl_h",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),I.set(this,void 0),B.set(this,void 0),Q.set(this,void 0),D.set(this,!1)}get gap(){return+(this.getAttribute("gap")||W.default_props.gap)}set gap(e){this.setAttribute("gap",e+"")}get cols(){return+(this.getAttribute("cols")||W.default_props.cols)}set cols(e){this.setAttribute("cols",e+"")}connectedCallback(){$(this,I,new ResizeObserver(e=>e.some(({target:r})=>r._fl_w!=r.offsetWidth||r._fl_h!=r.offsetHeight)&&this.relayout()),"f"),P(this,I,"f").observe(this),Array.prototype.forEach.call(this.children,e=>P(this,I,"f").observe(e)),this.relayout(),$(this,B,new MutationObserver(e=>{e.forEach(r=>{r.addedNodes.forEach(s=>s instanceof HTMLElement&&P(this,I,"f").observe(s)),r.removedNodes.forEach(s=>s instanceof HTMLElement&&P(this,I,"f").unobserve(s))}),this.relayout()}),"f"),P(this,B,"f").observe(this,{childList:!0,attributes:!1}),$(this,Q,new MutationObserver(()=>this.relayout()),"f"),P(this,Q,"f").observe(this,{childList:!1,attributes:!0})}disconnectedCallback(){P(this,I,"f").disconnect(),P(this,B,"f").disconnect(),P(this,Q,"f").disconnect()}relayout(){P(this,D,"f")||($(this,D,!0,"f"),requestAnimationFrame(()=>{P(this,te,"m",Le).call(this),$(this,D,!1,"f")}))}}I=new WeakMap,B=new WeakMap,Q=new WeakMap,D=new WeakMap,te=new WeakSet,Le=function(){Ar(this,{getW:t=>t.offsetWidth,setW:(t,e)=>t.style.width=e+"px",getH:t=>(t._fl_w=t.offsetWidth,t._fl_h=t.offsetHeight),setH:(t,e)=>t.style.height=e+"px",getPad:t=>{const e=getComputedStyle(t);return[parseInt(e.paddingTop),parseInt(e.paddingRight),-parseInt(e.paddingTop),parseInt(e.paddingLeft)]},setX:(t,e)=>t.style.left=e+"px",setY:(t,e)=>t.style.top=e+"px",getChildren:t=>t.children},{cols:this.cols,gap:this.gap}),this._fl_w=this.offsetWidth,this._fl_h=this.offsetHeight,P(this,Q,"f").takeRecords()},Object.defineProperty(W,"default_props",{enumerable:!0,configurable:!0,writable:!0,value:Object.freeze({cols:2,gap:4})}),customElements.define("wc-waterfall",W);const Br="_nav_1cnmc_1",Dr="_root_1cnmc_10",Wr="_subnav_1cnmc_14",Ur="_play_1cnmc_19",zr="_disablePlay_1cnmc_26",Z={nav:Br,root:Dr,subnav:Wr,play:Ur,disablePlay:zr},ke=5,Vr=[],Hr=({page:t,size:e=ke,error:r})=>new Promise((s,n)=>{if(r){n();return}setTimeout(()=>{const a=[],i=t*e;for(let d=i-e;d<i;d++)a.push({src:Vr[Math.floor(Math.random()*10)],name:"string",tag:["1","2","3","4","5","6"],_id:`${Date.now()}_${t}_${d}`});const l={data:a,total:100};console.log(l),s(l)},1e3)}),Zr=({onClick:t,...e})=>{const r=c.useRef(null),s=c.useCallback(()=>{var a,i;(i=(a=r.current)==null?void 0:a.audioEl.current)==null||i.play()},[]),n=c.useCallback(a=>{s(),t==null||t(a)},[t,s]);return y.jsxs(y.Fragment,{children:[y.jsx(ct,{ref:r,src:"./warning.mp3"}),y.jsx(ot,{fontSize:32,onClick:n,...e})]})};var Se=(t=>(t.全部="0",t.人物="1",t.静物="2",t))(Se||{}),Pe=(t=>(t.全部="0",t.男="1",t.女="2",t.组合="3",t))(Pe||{}),Fe=(t=>(t.全部="0",t.动态="1",t.角色="2",t.头像="3",t.半身="4",t.手足="5",t.五官="6",t.解剖="7",t.动漫="8",t))(Fe||{});const Y=t=>Object.keys(t).map((e,r)=>({label:e,value:Object.values(t)[r]})),Xr=({onFilter:t,models:e=[],defaultValues:r={},...s})=>{const n=ce.useForm()[0],a=c.useRef(["category","gender","sub","md"]),[i,l]=c.useState(!0),d=c.useCallback(f=>{const m=[];for(const C in f)if(Object.prototype.hasOwnProperty.call(f,C)){const p=f[C];p!=null&&p.includes("0")&&m.push(C),m.push()}a.current=m},[]),h=c.useCallback(()=>{r&&n&&(n.setFieldsValue(r),d(r)),!r.category.includes("0")&&!r.category.includes("1")?l(!1):l(!0)},[r,d,n]);c.useEffect(()=>{h()},[h]);const b=c.useCallback((f,m)=>{const C=Object.keys(f)[0],p=Object.values(f)[0];p!=null&&p.includes("0")&&(a.current.includes(C)?n.setFieldValue(C,p.filter(w=>w!=="0")):n.setFieldValue(C,["0"])),d(m)},[d,n]),u=c.useCallback(()=>{const f=n.getFieldValue("category")||[];!f.includes("0")&&!f.includes("1")?l(!1):l(!0)},[n]),E=c.useCallback(()=>{const f=n.getFieldsValue(),m={};for(const C in f)if(Object.prototype.hasOwnProperty.call(f,C)){const p=f[C];p!=null&&p.length&&(m[C]=p)}t==null||t(m)},[n,t]);return y.jsx(ut,{...s,children:y.jsxs(ce,{form:n,onValuesChange:b,onFieldsChange:u,onFinish:E,footer:y.jsx(dt,{type:"submit",block:!0,color:"primary",children:"确定"}),children:[y.jsx(z,{name:"category",label:"类别",children:y.jsx(H,{multiple:!0,options:Y(Se)})}),i?y.jsx(z,{name:"gender",label:"性别",children:y.jsx(H,{multiple:!0,options:Y(Pe)})}):null,i?y.jsx(z,{name:"sub",label:"属性",children:y.jsx(H,{multiple:!0,options:Y(Fe)})}):null,e!=null&&e.length?y.jsx(z,{name:"md",label:"模特",children:y.jsx(H,{multiple:!0,options:[{label:y.jsxs("div",{children:[y.jsx(xe,{}),y.jsx("div",{children:"全部"})]}),value:"0"}].concat((e==null?void 0:e.map((f,m)=>({label:y.jsx(Er,{src:f.src},m),value:f.id})))||[])})}):null]})})},qr=({name:t="list"})=>{Ye(t);const{selected:e}=ft(N),r=Ge(),[s,n]=c.useState(!1),[a,i]=c.useState(!1),[l,d]=c.useState({category:["2"],md:["0"],gender:["0"],sub:["0"]}),h=oe("(min-width: 768px)"),b=oe("(min-width: 1024px)"),u={cols:3,gap:10};h&&(u.cols=6),b&&(u.cols=8);const E=c.useRef(!0),f=c.useCallback(async({page:v})=>Hr({page:v,error:!1}).catch(S=>{throw E.current=!1,S}),[]),{isLoading:m,data:C,fetchNextPage:p,isFetchedAfterMount:w,isError:k}=jt({queryKey:["InventoryInquiry"],queryFn:({pageParam:v})=>f(v||{page:1}),getNextPageParam:(v,S)=>{const{total:O}=v,T=S.length,Oe=S.length*ke;if(O>Oe)return{page:T+1};E.current=!1},refetchOnWindowFocus:!1}),x=(C==null?void 0:C.pages.flatMap(v=>v.data))||[],R=c.useCallback((v,S)=>{var O;v||(N.selected=(N.selected||[]).concat(S)),v&&(N.selected=(O=N.selected)==null?void 0:O.filter(T=>T._id!==S._id))},[]),L=c.useCallback(()=>{n(!1)},[]),g=c.useCallback(()=>{r("/view")},[r]),F=c.useCallback(v=>{i(!1),d(v)},[]);return y.jsxs("div",{className:Z.root,children:[!(x!=null&&x.length)&&w?"暂无数据":null,m&&!w?y.jsx(Ke,{}):null,y.jsx("div",{className:Z.nav,children:y.jsx(ht,{onBack:()=>{},right:y.jsxs(ge,{children:[y.jsx(wr,{content:(e==null?void 0:e.length)||null,children:y.jsx(xe,{fontSize:24,onClick:()=>n(!0)})}),y.jsx("span",{children:" "}),y.jsx(yr,{fontSize:24,onClick:()=>i(!0)})]}),children:"选择图片"})}),y.jsx("wc-waterfall",{...u,children:x.map((v,S)=>{const O=e==null?void 0:e.some(T=>v._id===T._id);return y.jsx(mt,{src:v.src,toggleType:O?["icon"]:["block","icon"],selected:O,onToggle:T=>R(T,v)},S)})}),!k&&(x!=null&&x.length)?y.jsx(Tr,{loadMore:p,hasMore:E.current}):null,y.jsx(pt,{visible:s,onMaskClick:()=>n(!1),onClear:L}),y.jsx(kr,{axis:"xy",magnetic:"x",className:q(Z.play,{[Z.disablePlay]:!(e!=null&&e.length)}),children:y.jsx(Zr,{fontSize:32,onClick:()=>(e==null?void 0:e.length)&&g()})}),y.jsx(Xr,{visible:a,onMaskClick:()=>i(!1),defaultValues:l,onFilter:F,models:[{src:"https://www.eightfeet.cn/md1/assets/models/039-y&700&707.jpg",id:"1"}]})]})},Jr=qr;export{Jr as default};
